/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
var paper,io;(function(n,t){function dt(n){var t=n.length,r=i.type(n);return i.isWindow(n)?!1:n.nodeType===1&&t?!0:r==="array"||r!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in n)}function kf(n){var t=gt[n]={};return i.each(n.match(s)||[],function(n,i){t[i]=!0}),t}function ir(n,r,u,f){if(i.acceptData(n)){var s,h,c=i.expando,a=typeof r=="string",l=n.nodeType,o=l?i.cache:n,e=l?n[c]:n[c]&&c;if(e&&o[e]&&(f||o[e].data)||!a||u!==t)return e||(l?n[c]=e=b.pop()||i.guid++:e=c),o[e]||(o[e]={},l||(o[e].toJSON=i.noop)),(typeof r=="object"||typeof r=="function")&&(f?o[e]=i.extend(o[e],r):o[e].data=i.extend(o[e].data,r)),s=o[e],f||(s.data||(s.data={}),s=s.data),u!==t&&(s[i.camelCase(r)]=u),a?(h=s[r],h==null&&(h=s[i.camelCase(r)])):h=s,h}}function rr(n,t,r){if(i.acceptData(n)){var o,h,e,s=n.nodeType,u=s?i.cache:n,f=s?n[i.expando]:i.expando;if(u[f]){if(t&&(e=r?u[f]:u[f].data,e)){for(i.isArray(t)?t=t.concat(i.map(t,i.camelCase)):(t in e)?t=[t]:(t=i.camelCase(t),t=t in e?[t]:t.split(" ")),o=0,h=t.length;o<h;o++)delete e[t[o]];if(!(r?ni:i.isEmptyObject)(e))return}(r||(delete u[f].data,ni(u[f])))&&(s?i.cleanData([n],!0):i.support.deleteExpando||u!=u.window?delete u[f]:u[f]=null)}}}function ur(n,r,u){if(u===t&&n.nodeType===1){var f="data-"+r.replace(tr,"-$1").toLowerCase();if(u=n.getAttribute(f),typeof u=="string"){try{u=u==="true"?!0:u==="false"?!1:u==="null"?null:+u+""===u?+u:nr.test(u)?i.parseJSON(u):u}catch(e){}i.data(n,r,u)}else u=t}return u}function ni(n){for(var t in n)if((t!=="data"||!i.isEmptyObject(n[t]))&&t!=="toJSON")return!1;return!0}function ht(){return!0}function d(){return!1}function cr(n,t){do n=n[t];while(n&&n.nodeType!==1);return n}function lr(n,t,r){if(t=t||0,i.isFunction(t))return i.grep(n,function(n,i){var u=!!t.call(n,i,n);return u===r});if(t.nodeType)return i.grep(n,function(n){return n===t===r});if(typeof t=="string"){var u=i.grep(n,function(n){return n.nodeType===1});if(fe.test(t))return i.filter(t,u,!r);t=i.filter(t,u)}return i.grep(n,function(n){return i.inArray(n,t)>=0===r})}function ar(n){var i=vr.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function ye(n,t){return n.getElementsByTagName(t)[0]||n.appendChild(n.ownerDocument.createElement(t))}function dr(n){var t=n.getAttributeNode("type");return n.type=(t&&t.specified)+"/"+n.type,n}function gr(n){var t=le.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function si(n,t){for(var u,r=0;(u=n[r])!=null;r++)i._data(u,"globalEval",!t||i._data(t[r],"globalEval"))}function nu(n,t){if(t.nodeType===1&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;f<o;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function pe(n,t){var r,f,u;if(t.nodeType===1){if(r=t.nodeName.toLowerCase(),!i.support.noCloneEvent&&t[i.expando]){u=i._data(t);for(f in u.events)i.removeEvent(t,f,u.handle);t.removeAttribute(i.expando)}r==="script"&&t.text!==n.text?(dr(t).text=n.text,gr(t)):r==="object"?(t.parentNode&&(t.outerHTML=n.outerHTML),i.support.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):r==="input"&&ei.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):r==="option"?t.defaultSelected=t.selected=n.defaultSelected:(r==="input"||r==="textarea")&&(t.defaultValue=n.defaultValue)}}function u(n,r){var s,e,h=0,f=typeof n.getElementsByTagName!==o?n.getElementsByTagName(r||"*"):typeof n.querySelectorAll!==o?n.querySelectorAll(r||"*"):t;if(!f)for(f=[],s=n.childNodes||n;(e=s[h])!=null;h++)!r||i.nodeName(e,r)?f.push(e):i.merge(f,u(e,r));return r===t||r&&i.nodeName(n,r)?i.merge([n],f):f}function we(n){ei.test(n.type)&&(n.defaultChecked=n.checked)}function fu(n,t){if(t in n)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),u=t,i=uu.length;i--;)if(t=uu[i]+r,t in n)return t;return u}function ut(n,t){return n=t||n,i.css(n,"display")==="none"||!i.contains(n.ownerDocument,n)}function eu(n,t){for(var f,r,o,e=[],u=0,s=n.length;u<s;u++)(r=n[u],r.style)&&(e[u]=i._data(r,"olddisplay"),f=r.style.display,t?(e[u]||f!=="none"||(r.style.display=""),r.style.display===""&&ut(r)&&(e[u]=i._data(r,"olddisplay",cu(r.nodeName)))):e[u]||(o=ut(r),(f&&f!=="none"||!o)&&i._data(r,"olddisplay",o?f:i.css(r,"display"))));for(u=0;u<s;u++)(r=n[u],r.style)&&(t&&r.style.display!=="none"&&r.style.display!==""||(r.style.display=t?e[u]||"":"none"));return n}function ou(n,t,i){var r=ge.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function su(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:t==="width"?1:0,o=0;e<4;e+=2)r==="margin"&&(o+=i.css(n,r+p[e],!0,f)),u?(r==="content"&&(o-=i.css(n,"padding"+p[e],!0,f)),r!=="margin"&&(o-=i.css(n,"border"+p[e]+"Width",!0,f))):(o+=i.css(n,"padding"+p[e],!0,f),r!=="padding"&&(o+=i.css(n,"border"+p[e]+"Width",!0,f)));return o}function hu(n,t,r){var e=!0,u=t==="width"?n.offsetWidth:n.offsetHeight,f=v(n),o=i.support.boxSizing&&i.css(n,"boxSizing",!1,f)==="border-box";if(u<=0||u==null){if(u=y(n,t,f),(u<0||u==null)&&(u=n.style[t]),ct.test(u))return u;e=o&&(i.support.boxSizingReliable||u===n.style[t]);u=parseFloat(u)||0}return u+su(n,t,r||(o?"border":"content"),e,f)+"px"}function cu(n){var u=r,t=iu[n];return t||(t=lu(n,u),t!=="none"&&t||(rt=(rt||i("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(u.documentElement),u=(rt[0].contentWindow||rt[0].contentDocument).document,u.write("<!doctype html><html><body>"),u.close(),t=lu(n,u),rt.detach()),iu[n]=t),t}function lu(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.remove(),u}function ci(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||ro.test(n)?u(n,i):ci(n+"["+(typeof i=="object"?t:"")+"]",i,r,u)});else if(r||i.type(t)!=="object")u(n,t);else for(f in t)ci(n+"["+f+"]",t[f],r,u)}function ku(n){return function(t,r){typeof t!="string"&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(s)||[];if(i.isFunction(r))while(u=e[f++])u[0]==="+"?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function du(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===vi;return e(t.dataTypes[0])||!f["*"]&&e("*")}function yi(n,r){var f,u,e=i.ajaxSettings.flatOptions||{};for(u in r)r[u]!==t&&((e[u]?n:f||(f={}))[u]=r[u]);return f&&i.extend(!0,n,f),n}function co(n,i,r){var s,o,e,u,h=n.contents,f=n.dataTypes,c=n.responseFields;for(u in c)u in r&&(i[c[u]]=r[u]);while(f[0]==="*")f.shift(),o===t&&(o=n.mimeType||i.getResponseHeader("Content-Type"));if(o)for(u in h)if(h[u]&&h[u].test(o)){f.unshift(u);break}if(f[0]in r)e=f[0];else{for(u in r){if(!f[0]||n.converters[u+" "+f[0]]){e=u;break}s||(s=u)}e=e||s}if(e)return e!==f[0]&&f.unshift(e),r[e]}function lo(n,t){var o,r,i,e,u={},h=0,s=n.dataTypes.slice(),f=s[0];if(n.dataFilter&&(t=n.dataFilter(t,n.dataType)),s[1])for(i in n.converters)u[i.toLowerCase()]=n.converters[i];for(;r=s[++h];)if(r!=="*"){if(f!=="*"&&f!==r){if(i=u[f+" "+r]||u["* "+r],!i)for(o in u)if(e=o.split(" "),e[1]===r&&(i=u[f+" "+e[0]]||u["* "+e[0]],i)){i===!0?i=u[o]:u[o]!==!0&&(r=e[0],s.splice(h--,0,r));break}if(i!==!0)if(i&&n.throws)t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+f+" to "+r}}}f=r}return{state:"success",data:t}}function nf(){try{return new n.XMLHttpRequest}catch(t){}}function ao(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function tf(){return setTimeout(function(){tt=t}),tt=i.now()}function wo(n,t){i.each(t,function(t,i){for(var u=(ft[t]||[]).concat(ft["*"]),r=0,f=u.length;r<f;r++)if(u[r].call(n,t,i))return})}function rf(n,t,r){var e,o,s=0,l=yt.length,f=i.Deferred().always(function(){delete c.elem}),c=function(){if(o)return!1;for(var s=tt||tf(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:tt||tf(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;i<r;i++)u.tweens[i].run(1);return t?f.resolveWith(n,[u,t]):f.rejectWith(n,[u,t]),this}}),h=u.props;for(bo(h,u.opts.specialEasing);s<l;s++)if(e=yt[s].call(u,n,h,u.opts),e)return e;return wo(u,h),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(c,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function bo(n,t){var u,f,r,e,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function ko(n,t,r){var u,o,v,a,s,y,l,f,b,h=this,e=n.style,p={},w=[],c=n.nodeType&&ut(n);r.queue||(f=i._queueHooks(n,"fx"),f.unqueued==null&&(f.unqueued=0,b=f.empty.fire,f.empty.fire=function(){f.unqueued||b()}),f.unqueued++,h.always(function(){h.always(function(){f.unqueued--;i.queue(n,"fx").length||f.empty.fire()})}));n.nodeType===1&&("height"in t||"width"in t)&&(r.overflow=[e.overflow,e.overflowX,e.overflowY],i.css(n,"display")==="inline"&&i.css(n,"float")==="none"&&(i.support.inlineBlockNeedsLayout&&cu(n.nodeName)!=="inline"?e.zoom=1:e.display="inline-block"));r.overflow&&(e.overflow="hidden",i.support.shrinkWrapBlocks||h.always(function(){e.overflow=r.overflow[0];e.overflowX=r.overflow[1];e.overflowY=r.overflow[2]}));for(o in t)if(a=t[o],vo.exec(a)){if(delete t[o],y=y||a==="toggle",a===(c?"hide":"show"))continue;w.push(o)}if(v=w.length,v)for(s=i._data(n,"fxshow")||i._data(n,"fxshow",{}),("hidden"in s)&&(c=s.hidden),y&&(s.hidden=!c),c?i(n).show():h.done(function(){i(n).hide()}),h.done(function(){var t;i._removeData(n,"fxshow");for(t in p)i.style(n,t,p[t])}),o=0;o<v;o++)u=w[o],l=h.createTween(u,c?s[u]:0),p[u]=s[u]||i.style(n,u),u in s||(s[u]=l.start,c&&(l.end=l.start,l.start=u==="width"||u==="height"?1:0))}function f(n,t,i,r,u){return new f.prototype.init(n,t,i,r,u)}function pt(n,t){var r,i={height:n},u=0;for(t=t?1:0;u<4;u+=2-t)r=p[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function uf(n){return i.isWindow(n)?n:n.nodeType===9?n.defaultView||n.parentWindow:!1}var et,wi,o=typeof t,r=n.document,ff=n.location,ef=n.jQuery,of=n.$,ot={},b=[],wt="1.9.1",bi=b.concat,bt=b.push,l=b.slice,ki=b.indexOf,sf=ot.toString,it=ot.hasOwnProperty,kt=wt.trim,i=function(n,t){return new i.fn.init(n,t,wi)},st=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=/\S+/g,hf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,cf=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,di=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,lf=/^[\],:{}\s]*$/,af=/(?:^|:|,)(?:\s*\[)+/g,vf=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yf=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,pf=/^-ms-/,wf=/-([\da-z])/gi,bf=function(n,t){return t.toUpperCase()},h=function(n){(r.addEventListener||n.type==="load"||r.readyState==="complete")&&(gi(),i.ready())},gi=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",h,!1),n.removeEventListener("load",h,!1)):(r.detachEvent("onreadystatechange",h),n.detachEvent("onload",h))},gt,nr,tr,pi,lt,g,nt,gu,at;i.fn=i.prototype={jquery:wt,constructor:i,init:function(n,u,f){var e,o;if(!n)return this;if(typeof n=="string"){if(e=n.charAt(0)==="<"&&n.charAt(n.length-1)===">"&&n.length>=3?[null,n,null]:cf.exec(n),e&&(e[1]||!u)){if(e[1]){if(u=u instanceof i?u[0]:u,i.merge(this,i.parseHTML(e[1],u&&u.nodeType?u.ownerDocument||u:r,!0)),di.test(e[1])&&i.isPlainObject(u))for(e in u)i.isFunction(this[e])?this[e](u[e]):this.attr(e,u[e]);return this}if(o=r.getElementById(e[2]),o&&o.parentNode){if(o.id!==e[2])return f.find(n);this.length=1;this[0]=o}return this.context=r,this.selector=n,this}return!u||u.jquery?(u||f).find(n):this.constructor(u).find(n)}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?f.ready(n):(n.selector!==t&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(n){return n==null?this.toArray():n<0?this[this.length+n]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n,t){return i.each(this,n,t)},ready:function(n){return i.ready.promise().done(n),this},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:bt,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var u,o,r,e,s,h,n=arguments[0]||{},f=1,l=arguments.length,c=!1;for(typeof n=="boolean"&&(c=n,n=arguments[1]||{},f=2),typeof n=="object"||i.isFunction(n)||(n={}),l===f&&(n=this,--f);f<l;f++)if((s=arguments[f])!=null)for(e in s)(u=n[e],r=s[e],n!==r)&&(c&&r&&(i.isPlainObject(r)||(o=i.isArray(r)))?(o?(o=!1,h=u&&i.isArray(u)?u:[]):h=u&&i.isPlainObject(u)?u:{},n[e]=i.extend(c,h,r)):r!==t&&(n[e]=r));return n};i.extend({noConflict:function(t){return n.$===i&&(n.$=of),t&&n.jQuery===i&&(n.jQuery=ef),i},isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){if(n===!0?!--i.readyWait:!i.isReady){if(!r.body)return setTimeout(i.ready);(i.isReady=!0,n!==!0&&--i.readyWait>0)||(et.resolveWith(r,[i]),i.fn.trigger&&i(r).trigger("ready").off("ready"))}},isFunction:function(n){return i.type(n)==="function"},isArray:Array.isArray||function(n){return i.type(n)==="array"},isWindow:function(n){return n!=null&&n==n.window},isNumeric:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},type:function(n){return n==null?String(n):typeof n=="object"||typeof n=="function"?ot[sf.call(n)]||"object":typeof n},isPlainObject:function(n){if(!n||i.type(n)!=="object"||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!it.call(n,"constructor")&&!it.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}for(var r in n);return r===t||it.call(n,r)},isEmptyObject:function(n){for(var t in n)return!1;return!0},error:function(n){throw new Error(n);},parseHTML:function(n,t,u){if(!n||typeof n!="string")return null;typeof t=="boolean"&&(u=t,t=!1);t=t||r;var f=di.exec(n),e=!u&&[];return f?[t.createElement(f[1])]:(f=i.buildFragment([n],t,e),e&&i(e).remove(),i.merge([],f.childNodes))},parseJSON:function(t){if(n.JSON&&n.JSON.parse)return n.JSON.parse(t);if(t===null)return t;if(typeof t=="string"&&(t=i.trim(t),t&&lf.test(t.replace(vf,"@").replace(yf,"]").replace(af,""))))return new Function("return "+t)();i.error("Invalid JSON: "+t)},parseXML:function(r){var u,f;if(!r||typeof r!="string")return null;try{n.DOMParser?(f=new DOMParser,u=f.parseFromString(r,"text/xml")):(u=new ActiveXObject("Microsoft.XMLDOM"),u.async="false",u.loadXML(r))}catch(e){u=t}return u&&u.documentElement&&!u.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+r),u},noop:function(){},globalEval:function(t){t&&i.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(pf,"ms-").replace(wf,bf)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t,i){var u,r=0,f=n.length,e=dt(n);if(i){if(e){for(;r<f;r++)if(u=t.apply(n[r],i),u===!1)break}else for(r in n)if(u=t.apply(n[r],i),u===!1)break}else if(e){for(;r<f;r++)if(u=t.call(n[r],r,n[r]),u===!1)break}else for(r in n)if(u=t.call(n[r],r,n[r]),u===!1)break;return n},trim:kt&&!kt.call("﻿ ")?function(n){return n==null?"":kt.call(n)}:function(n){return n==null?"":(n+"").replace(hf,"")},makeArray:function(n,t){var r=t||[];return n!=null&&(dt(Object(n))?i.merge(r,typeof n=="string"?[n]:n):bt.call(r,n)),r},inArray:function(n,t,i){var r;if(t){if(ki)return ki.call(t,n,i);for(r=t.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,i){var f=i.length,u=n.length,r=0;if(typeof f=="number")for(;r<f;r++)n[u++]=i[r];else while(i[r]!==t)n[u++]=i[r++];return n.length=u,n},grep:function(n,t,i){var u,f=[],r=0,e=n.length;for(i=!!i;r<e;r++)u=!!t(n[r],r),i!==u&&f.push(n[r]);return f},map:function(n,t,i){var u,r=0,e=n.length,o=dt(n),f=[];if(o)for(;r<e;r++)u=t(n[r],r,i),u!=null&&(f[f.length]=u);else for(r in n)u=t(n[r],r,i),u!=null&&(f[f.length]=u);return bi.apply([],f)},guid:1,proxy:function(n,r){var f,u,e;return(typeof r=="string"&&(e=n[r],r=n,n=e),!i.isFunction(n))?t:(f=l.call(arguments,2),u=function(){return n.apply(r||this,f.concat(l.call(arguments)))},u.guid=n.guid=n.guid||i.guid++,u)},access:function(n,r,u,f,e,o,s){var h=0,l=n.length,c=u==null;if(i.type(u)==="object"){e=!0;for(h in u)i.access(n,r,h,u[h],!0,o,s)}else if(f!==t&&(e=!0,i.isFunction(f)||(s=!0),c&&(s?(r.call(n,f),r=null):(c=r,r=function(n,t,r){return c.call(i(n),r)})),r))for(;h<l;h++)r(n[h],u,s?f:f.call(n[h],h,r(n[h],u)));return e?n:c?r.call(n):l?r(n[0],u):o},now:function(){return(new Date).getTime()}});i.ready.promise=function(t){if(!et)if(et=i.Deferred(),r.readyState==="complete")setTimeout(i.ready);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",h,!1),n.addEventListener("load",h,!1);else{r.attachEvent("onreadystatechange",h);n.attachEvent("onload",h);var u=!1;try{u=n.frameElement==null&&r.documentElement}catch(e){}u&&u.doScroll&&function f(){if(!i.isReady){try{u.doScroll("left")}catch(n){return setTimeout(f,50)}gi();i.ready()}}()}return et.promise(t)};i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(n,t){ot["[object "+t+"]"]=t.toLowerCase()});wi=i(r);gt={};i.Callbacks=function(n){n=typeof n=="string"?gt[n]||kf(n):i.extend({},n);var o,f,c,s,e,l,r=[],u=!n.once&&[],a=function(t){for(f=n.memory&&t,c=!0,e=l||0,l=0,s=r.length,o=!0;r&&e<s;e++)if(r[e].apply(t[0],t[1])===!1&&n.stopOnFalse){f=!1;break}o=!1;r&&(u?u.length&&a(u.shift()):f?r=[]:h.disable())},h={add:function(){if(r){var t=r.length;(function u(t){i.each(t,function(t,f){var e=i.type(f);e==="function"?n.unique&&h.has(f)||r.push(f):f&&f.length&&e!=="string"&&u(f)})})(arguments);o?s=r.length:f&&(l=t,a(f))}return this},remove:function(){return r&&i.each(arguments,function(n,t){for(var u;(u=i.inArray(t,r,u))>-1;)r.splice(u,1),o&&(u<=s&&s--,u<=e&&e--)}),this},has:function(n){return n?i.inArray(n,r)>-1:!!(r&&r.length)},empty:function(){return r=[],this},disable:function(){return r=u=f=t,this},disabled:function(){return!r},lock:function(){return u=t,f||h.disable(),this},locked:function(){return!u},fireWith:function(n,t){return t=t||[],t=[n,t.slice?t.slice():t],r&&(!c||u)&&(o?u.push(t):a(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var s=e[0],o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[s+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return n!=null?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[n^1][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=l.call(arguments),r=u.length,e=r!==1||n&&i.isFunction(n.promise)?r:0,f=e===1?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?l.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);t<r;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().done(h(t,s,u)).fail(f.reject).progress(h(t,c,o)):--e;return e||f.resolveWith(s,u),f.promise()}});i.support=function(){var u,s,e,f,h,c,l,a,y,v,t=r.createElement("div");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>",s=t.getElementsByTagName("*"),e=t.getElementsByTagName("a")[0],!s||!e||!s.length)return{};h=r.createElement("select");l=h.appendChild(r.createElement("option"));f=t.getElementsByTagName("input")[0];e.style.cssText="top:1px;float:left;opacity:.5";u={getSetAttribute:t.className!=="t",leadingWhitespace:t.firstChild.nodeType===3,tbody:!t.getElementsByTagName("tbody").length,htmlSerialize:!!t.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.5/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:!!f.value,optSelected:l.selected,enctype:!!r.createElement("form").enctype,html5Clone:r.createElement("nav").cloneNode(!0).outerHTML!=="<:nav><\/:nav>",boxModel:r.compatMode==="CSS1Compat",deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};f.checked=!0;u.noCloneChecked=f.cloneNode(!0).checked;h.disabled=!0;u.optDisabled=!l.disabled;try{delete t.test}catch(p){u.deleteExpando=!1}f=r.createElement("input");f.setAttribute("value","");u.input=f.getAttribute("value")==="";f.value="t";f.setAttribute("type","radio");u.radioValue=f.value==="t";f.setAttribute("checked","t");f.setAttribute("name","t");c=r.createDocumentFragment();c.appendChild(f);u.appendChecked=f.checked;u.checkClone=c.cloneNode(!0).cloneNode(!0).lastChild.checked;t.attachEvent&&(t.attachEvent("onclick",function(){u.noCloneEvent=!1}),t.cloneNode(!0).click());for(v in{submit:!0,change:!0,focusin:!0})t.setAttribute(a="on"+v,"t"),u[v+"Bubbles"]=a in n||t.attributes[a].expando===!1;return t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle=t.style.backgroundClip==="content-box",i(function(){var e,f,i,h="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=r.getElementsByTagName("body")[0];s&&(e=r.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(e).appendChild(t),t.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",i=t.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",y=i[0].offsetHeight===0,i[0].style.display="",i[1].style.display="none",u.reliableHiddenOffsets=y&&i[0].offsetHeight===0,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",u.boxSizing=t.offsetWidth===4,u.doesNotIncludeMarginInBodyOffset=s.offsetTop!==1,n.getComputedStyle&&(u.pixelPosition=(n.getComputedStyle(t,null)||{}).top!=="1%",u.boxSizingReliable=(n.getComputedStyle(t,null)||{width:"4px"}).width==="4px",f=t.appendChild(r.createElement("div")),f.style.cssText=t.style.cssText=h,f.style.marginRight=f.style.width="0",t.style.width="1px",u.reliableMarginRight=!parseFloat((n.getComputedStyle(f,null)||{}).marginRight)),typeof t.style.zoom!==o&&(t.innerHTML="",t.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",u.inlineBlockNeedsLayout=t.offsetWidth===3,t.style.display="block",t.innerHTML="<div><\/div>",t.firstChild.style.width="5px",u.shrinkWrapBlocks=t.offsetWidth!==3,u.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(e),e=t=i=f=null)}),s=h=c=l=e=f=null,u}();nr=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;tr=/([A-Z])/g;i.extend({cache:{},expando:"jQuery"+(wt+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!ni(n)},data:function(n,t,i){return ir(n,t,i)},removeData:function(n,t){return rr(n,t)},_data:function(n,t,i){return ir(n,t,i,!0)},_removeData:function(n,t){return rr(n,t,!0)},acceptData:function(n){if(n.nodeType&&n.nodeType!==1&&n.nodeType!==9)return!1;var t=n.nodeName&&i.noData[n.nodeName.toLowerCase()];return!t||t!==!0&&n.getAttribute("classid")===t}});i.fn.extend({data:function(n,r){var e,f,u=this[0],o=0,s=null;if(n===t){if(this.length&&(s=i.data(u),u.nodeType===1&&!i._data(u,"parsedAttrs"))){for(e=u.attributes;o<e.length;o++)f=e[o].name,f.indexOf("data-")||(f=i.camelCase(f.slice(5)),ur(u,f,s[f]));i._data(u,"parsedAttrs",!0)}return s}return typeof n=="object"?this.each(function(){i.data(this,n)}):i.access(this,function(r){if(r===t)return u?ur(u,n,i.data(u,n)):null;this.each(function(){i.data(this,n,r)})},null,r,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({queue:function(n,t,r){var u;if(n)return t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[]},dequeue:function(n,t){t=t||"fx";var f=i.queue(n,t),e=f.length,r=f.shift(),u=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};r==="inprogress"&&(r=f.shift(),e--);u.cur=r;r&&(t==="fx"&&f.unshift("inprogress"),delete u.stop,r.call(n,o,u));!e&&u&&u.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i._removeData(n,t+"queue");i._removeData(n,r)})})}});i.fn.extend({queue:function(n,r){var u=2;return(typeof n!="string"&&(r=n,n="fx",u--),arguments.length<u)?i.queue(this[0],n):r===t?this:this.each(function(){var t=i.queue(this,n,r);i._queueHooks(this,n);n==="fx"&&t[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},delay:function(n,t){return n=i.fx?i.fx.speeds[n]||n:n,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,n);i.stop=function(){clearTimeout(r)}})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(r=n,n=t),n=n||"fx";s--;)u=i._data(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(r)}});var k,fr,ti=/[\t\r\n]/g,df=/\r/g,gf=/^(?:input|select|textarea|button|object)$/i,ne=/^(?:a|area)$/i,er=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ii=/^(?:checked|selected)$/i,a=i.support.getSetAttribute,ri=i.support.input;i.fn.extend({attr:function(n,t){return i.access(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})},prop:function(n,t){return i.access(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=t;delete this[n]}catch(i){}})},addClass:function(n){var e,t,r,u,o,f=0,h=this.length,c=typeof n=="string"&&n;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];f<h;f++)if(t=this[f],r=t.nodeType===1&&(t.className?(" "+t.className+" ").replace(ti," "):" "),r){for(o=0;u=e[o++];)r.indexOf(" "+u+" ")<0&&(r+=u+" ");t.className=i.trim(r)}return this},removeClass:function(n){var e,r,t,u,o,f=0,h=this.length,c=arguments.length===0||typeof n=="string"&&n;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,this.className))});if(c)for(e=(n||"").match(s)||[];f<h;f++)if(r=this[f],t=r.nodeType===1&&(r.className?(" "+r.className+" ").replace(ti," "):""),t){for(o=0;u=e[o++];)while(t.indexOf(" "+u+" ")>=0)t=t.replace(" "+u+" "," ");r.className=n?i.trim(t):""}return this},toggleClass:function(n,t){var r=typeof n,u=typeof t=="boolean";return i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,this.className,t),t)}):this.each(function(){if(r==="string")for(var f,c=0,h=i(this),e=t,l=n.match(s)||[];f=l[c++];)e=u?e:!h.hasClass(f),h[e?"addClass":"removeClass"](f);else(r===o||r==="boolean")&&(this.className&&i._data(this,"__className__",this.className),this.className=this.className||n===!1?"":i._data(this,"__className__")||"")})},hasClass:function(n){for(var i=" "+n+" ",t=0,r=this.length;t<r;t++)if(this[t].nodeType===1&&(" "+this[t].className+" ").replace(ti," ").indexOf(i)>=0)return!0;return!1},val:function(n){var u,r,e,f=this[0];return arguments.length?(e=i.isFunction(n),this.each(function(u){var f,o=i(this);this.nodeType===1&&(f=e?n.call(this,u,o.val()):n,f==null?f="":typeof f=="number"?f+="":i.isArray(f)&&(f=i.map(f,function(n){return n==null?"":n+""})),r=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,f,"value")!==t||(this.value=f))})):f?(r=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],r&&"get"in r&&(u=r.get(f,"value"))!==t)?u:(u=f.value,typeof u=="string"?u.replace(df,""):u==null?"":u):void 0}});i.extend({valHooks:{option:{get:function(n){var t=n.attributes.value;return!t||t.specified?n.value:n.text}},select:{get:function(n){for(var e,t,o=n.options,r=n.selectedIndex,u=n.type==="select-one"||r<0,s=u?null:[],h=u?r+1:o.length,f=r<0?h:u?r:0;f<h;f++)if(t=o[f],(t.selected||f===r)&&(i.support.optDisabled?!t.disabled:t.getAttribute("disabled")===null)&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(e=i(t).val(),u)return e;s.push(e)}return s},set:function(n,t){var r=i.makeArray(t);return i(n).find("option").each(function(){this.selected=i.inArray(i(this).val(),r)>=0}),r.length||(n.selectedIndex=-1),r}}},attr:function(n,r,u){var f,s,e,h=n.nodeType;if(n&&h!==3&&h!==8&&h!==2){if(typeof n.getAttribute===o)return i.prop(n,r,u);if(s=h!==1||!i.isXMLDoc(n),s&&(r=r.toLowerCase(),f=i.attrHooks[r]||(er.test(r)?fr:k)),u!==t)if(u===null)i.removeAttr(n,r);else return f&&s&&"set"in f&&(e=f.set(n,u,r))!==t?e:(n.setAttribute(r,u+""),u);else return f&&s&&"get"in f&&(e=f.get(n,r))!==null?e:(typeof n.getAttribute!==o&&(e=n.getAttribute(r)),e==null?t:e)}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(s);if(f&&n.nodeType===1)while(r=f[e++])u=i.propFix[r]||r,er.test(r)?!a&&ii.test(r)?n[i.camelCase("default-"+r)]=n[u]=!1:n[u]=!1:i.attr(n,r,""),n.removeAttribute(a?r:u)},attrHooks:{type:{set:function(n,t){if(!i.support.radioValue&&t==="radio"&&i.nodeName(n,"input")){var r=n.value;return n.setAttribute("type",t),r&&(n.value=r),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(n,r,u){var e,f,s,o=n.nodeType;if(n&&o!==3&&o!==8&&o!==2)return s=o!==1||!i.isXMLDoc(n),s&&(r=i.propFix[r]||r,f=i.propHooks[r]),u!==t?f&&"set"in f&&(e=f.set(n,u,r))!==t?e:n[r]=u:f&&"get"in f&&(e=f.get(n,r))!==null?e:n[r]},propHooks:{tabIndex:{get:function(n){var i=n.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):gf.test(n.nodeName)||ne.test(n.nodeName)&&n.href?0:t}}}});fr={get:function(n,r){var u=i.prop(n,r),f=typeof u=="boolean"&&n.getAttribute(r),e=typeof u=="boolean"?ri&&a?f!=null:ii.test(r)?n[i.camelCase("default-"+r)]:!!f:n.getAttributeNode(r);return e&&e.value!==!1?r.toLowerCase():t},set:function(n,t,r){return t===!1?i.removeAttr(n,r):ri&&a||!ii.test(r)?n.setAttribute(!a&&i.propFix[r]||r,r):n[i.camelCase("default-"+r)]=n[r]=!0,r}};ri&&a||(i.attrHooks.value={get:function(n,r){var u=n.getAttributeNode(r);return i.nodeName(n,"input")?n.defaultValue:u&&u.specified?u.value:t},set:function(n,t,r){if(i.nodeName(n,"input"))n.defaultValue=t;else return k&&k.set(n,t,r)}});a||(k=i.valHooks.button={get:function(n,i){var r=n.getAttributeNode(i);return r&&(i==="id"||i==="name"||i==="coords"?r.value!=="":r.specified)?r.value:t},set:function(n,i,r){var u=n.getAttributeNode(r);return u||n.setAttributeNode(u=n.ownerDocument.createAttribute(r)),u.value=i+="",r==="value"||i===n.getAttribute(r)?i:t}},i.attrHooks.contenteditable={get:k.get,set:function(n,t,i){k.set(n,t===""?!1:t,i)}},i.each(["width","height"],function(n,t){i.attrHooks[t]=i.extend(i.attrHooks[t],{set:function(n,i){if(i==="")return n.setAttribute(t,"auto"),i}})}));i.support.hrefNormalized||(i.each(["href","src","width","height"],function(n,r){i.attrHooks[r]=i.extend(i.attrHooks[r],{get:function(n){var i=n.getAttribute(r,2);return i==null?t:i}})}),i.each(["href","src"],function(n,t){i.propHooks[t]={get:function(n){return n.getAttribute(t,4)}}}));i.support.style||(i.attrHooks.style={get:function(n){return n.style.cssText||t},set:function(n,t){return n.style.cssText=t+""}});i.support.optSelected||(i.propHooks.selected=i.extend(i.propHooks.selected,{get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}));i.support.enctype||(i.propFix.enctype="encoding");i.support.checkOn||i.each(["radio","checkbox"],function(){i.valHooks[this]={get:function(n){return n.getAttribute("value")===null?"on":n.value}}});i.each(["radio","checkbox"],function(){i.valHooks[this]=i.extend(i.valHooks[this],{set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>=0}})});var ui=/^(?:input|select|textarea)$/i,te=/^key/,ie=/^(?:mouse|contextmenu)|click/,or=/^(?:focusinfocus|focusoutblur)$/,sr=/^([^.]*)(?:\.(.+)|)$/;i.event={global:{},add:function(n,r,u,f,e){var b,p,k,w,c,l,a,v,h,d,g,y=i._data(n);if(y){for(u.handler&&(w=u,u=w.handler,e=w.selector),u.guid||(u.guid=i.guid++),(p=y.events)||(p=y.events={}),(l=y.handle)||(l=y.handle=function(n){return typeof i!==o&&(!n||i.event.triggered!==n.type)?i.event.dispatch.apply(l.elem,arguments):t},l.elem=n),r=(r||"").match(s)||[""],k=r.length;k--;)b=sr.exec(r[k])||[],h=g=b[1],d=(b[2]||"").split(".").sort(),c=i.event.special[h]||{},h=(e?c.delegateType:c.bindType)||h,c=i.event.special[h]||{},a=i.extend({type:h,origType:g,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:d.join(".")},w),(v=p[h])||(v=p[h]=[],v.delegateCount=0,c.setup&&c.setup.call(n,f,d,l)!==!1||(n.addEventListener?n.addEventListener(h,l,!1):n.attachEvent&&n.attachEvent("on"+h,l))),c.add&&(c.add.call(n,a),a.handler.guid||(a.handler.guid=u.guid)),e?v.splice(v.delegateCount++,0,a):v.push(a),i.event.global[h]=!0;n=null}},remove:function(n,t,r,u,f){var y,o,h,b,p,a,c,l,e,w,k,v=i.hasData(n)&&i._data(n);if(v&&(a=v.events)){for(t=(t||"").match(s)||[""],p=t.length;p--;){if(h=sr.exec(t[p])||[],e=k=h[1],w=(h[2]||"").split(".").sort(),!e){for(e in a)i.event.remove(n,e+t[p],r,u,!0);continue}for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,l=a[e]||[],h=h[2]&&new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=l.length;y--;)o=l[y],(f||k===o.origType)&&(!r||r.guid===o.guid)&&(!h||h.test(o.namespace))&&(!u||u===o.selector||u==="**"&&o.selector)&&(l.splice(y,1),o.selector&&l.delegateCount--,c.remove&&c.remove.call(n,o));b&&!l.length&&(c.teardown&&c.teardown.call(n,w,v.handle)!==!1||i.removeEvent(n,e,v.handle),delete a[e])}i.isEmptyObject(a)&&(delete v.handle,i._removeData(n,"events"))}},trigger:function(u,f,e,o){var a,v,h,p,l,c,w,b=[e||r],s=it.call(u,"type")?u.type:u,y=it.call(u,"namespace")?u.namespace.split("."):[];if((h=c=e=e||r,e.nodeType!==3&&e.nodeType!==8)&&!or.test(s+i.event.triggered)&&(s.indexOf(".")>=0&&(y=s.split("."),s=y.shift(),y.sort()),v=s.indexOf(":")<0&&"on"+s,u=u[i.expando]?u:new i.Event(s,typeof u=="object"&&u),u.isTrigger=!0,u.namespace=y.join("."),u.namespace_re=u.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=t,u.target||(u.target=e),f=f==null?[u]:i.makeArray(f,[u]),l=i.event.special[s]||{},o||!l.trigger||l.trigger.apply(e,f)!==!1)){if(!o&&!l.noBubble&&!i.isWindow(e)){for(p=l.delegateType||s,or.test(p+s)||(h=h.parentNode);h;h=h.parentNode)b.push(h),c=h;c===(e.ownerDocument||r)&&b.push(c.defaultView||c.parentWindow||n)}for(w=0;(h=b[w++])&&!u.isPropagationStopped();)u.type=w>1?p:l.bindType||s,a=(i._data(h,"events")||{})[u.type]&&i._data(h,"handle"),a&&a.apply(h,f),a=v&&h[v],a&&i.acceptData(h)&&a.apply&&a.apply(h,f)===!1&&u.preventDefault();if(u.type=s,!o&&!u.isDefaultPrevented()&&(!l._default||l._default.apply(e.ownerDocument,f)===!1)&&!(s==="click"&&i.nodeName(e,"a"))&&i.acceptData(e)&&v&&e[s]&&!i.isWindow(e)){c=e[v];c&&(e[v]=null);i.event.triggered=s;try{e[s]()}catch(k){}i.event.triggered=t;c&&(e[v]=c)}return u.result}},dispatch:function(n){n=i.event.fix(n);var o,e,r,u,s,h=[],c=l.call(arguments),a=(i._data(this,"events")||{})[n.type]||[],f=i.event.special[n.type]||{};if(c[0]=n,n.delegateTarget=this,!f.preDispatch||f.preDispatch.call(this,n)!==!1){for(h=i.event.handlers.call(this,n,a),o=0;(u=h[o++])&&!n.isPropagationStopped();)for(n.currentTarget=u.elem,s=0;(r=u.handlers[s++])&&!n.isImmediatePropagationStopped();)(!n.namespace_re||n.namespace_re.test(r.namespace))&&(n.handleObj=r,n.data=r.data,e=((i.event.special[r.origType]||{}).handle||r.handler).apply(u.elem,c),e!==t&&(n.result=e)===!1&&(n.preventDefault(),n.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,n),n.result}},handlers:function(n,r){var e,o,f,s,c=[],h=r.delegateCount,u=n.target;if(h&&u.nodeType&&(!n.button||n.type!=="click"))for(;u!=this;u=u.parentNode||this)if(u.nodeType===1&&(u.disabled!==!0||n.type!=="click")){for(f=[],s=0;s<h;s++)o=r[s],e=o.selector+" ",f[e]===t&&(f[e]=o.needsContext?i(e,this).index(u)>=0:i.find(e,this,null,[u]).length),f[e]&&f.push(o);f.length&&c.push({elem:u,handlers:f})}return h<r.length&&c.push({elem:this,handlers:r.slice(h)}),c},fix:function(n){if(n[i.expando])return n;var e,o,s,u=n.type,f=n,t=this.fixHooks[u];for(t||(this.fixHooks[u]=t=ie.test(u)?this.mouseHooks:te.test(u)?this.keyHooks:{}),s=t.props?this.props.concat(t.props):this.props,n=new i.Event(f),e=s.length;e--;)o=s[e],n[o]=f[o];return n.target||(n.target=f.srcElement||r),n.target.nodeType===3&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,t.filter?t.filter(n,f):n},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return n.which==null&&(n.which=t.charCode!=null?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,i){var u,o,f,e=i.button,s=i.fromElement;return n.pageX==null&&i.clientX!=null&&(o=n.target.ownerDocument||r,f=o.documentElement,u=o.body,n.pageX=i.clientX+(f&&f.scrollLeft||u&&u.scrollLeft||0)-(f&&f.clientLeft||u&&u.clientLeft||0),n.pageY=i.clientY+(f&&f.scrollTop||u&&u.scrollTop||0)-(f&&f.clientTop||u&&u.clientTop||0)),!n.relatedTarget&&s&&(n.relatedTarget=s===n.target?i.toElement:s),n.which||e===t||(n.which=e&1?1:e&2?3:e&4?2:0),n}},special:{load:{noBubble:!0},click:{trigger:function(){if(i.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1}},focus:{trigger:function(){if(this!==r.activeElement&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){if(this===r.activeElement&&this.blur)return this.blur(),!1},delegateType:"focusout"},beforeunload:{postDispatch:function(n){n.result!==t&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r,u){var f=i.extend(new i.Event,r,{type:n,isSimulated:!0,originalEvent:{}});u?i.event.trigger(f,null,t):i.event.dispatch.call(t,f);f.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=r.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i,!1)}:function(n,t,i){var r="on"+t;n.detachEvent&&(typeof n[r]===o&&(n[r]=null),n.detachEvent(r,i))};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.returnValue===!1||n.getPreventDefault&&n.getPreventDefault()?ht:d):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||i.now();this[i.expando]=!0};i.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var n=this.originalEvent;(this.isDefaultPrevented=ht,n)&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;(this.isPropagationStopped=ht,n)&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ht;this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.support.submitBubbles||(i.event.special.submit={setup:function(){if(i.nodeName(this,"form"))return!1;i.event.add(this,"click._submit keypress._submit",function(n){var u=n.target,r=i.nodeName(u,"input")||i.nodeName(u,"button")?u.form:t;r&&!i._data(r,"submitBubbles")&&(i.event.add(r,"submit._submit",function(n){n._submit_bubble=!0}),i._data(r,"submitBubbles",!0))})},postDispatch:function(n){n._submit_bubble&&(delete n._submit_bubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n,!0))},teardown:function(){if(i.nodeName(this,"form"))return!1;i.event.remove(this,"._submit")}});i.support.changeBubbles||(i.event.special.change={setup:function(){if(ui.test(this.nodeName))return(this.type==="checkbox"||this.type==="radio")&&(i.event.add(this,"propertychange._change",function(n){n.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),i.event.add(this,"click._change",function(n){this._just_changed&&!n.isTrigger&&(this._just_changed=!1);i.event.simulate("change",this,n,!0)})),!1;i.event.add(this,"beforeactivate._change",function(n){var t=n.target;ui.test(t.nodeName)&&!i._data(t,"changeBubbles")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n,!0)}),i._data(t,"changeBubbles",!0))})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),!ui.test(this.nodeName)}});i.support.focusinBubbles||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=0,f=function(n){i.event.simulate(t,n.target,i.event.fix(n),!0)};i.event.special[t]={setup:function(){u++==0&&r.addEventListener(n,f,!0)},teardown:function(){--u==0&&r.removeEventListener(n,f,!0)}}});i.fn.extend({on:function(n,r,u,f,e){var s,o;if(typeof n=="object"){typeof r!="string"&&(u=u||r,r=t);for(s in n)this.on(s,r,u,n[s],e);return this}if(u==null&&f==null?(f=r,u=r=t):f==null&&(typeof r=="string"?(f=u,u=t):(f=u,u=r,r=t)),f===!1)f=d;else if(!f)return this;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),this.each(function(){i.event.add(this,n,f,u,r)})},one:function(n,t,i,r){return this.on(n,t,i,r,1)},off:function(n,r,u){var f,e;if(n&&n.preventDefault&&n.handleObj)return f=n.handleObj,i(n.delegateTarget).off(f.namespace?f.origType+"."+f.namespace:f.origType,f.selector,f.handler),this;if(typeof n=="object"){for(e in n)this.off(e,r,n[e]);return this}return(r===!1||typeof r=="function")&&(u=r,r=t),u===!1&&(u=d),this.each(function(){i.event.remove(this,n,u,r)})},bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(n,t){function ti(n){return tr.test(n+"")}function ii(){var n,t=[];return n=function(i,u){return t.push(i+=" ")>r.cacheLength&&delete n[t.shift()],n[i]=u}}function l(n){return n[f]=!0,n}function b(n){var t=s.createElement("div");try{return n(t)}catch(i){return!1}finally{t=null}}function u(n,t,i,r){var y,u,e,l,p,v,w,h,d,b;if((t?t.ownerDocument||t:k)!==s&&it(t),t=t||s,i=i||[],!n||typeof n!="string")return i;if((l=t.nodeType)!==1&&l!==9)return[];if(!c&&!r){if(y=ir.exec(n))if(e=y[1]){if(l===9)if(u=t.getElementById(e),u&&u.parentNode){if(u.id===e)return i.push(u),i}else return i;else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(e))&&et(t,u)&&u.id===e)return i.push(u),i}else{if(y[2])return ut.apply(i,ft.call(t.getElementsByTagName(n),0)),i;if((e=y[3])&&o.getByClassName&&t.getElementsByClassName)return ut.apply(i,ft.call(t.getElementsByClassName(e),0)),i}if(o.qsa&&!a.test(n)){if(w=!0,h=f,d=t,b=l===9&&n,l===1&&t.nodeName.toLowerCase()!=="object"){for(v=yt(n),(w=t.getAttribute("id"))?h=w.replace(fr,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",p=v.length;p--;)v[p]=h+pt(v[p]);d=ni.test(n)&&t.parentNode||t;b=v.join(",")}if(b)try{return ut.apply(i,ft.call(d.querySelectorAll(b),0)),i}catch(g){}finally{w||t.removeAttribute("id")}}}return lr(n.replace(at,"$1"),t,i,r)}function yi(n,t){var i=t&&n,r=i&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function or(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function sr(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function g(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function yt(n,t){var e,f,s,o,i,h,c,l=hi[n+" "];if(l)return t?0:l.slice(0);for(i=n,h=[],c=r.preFilter;i;){(!e||(f=ki.exec(i)))&&(f&&(i=i.slice(f[0].length)||i),h.push(s=[]));e=!1;(f=di.exec(i))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),i=i.slice(e.length));for(o in r.filter)(f=vt[o].exec(i))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),i=i.slice(e.length));if(!e)break}return t?i.length:i?u.error(n):hi(n,h).slice(0)}function pt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&r==="parentNode",e=wi++;return t.first?function(t,i,f){while(t=t[r])if(t.nodeType===1||u)return n(t,i,f)}:function(t,i,o){var h,s,c,l=v+" "+e;if(o){while(t=t[r])if((t.nodeType===1||u)&&n(t,i,o))return!0}else while(t=t[r])if(t.nodeType===1||u)if(c=t[f]||(t[f]={}),(s=c[r])&&s[0]===l){if((h=s[1])===!0||h===ot)return h===!0}else if(s=c[r]=[l],s[1]=n(t,i,o)||ot,s[1]===!0)return!0}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function wt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,e){return r&&!r[f]&&(r=fi(r)),u&&!u[f]&&(u=fi(u,e)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||cr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?wt(b,p,n,o,s):b,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=wt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?dt.call(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=wt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):ut.apply(e,h)})}function ei(n){for(var s,u,i,o=n.length,h=r.relative[n[0].type],c=h||r.relative[" "],t=h?1:0,l=ri(function(n){return n===s},c,!0),a=ri(function(n){return dt.call(s,n)>-1},c,!0),e=[function(n,t,i){return!h&&(i||t!==ht)||((s=t).nodeType?l(n,t,i):a(n,t,i))}];t<o;t++)if(u=r.relative[n[t].type])e=[ri(ui(e),u)];else{if(u=r.filter[n[t].type].apply(null,n[t].matches),u[f]){for(i=++t;i<o;i++)if(r.relative[n[i].type])break;return fi(t>1&&ui(e),t>1&&pt(n.slice(0,t-1)).replace(at,"$1"),u,t<i&&ei(n.slice(t,i)),i<o&&ei(n=n.slice(i)),i<o&&pt(n))}e.push(u)}return ui(e)}function hr(n,t){var f=0,i=t.length>0,e=n.length>0,o=function(o,h,c,l,a){var p,d,b,w=[],k=0,y="0",g=o&&[],nt=a!=null,tt=ht,rt=o||e&&r.find.TAG("*",a&&h.parentNode||h),it=v+=tt==null?1:Math.random()||.1;for(nt&&(ht=h!==s&&h,ot=f);(p=rt[y])!=null;y++){if(e&&p){for(d=0;b=n[d++];)if(b(p,h,c)){l.push(p);break}nt&&(v=it,ot=++f)}i&&((p=!b&&p)&&k--,o&&g.push(p))}if(k+=y,i&&y!==k){for(d=0;b=t[d++];)b(g,w,h,c);if(o){if(k>0)while(y--)g[y]||w[y]||(w[y]=bi.call(l));w=wt(w)}ut.apply(l,w);nt&&!o&&w.length>0&&k+t.length>1&&u.uniqueSort(l)}return nt&&(v=it,ht=tt),g};return i?l(o):o}function cr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function lr(n,t,i,u){var o,f,e,h,l,s=yt(n);if(!u&&s.length===1){if(f=s[0]=s[0].slice(0),f.length>2&&(e=f[0]).type==="ID"&&t.nodeType===9&&!c&&r.relative[f[1].type]){if(t=r.find.ID(e.matches[0].replace(p,w),t)[0],!t)return i;n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],r.relative[h=e.type])break;if((l=r.find[h])&&(u=l(e.matches[0].replace(p,w),ni.test(f[0].type)&&t.parentNode||t))){if(f.splice(o,1),n=u.length&&pt(f),!n)return ut.apply(i,ft.call(u,0)),i;break}}}return bt(n,s)(u,t,c,i,ni.test(n)),i}function pi(){}var nt,ot,r,st,oi,bt,tt,ht,it,s,h,c,a,rt,ct,et,kt,f="sizzle"+-new Date,k=n.document,o={},v=0,wi=0,si=ii(),hi=ii(),ci=ii(),y=typeof t,li=-2147483648,lt=[],bi=lt.pop,ut=lt.push,ft=lt.slice,dt=lt.indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]===n)return t;return-1},e="[\\x20\\t\\r\\n\\f]",d="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ai=d.replace("w","w#"),vi="\\["+e+"*("+d+")"+e+"*(?:([*^$|!~]?=)"+e+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ai+")|)|)"+e+"*\\]",gt=":("+d+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+vi.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+e+"+$","g"),ki=new RegExp("^"+e+"*,"+e+"*"),di=new RegExp("^"+e+"*([\\x20\\t\\r\\n\\f>+~])"+e+"*"),gi=new RegExp(gt),nr=new RegExp("^"+ai+"$"),vt={ID:new RegExp("^#("+d+")"),CLASS:new RegExp("^\\.("+d+")"),NAME:new RegExp("^\\[name=['\"]?("+d+")['\"]?\\]"),TAG:new RegExp("^("+d.replace("w","w*")+")"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+e+"*(even|odd|(([+-]|)(\\d*)n|)"+e+"*(?:([+-]|)"+e+"*(\\d+)|))"+e+"*\\)|)","i"),needsContext:new RegExp("^"+e+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+e+"*((?:-\\d)?\\d*)"+e+"*\\)|)(?=[^-]|$)","i")},ni=/[\x20\t\r\n\f]*[+~]/,tr=/^[^{]+\{\s*\[native code/,ir=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rr=/^(?:input|select|textarea|button)$/i,ur=/^h\d$/i,fr=/'|\\/g,er=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,p=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,w=function(n,t){var i="0x"+t-65536;return i!==i?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{ft.call(k.documentElement.childNodes,0)[0].nodeType}catch(ar){ft=function(n){for(var t,i=[];t=this[n++];)i.push(t);return i}}oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?t.nodeName!=="HTML":!1};it=u.setDocument=function(n){var i=n?n.ownerDocument||n:k;return i===s||i.nodeType!==9||!i.documentElement?s:(s=i,h=i.documentElement,c=oi(i),o.tagNameNoComments=b(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),o.attributes=b(function(n){n.innerHTML="<select><\/select>";var t=typeof n.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),o.getByClassName=b(function(n){return(n.innerHTML="<div class='hidden e'><\/div><div class='hidden'><\/div>",!n.getElementsByClassName||!n.getElementsByClassName("e").length)?!1:(n.lastChild.className="e",n.getElementsByClassName("e").length===2)}),o.getByName=b(function(n){n.id=f+0;n.innerHTML="<a name='"+f+"'><\/a><div name='"+f+"'><\/div>";h.insertBefore(n,h.firstChild);var t=i.getElementsByName&&i.getElementsByName(f).length===2+i.getElementsByName(f+0).length;return o.getIdNotName=!i.getElementById(f),h.removeChild(n),t}),r.attrHandle=b(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild&&typeof n.firstChild.getAttribute!==y&&n.firstChild.getAttribute("href")==="#"})?{}:{href:function(n){return n.getAttribute("href",2)},type:function(n){return n.getAttribute("type")}},o.getIdNotName?(r.find.ID=function(n,t){if(typeof t.getElementById!==y&&!c){var i=t.getElementById(n);return i&&i.parentNode?[i]:[]}},r.filter.ID=function(n){var t=n.replace(p,w);return function(n){return n.getAttribute("id")===t}}):(r.find.ID=function(n,i){if(typeof i.getElementById!==y&&!c){var r=i.getElementById(n);return r?r.id===n||typeof r.getAttributeNode!==y&&r.getAttributeNode("id").value===n?[r]:t:[]}},r.filter.ID=function(n){var t=n.replace(p,w);return function(n){var i=typeof n.getAttributeNode!==y&&n.getAttributeNode("id");return i&&i.value===t}}),r.find.TAG=o.tagNameNoComments?function(n,t){if(typeof t.getElementsByTagName!==y)return t.getElementsByTagName(n)}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},r.find.NAME=o.getByName&&function(n,t){if(typeof t.getElementsByName!==y)return t.getElementsByName(name)},r.find.CLASS=o.getByClassName&&function(n,t){if(typeof t.getElementsByClassName!==y&&!c)return t.getElementsByClassName(n)},rt=[],a=[":focus"],(o.qsa=ti(i.querySelectorAll))&&(b(function(n){n.innerHTML="<select><option selected=''><\/option><\/select>";n.querySelectorAll("[selected]").length||a.push("\\["+e+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");n.querySelectorAll(":checked").length||a.push(":checked")}),b(function(n){n.innerHTML="<input type='hidden' i=''/>";n.querySelectorAll("[i^='']").length&&a.push("[*^$]="+e+"*(?:\"\"|'')");n.querySelectorAll(":enabled").length||a.push(":enabled",":disabled");n.querySelectorAll("*,:x");a.push(",.*:")})),(o.matchesSelector=ti(ct=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&b(function(n){o.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");rt.push("!=",gt)}),a=new RegExp(a.join("|")),rt=new RegExp(rt.join("|")),et=ti(h.contains)||h.compareDocumentPosition?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},kt=h.compareDocumentPosition?function(n,t){var r;return n===t?(tt=!0,0):(r=t.compareDocumentPosition&&n.compareDocumentPosition&&n.compareDocumentPosition(t))?r&1||n.parentNode&&n.parentNode.nodeType===11?n===i||et(k,n)?-1:t===i||et(k,t)?1:0:r&4?-1:1:n.compareDocumentPosition?-1:1}:function(n,t){var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(n===t)return tt=!0,0;if(o&&s){if(o===s)return yi(n,t)}else return n===i?-1:t===i?1:o?-1:s?1:0;for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?yi(f[u],e[u]):f[u]===k?-1:e[u]===k?1:0},tt=!1,[0,0].sort(kt),o.detectDuplicates=tt,s)};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==s&&it(n),t=t.replace(er,"='$1']"),o.matchesSelector&&!c&&(!rt||!rt.test(t))&&!a.test(t))try{var i=ct.call(n,t);if(i||o.disconnectedMatch||n.document&&n.document.nodeType!==11)return i}catch(r){}return u(t,s,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==s&&it(n),et(n,t)};u.attr=function(n,t){var i;return((n.ownerDocument||n)!==s&&it(n),c||(t=t.toLowerCase()),i=r.attrHandle[t])?i(n):c||o.attributes?n.getAttribute(t):((i=n.getAttributeNode(t))||n.getAttribute(t))&&n[t]===!0?t:i&&i.specified?i.value:null};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=1,i=0;if(tt=!o.detectDuplicates,n.sort(kt),tt){for(;r=n[t];t++)r===n[t-1]&&(i=u.push(t));while(i--)n.splice(u[i],1)}return n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else for(;r=n[u];u++)i+=st(r);return i};r=u.selectors={cacheLength:50,createPseudo:l,match:vt,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(p,w),n[3]=(n[4]||n[5]||"").replace(p,w),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[5]&&n[2];return vt.CHILD.test(n[0])?null:(n[4]?n[2]=n[4]:t&&gi.test(t)&&(i=yt(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){return n==="*"?function(){return!0}:(n=n.replace(p,w).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===n})},CLASS:function(n){var t=si[n+" "];return t||(t=new RegExp("(^|"+e+")"+n+"("+e+"|$)"))&&si(n,function(n){return t.test(n.className||typeof n.getAttribute!==y&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",e=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var a,k,c,l,y,w,b=s!==o?"nextSibling":"previousSibling",p=t.parentNode,g=e&&t.nodeName.toLowerCase(),d=!h&&!e;if(p){if(s){while(b){for(c=t;c=c[b];)if(e?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;w=b=n==="only"&&!w&&"nextSibling"}return!0}if(w=[o?p.firstChild:p.lastChild],o&&d){for(k=p[f]||(p[f]={}),a=k[n]||[],y=a[0]===v&&a[1],l=a[0]===v&&a[2],c=y&&p.childNodes[y];c=++y&&c&&c[b]||(l=y=0)||w.pop();)if(c.nodeType===1&&++l&&c===t){k[n]=[v,y,l];break}}else if(d&&(a=(t[f]||(t[f]={}))[n])&&a[0]===v)l=a[1];else while(c=++y&&c&&c[b]||(l=y=0)||w.pop())if((e?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++l&&(d&&((c[f]||(c[f]={}))[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,t){var e,i=r.pseudos[n]||r.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return i[f]?i(t):i.length>1?(e=[n,n,"",t],r.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,r){for(var u,f=i(n,t),e=f.length;e--;)u=dt.call(n,f[e]),n[u]=!(r[u]=f[e])}):function(n){return i(n,0,e)}):i}},pseudos:{not:l(function(n){var i=[],r=[],t=bt(n.replace(at,"$1"));return t[f]?l(function(n,i,r,u){for(var e,o=t(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(i[f]=e))}):function(n,u,f){return i[0]=n,t(i,null,f,r),!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return nr.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(p,w).toLowerCase(),function(t){var i;do if(i=c?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===h},focus:function(n){return n===s.activeElement&&(!s.hasFocus||s.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeName>"@"||n.nodeType===3||n.nodeType===4)return!1;return!0},parent:function(n){return!r.pseudos.empty(n)},header:function(n){return ur.test(n.nodeName)},input:function(n){return rr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()===n.type)},first:g(function(){return[0]}),last:g(function(n,t){return[t-1]}),eq:g(function(n,t,i){return[i<0?i+t:i]}),even:g(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:g(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:g(function(n,t,i){for(var r=i<0?i+t:i;--r>=0;)n.push(r);return n}),gt:g(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};for(nt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[nt]=or(nt);for(nt in{submit:!0,reset:!0})r.pseudos[nt]=sr(nt);bt=u.compile=function(n,t){var r,u=[],e=[],i=ci[n+" "];if(!i){for(t||(t=yt(n)),r=t.length;r--;)i=ei(t[r]),i[f]?u.push(i):e.push(i);i=ci(n,hr(e,u))}return i};r.pseudos.nth=r.pseudos.eq;r.filters=pi.prototype=r.pseudos;r.setFilters=new pi;it();u.attr=i.attr;i.find=u;i.expr=u.selectors;i.expr[":"]=i.expr.pseudos;i.unique=u.uniqueSort;i.text=u.getText;i.isXMLDoc=u.isXML;i.contains=u.contains})(n);var re=/Until$/,ue=/^(?:parents|prev(?:Until|All))/,fe=/^.[^:#\[\.,]*$/,hr=i.expr.match.needsContext,ee={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({find:function(n){var t,r,f,u=this.length;if(typeof n!="string")return f=this,this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=[],t=0;t<u;t++)i.find(n,this[t],r);return r=this.pushStack(u>1?i.unique(r):r),r.selector=(this.selector?this.selector+" ":"")+n,r},has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;t<u;t++)if(i.contains(this,r[t]))return!0})},not:function(n){return this.pushStack(lr(this,n,!1))},filter:function(n){return this.pushStack(lr(this,n,!0))},is:function(n){return!!n&&(typeof n=="string"?hr.test(n)?i(n,this.context).index(this[0])>=0:i.filter(n,this).length>0:this.filter(n).length>0)},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=hr.test(n)||typeof n!="string"?i(n,t||this.context):0;f<o;f++)for(r=this[f];r&&r.ownerDocument&&r!==t&&r.nodeType!==11;){if(e?e.index(r)>-1:i.find.matchesSelector(r,n)){u.push(r);break}r=r.parentNode}return this.pushStack(u.length>1?i.unique(u):u)},index:function(n){return n?typeof n=="string"?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){var r=typeof n=="string"?i(n,t):i.makeArray(n&&n.nodeType?[n]:n),u=i.merge(this.get(),r);return this.pushStack(i.unique(u))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.fn.andSelf=i.fn.addBack;i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return i.dir(n,"parentNode")},parentsUntil:function(n,t,r){return i.dir(n,"parentNode",r)},next:function(n){return cr(n,"nextSibling")},prev:function(n){return cr(n,"previousSibling")},nextAll:function(n){return i.dir(n,"nextSibling")},prevAll:function(n){return i.dir(n,"previousSibling")},nextUntil:function(n,t,r){return i.dir(n,"nextSibling",r)},prevUntil:function(n,t,r){return i.dir(n,"previousSibling",r)},siblings:function(n){return i.sibling((n.parentNode||{}).firstChild,n)},children:function(n){return i.sibling(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return re.test(n)||(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),f=this.length>1&&!ee[n]?i.unique(f):f,this.length>1&&ue.test(n)&&(f=f.reverse()),this.pushStack(f)}});i.extend({filter:function(n,t,r){return r&&(n=":not("+n+")"),t.length===1?i.find.matchesSelector(t[0],n)?[t[0]]:[]:i.find.matches(n,t)},dir:function(n,r,u){for(var e=[],f=n[r];f&&f.nodeType!==9&&(u===t||f.nodeType!==1||!i(f).is(u));)f.nodeType===1&&e.push(f),f=f[r];return e},sibling:function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i}});var vr="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",oe=/ jQuery\d+="(?:null|\d+)"/g,yr=new RegExp("<(?:"+vr+")[\\s/>]","i"),fi=/^\s+/,pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wr=/<([\w:]+)/,br=/<tbody/i,se=/<|&#?\w+;/,he=/<(?:script|style|link)/i,ei=/^(?:checkbox|radio)$/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,kr=/^$|\/(?:java|ecma)script/i,le=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,e={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:i.support.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]},ve=ar(r),oi=ve.appendChild(r.createElement("div"));e.optgroup=e.option;e.tbody=e.tfoot=e.colgroup=e.caption=e.thead;e.th=e.td;i.fn.extend({text:function(n){return i.access(this,function(n){return n===t?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(n))},null,n,arguments.length)},wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&n.firstChild.nodeType===1;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(n){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.appendChild(n)})},prepend:function(){return this.domManip(arguments,!0,function(n){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&this.insertBefore(n,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return this.domManip(arguments,!1,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},remove:function(n,t){for(var r,f=0;(r=this[f])!=null;f++)(!n||i.filter(n,[r]).length>0)&&(t||r.nodeType!==1||i.cleanData(u(r)),r.parentNode&&(t&&i.contains(r.ownerDocument,r)&&si(u(r,"script")),r.parentNode.removeChild(r)));return this},empty:function(){for(var n,t=0;(n=this[t])!=null;t++){for(n.nodeType===1&&i.cleanData(u(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&i.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return i.access(this,function(n){var r=this[0]||{},f=0,o=this.length;if(n===t)return r.nodeType===1?r.innerHTML.replace(oe,""):t;if(typeof n=="string"&&!he.test(n)&&(i.support.htmlSerialize||!yr.test(n))&&(i.support.leadingWhitespace||!fi.test(n))&&!e[(wr.exec(n)||["",""])[1].toLowerCase()]){n=n.replace(pr,"<$1><\/$2>");try{for(;f<o;f++)r=this[f]||{},r.nodeType===1&&(i.cleanData(u(r,!1)),r.innerHTML=n);r=0}catch(s){}}r&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(n){var t=i.isFunction(n);return t||typeof n=="string"||(n=i(n).not(this).detach()),this.domManip([n],!0,function(n){var r=this.nextSibling,t=this.parentNode;t&&(i(this).remove(),t.insertBefore(n,r))})},detach:function(n){return this.remove(n,!0)},domManip:function(n,r,f){n=bi.apply([],n);var c,e,l,s,y,h,o=0,a=this.length,w=this,b=a-1,v=n[0],p=i.isFunction(v);if(p||!(a<=1||typeof v!="string"||i.support.checkClone||!ce.test(v)))return this.each(function(i){var u=w.eq(i);p&&(n[0]=v.call(this,i,r?u.html():t));u.domManip(n,r,f)});if(a&&(h=i.buildFragment(n,this[0].ownerDocument,!1,this),c=h.firstChild,h.childNodes.length===1&&(h=c),c)){for(r=r&&i.nodeName(c,"tr"),s=i.map(u(h,"script"),dr),l=s.length;o<a;o++)e=h,o!==b&&(e=i.clone(e,!0,!0),l&&i.merge(s,u(e,"script"))),f.call(r&&i.nodeName(this[o],"table")?ye(this[o],"tbody"):this[o],e,o);if(l)for(y=s[s.length-1].ownerDocument,i.map(s,gr),o=0;o<l;o++)e=s[o],kr.test(e.type||"")&&!i._data(e,"globalEval")&&i.contains(y,e)&&(e.src?i.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):i.globalEval((e.text||e.textContent||e.innerHTML||"").replace(ae,"")));h=c=null}return this}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,r=0,f=[],e=i(n),o=e.length-1;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),bt.apply(f,u.get());return this.pushStack(f)}});i.extend({clone:function(n,t,r){var f,h,o,e,s,c=i.contains(n.ownerDocument,n);if(i.support.html5Clone||i.isXMLDoc(n)||!yr.test("<"+n.nodeName+">")?o=n.cloneNode(!0):(oi.innerHTML=n.outerHTML,oi.removeChild(o=oi.firstChild)),(!i.support.noCloneEvent||!i.support.noCloneChecked)&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(f=u(o),s=u(n),e=0;(h=s[e])!=null;++e)f[e]&&pe(h,f[e]);if(t)if(r)for(s=s||u(n),f=f||u(o),e=0;(h=s[e])!=null;e++)nu(h,f[e]);else nu(n,o);return f=u(o,"script"),f.length>0&&si(f,!c&&u(n,"script")),f=s=h=null,o},buildFragment:function(n,t,r,f){for(var h,o,w,s,y,p,l,b=n.length,a=ar(t),c=[],v=0;v<b;v++)if(o=n[v],o||o===0)if(i.type(o)==="object")i.merge(c,o.nodeType?[o]:o);else if(se.test(o)){for(s=s||a.appendChild(t.createElement("div")),y=(wr.exec(o)||["",""])[1].toLowerCase(),l=e[y]||e._default,s.innerHTML=l[1]+o.replace(pr,"<$1><\/$2>")+l[2],h=l[0];h--;)s=s.lastChild;if(!i.support.leadingWhitespace&&fi.test(o)&&c.push(t.createTextNode(fi.exec(o)[0])),!i.support.tbody)for(o=y==="table"&&!br.test(o)?s.firstChild:l[1]==="<table>"&&!br.test(o)?s:0,h=o&&o.childNodes.length;h--;)i.nodeName(p=o.childNodes[h],"tbody")&&!p.childNodes.length&&o.removeChild(p);for(i.merge(c,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=a.lastChild}else c.push(t.createTextNode(o));for(s&&a.removeChild(s),i.support.appendChecked||i.grep(u(c,"input"),we),v=0;o=c[v++];)if((!f||i.inArray(o,f)===-1)&&(w=i.contains(o.ownerDocument,o),s=u(a.appendChild(o),"script"),w&&si(s),r))for(h=0;o=s[h++];)kr.test(o.type||"")&&r.push(o);return s=null,a},cleanData:function(n,t){for(var r,e,u,f,c=0,s=i.expando,h=i.cache,l=i.support.deleteExpando,a=i.event.special;(r=n[c])!=null;c++)if((t||i.acceptData(r))&&(u=r[s],f=u&&h[u],f)){if(f.events)for(e in f.events)a[e]?i.event.remove(r,e):i.removeEvent(r,e,f.handle);h[u]&&(delete h[u],l?delete r[s]:typeof r.removeAttribute!==o?r.removeAttribute(s):r[s]=null,b.push(u))}}});var rt,v,y,hi=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/,ke=/^(top|right|bottom|left)$/,de=/^(none|table(?!-c[ea]).+)/,tu=/^margin/,ge=new RegExp("^("+st+")(.*)$","i"),ct=new RegExp("^("+st+")(?!px)[a-z%]+$","i"),no=new RegExp("^([+-])=("+st+")","i"),iu={BODY:"block"},to={position:"absolute",visibility:"hidden",display:"block"},ru={letterSpacing:0,fontWeight:400},p=["Top","Right","Bottom","Left"],uu=["Webkit","O","Moz","ms"];i.fn.extend({css:function(n,r){return i.access(this,function(n,r,u){var e,o,s={},f=0;if(i.isArray(r)){for(o=v(n),e=r.length;f<e;f++)s[r[f]]=i.css(n,r[f],!1,o);return s}return u!==t?i.style(n,r,u):i.css(n,r)},n,r,arguments.length>1)},show:function(){return eu(this,!0)},hide:function(){return eu(this)},toggle:function(n){var t=typeof n=="boolean";return this.each(function(){(t?n:ut(this))?i(this).show():i(this).hide()})}});i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=y(n,"opacity");return i===""?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:i.support.cssFloat?"cssFloat":"styleFloat"},style:function(n,r,u,f){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var o,s,e,h=i.camelCase(r),c=n.style;if(r=i.cssProps[h]||(i.cssProps[h]=fu(c,h)),e=i.cssHooks[r]||i.cssHooks[h],u!==t){if(s=typeof u,s==="string"&&(o=no.exec(u))&&(u=(o[1]+1)*o[2]+parseFloat(i.css(n,r)),s="number"),u==null||s==="number"&&isNaN(u))return;if(s!=="number"||i.cssNumber[h]||(u+="px"),i.support.clearCloneStyle||u!==""||r.indexOf("background")!==0||(c[r]="inherit"),!e||!("set"in e)||(u=e.set(n,u,f))!==t)try{c[r]=u}catch(l){}}else return e&&"get"in e&&(o=e.get(n,!1,f))!==t?o:c[r]}},css:function(n,r,u,f){var h,e,o,s=i.camelCase(r);return(r=i.cssProps[s]||(i.cssProps[s]=fu(n.style,s)),o=i.cssHooks[r]||i.cssHooks[s],o&&"get"in o&&(e=o.get(n,!0,u)),e===t&&(e=y(n,r,f)),e==="normal"&&r in ru&&(e=ru[r]),u===""||u)?(h=parseFloat(e),u===!0||i.isNumeric(h)?h||0:e):e},swap:function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f}});n.getComputedStyle?(v=function(t){return n.getComputedStyle(t,null)},y=function(n,r,u){var s,h,c,o=u||v(n),e=o?o.getPropertyValue(r)||o[r]:t,f=n.style;return o&&(e!==""||i.contains(n.ownerDocument,n)||(e=i.style(n,r)),ct.test(e)&&tu.test(r)&&(s=f.width,h=f.minWidth,c=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=o.width,f.width=s,f.minWidth=h,f.maxWidth=c)),e}):r.documentElement.currentStyle&&(v=function(n){return n.currentStyle},y=function(n,i,r){var s,e,o,h=r||v(n),u=h?h[i]:t,f=n.style;return u==null&&f&&f[i]&&(u=f[i]),ct.test(u)&&!ke.test(i)&&(s=f.left,e=n.runtimeStyle,o=e&&e.left,o&&(e.left=n.currentStyle.left),f.left=i==="fontSize"?"1em":u,u=f.pixelLeft+"px",f.left=s,o&&(e.left=o)),u===""?"auto":u});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return n.offsetWidth===0&&de.test(i.css(n,"display"))?i.swap(n,to,function(){return hu(n,t,u)}):hu(n,t,u)},set:function(n,r,u){var f=u&&v(n);return ou(n,r,u?su(n,t,u,i.support.boxSizing&&i.css(n,"boxSizing",!1,f)==="border-box",f):0)}}});i.support.opacity||(i.cssHooks.opacity={get:function(n,t){return be.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+t*100+")":"",f=u&&u.filter||r.filter||"";(r.zoom=1,(t>=1||t==="")&&i.trim(f.replace(hi,""))===""&&r.removeAttribute&&(r.removeAttribute("filter"),t===""||u&&!u.filter))||(r.filter=hi.test(f)?f.replace(hi,e):f+" "+e)}});i(function(){i.support.reliableMarginRight||(i.cssHooks.marginRight={get:function(n,t){if(t)return i.swap(n,{display:"inline-block"},y,[n,"marginRight"])}});!i.support.pixelPosition&&i.fn.position&&i.each(["top","left"],function(n,t){i.cssHooks[t]={get:function(n,r){if(r)return r=y(n,t),ct.test(r)?i(n).position()[t]+"px":r}}})});i.expr&&i.expr.filters&&(i.expr.filters.hidden=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0||!i.support.reliableHiddenOffsets&&(n.style&&n.style.display||i.css(n,"display"))==="none"},i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+p[r]+t]=u[r]||u[r-2]||u[0];return f}};tu.test(n)||(i.cssHooks[n+t].set=ou)});var io=/%20/g,ro=/\[\]$/,au=/\r?\n/g,uo=/^(?:submit|button|image|reset|file)$/i,fo=/^(?:input|select|textarea|keygen)/i;i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&fo.test(this.nodeName)&&!uo.test(n)&&(this.checked||!ei.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(au,"\r\n")}}):{name:t.name,value:r.replace(au,"\r\n")}}).get()}});i.param=function(n,r){var u,f=[],e=function(n,t){t=i.isFunction(t)?t():t==null?"":t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(r===t&&(r=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(u in n)ci(u,n[u],r,e);return f.join("&").replace(io,"+")};i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.hover=function(n,t){return this.mouseenter(n).mouseleave(t||n)};var w,c,li=i.now(),ai=/\?/,eo=/#.*$/,vu=/([?&])_=[^&]*/,oo=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,so=/^(?:GET|HEAD)$/,ho=/^\/\//,yu=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,pu=i.fn.load,wu={},vi={},bu="*/".concat("*");try{c=ff.href}catch(go){c=r.createElement("a");c.href="";c=c.href}w=yu.exec(c.toLowerCase())||[];i.fn.load=function(n,r,u){if(typeof n!="string"&&pu)return pu.apply(this,arguments);var f,s,h,e=this,o=n.indexOf(" ");return o>=0&&(f=n.slice(o,n.length),n=n.slice(0,o)),i.isFunction(r)?(u=r,r=t):r&&typeof r=="object"&&(h="POST"),e.length>0&&i.ajax({url:n,type:h,dataType:"html",data:r}).done(function(n){s=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).complete(u&&function(n,t){e.each(u,s||[n.responseText,t,n])}),this};i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}});i.each(["get","post"],function(n,r){i[r]=function(n,u,f,e){return i.isFunction(u)&&(e=e||f,f=u,u=t),i.ajax({url:n,type:r,dataType:e,data:u,success:f})}});i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:c,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(w[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":n.String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?yi(yi(n,i.ajaxSettings),t):yi(i.ajaxSettings,n)},ajaxPrefilter:ku(wu),ajaxTransport:ku(vi),ajax:function(n,r){function k(n,r,s,c){var l,k,w,rt,p,a=r;o!==2&&(o=2,g&&clearTimeout(g),v=t,d=c||"",f.readyState=n>0?4:0,s&&(rt=co(u,f,s)),n>=200&&n<300||n===304?(u.ifModified&&(p=f.getResponseHeader("Last-Modified"),p&&(i.lastModified[e]=p),p=f.getResponseHeader("etag"),p&&(i.etag[e]=p)),n===204?(l=!0,a="nocontent"):n===304?(l=!0,a="notmodified"):(l=lo(u,rt),a=l.state,k=l.data,w=l.error,l=!w)):(w=a,(n||!a)&&(a="error",n<0&&(n=0))),f.status=n,f.statusText=(r||a)+"",l?tt.resolveWith(h,[k,a,f]):tt.rejectWith(h,[f,a,w]),f.statusCode(b),b=t,y&&nt.trigger(l?"ajaxSuccess":"ajaxError",[f,u,l?k:w]),it.fireWith(h,[f,a]),y&&(nt.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}typeof n=="object"&&(r=n,n=t);r=r||{};var l,a,e,d,g,y,v,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),b=u.statusCode||{},rt={},ut={},o=0,ft="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(o===2){if(!p)for(p={};t=oo.exec(d);)p[t[1].toLowerCase()]=t[2];t=p[n.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return o===2?d:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=ut[i]=ut[i]||n,rt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(o<2)for(t in n)b[t]=[b[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||ft;return v&&v.abort(t),k(0,t),this}};if(tt.promise(f).complete=it.add,f.success=f.done,f.error=f.fail,u.url=((n||u.url||c)+"").replace(eo,"").replace(ho,w[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(s)||[""],u.crossDomain==null&&(l=yu.exec(u.url.toLowerCase()),u.crossDomain=!!(l&&(l[1]!==w[1]||l[2]!==w[2]||(l[3]||(l[1]==="http:"?80:443))!=(w[3]||(w[1]==="http:"?80:443))))),u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),du(wu,u,r,f),o===2)return f;y=u.global;y&&i.active++==0&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!so.test(u.type);e=u.url;u.hasContent||(u.data&&(e=u.url+=(ai.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=vu.test(e)?e.replace(vu,"$1_="+li++):e+(ai.test(e)?"&":"?")+"_="+li++));u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+bu+"; q=0.01":""):u.accepts["*"]);for(a in u.headers)f.setRequestHeader(a,u.headers[a]);if(u.beforeSend&&(u.beforeSend.call(h,f,u)===!1||o===2))return f.abort();ft="abort";for(a in{success:1,error:1,complete:1})f[a](u[a]);if(v=du(vi,u,r,f),v){f.readyState=1;y&&nt.trigger("ajaxSend",[f,u]);u.async&&u.timeout>0&&(g=setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1;v.send(rt,k)}catch(et){if(o<2)k(-1,et);else throw et;}}else k(-1,"No Transport");return f},getScript:function(n,r){return i.get(n,t,r,"script")},getJSON:function(n,t,r){return i.get(n,t,r,"json")}});i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(n){return i.globalEval(n),n}}});i.ajaxPrefilter("script",function(n){n.cache===t&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)});i.ajaxTransport("script",function(n){if(n.crossDomain){var u,f=r.head||i("head")[0]||r.documentElement;return{send:function(t,i){u=r.createElement("script");u.async=!0;n.scriptCharset&&(u.charset=n.scriptCharset);u.src=n.url;u.onload=u.onreadystatechange=function(n,t){(t||!u.readyState||/loaded|complete/.test(u.readyState))&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),u=null,t||i(200,"success"))};f.insertBefore(u,f.firstChild)},abort:function(){if(u)u.onload(t,!0)}}}});pi=[];lt=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=pi.pop()||i.expando+"_"+li++;return this[n]=!0,n}});i.ajaxPrefilter("json jsonp",function(r,u,f){var e,s,o,h=r.jsonp!==!1&&(lt.test(r.url)?"url":typeof r.data=="string"&&!(r.contentType||"").indexOf("application/x-www-form-urlencoded")&&lt.test(r.data)&&"data");if(h||r.dataTypes[0]==="jsonp")return e=r.jsonpCallback=i.isFunction(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,h?r[h]=r[h].replace(lt,"$1"+e):r.jsonp!==!1&&(r.url+=(ai.test(r.url)?"&":"?")+r.jsonp+"="+e),r.converters["script json"]=function(){return o||i.error(e+" was not called"),o[0]},r.dataTypes[0]="json",s=n[e],n[e]=function(){o=arguments},f.always(function(){n[e]=s;r[e]&&(r.jsonpCallback=u.jsonpCallback,pi.push(e));o&&i.isFunction(s)&&s(o[0]);o=s=t}),"script"});gu=0;at=n.ActiveXObject&&function(){for(var n in g)g[n](t,!0)};i.ajaxSettings.xhr=n.ActiveXObject?function(){return!this.isLocal&&nf()||ao()}:nf;nt=i.ajaxSettings.xhr();i.support.cors=!!nt&&"withCredentials"in nt;nt=i.support.ajax=!!nt;nt&&i.ajaxTransport(function(r){if(!r.crossDomain||i.support.cors){var u;return{send:function(f,e){var h,s,o=r.xhr();if(r.username?o.open(r.type,r.url,r.async,r.username,r.password):o.open(r.type,r.url,r.async),r.xhrFields)for(s in r.xhrFields)o[s]=r.xhrFields[s];r.mimeType&&o.overrideMimeType&&o.overrideMimeType(r.mimeType);r.crossDomain||f["X-Requested-With"]||(f["X-Requested-With"]="XMLHttpRequest");try{for(s in f)o.setRequestHeader(s,f[s])}catch(c){}o.send(r.hasContent&&r.data||null);u=function(n,f){var s,a,l,c;try{if(u&&(f||o.readyState===4))if(u=t,h&&(o.onreadystatechange=i.noop,at&&delete g[h]),f)o.readyState!==4&&o.abort();else{c={};s=o.status;a=o.getAllResponseHeaders();typeof o.responseText=="string"&&(c.text=o.responseText);try{l=o.statusText}catch(y){l=""}s||!r.isLocal||r.crossDomain?s===1223&&(s=204):s=c.text?200:404}}catch(v){f||e(-1,v)}c&&e(s,l,c,a)};r.async?o.readyState===4?setTimeout(u):(h=++gu,at&&(g||(g={},i(n).unload(at)),g[h]=u),o.onreadystatechange=u):u()},abort:function(){u&&u(t,!0)}}}});var tt,vt,vo=/^(?:toggle|show|hide)$/,yo=new RegExp("^(?:([+-])=|)("+st+")([a-z%]*)$","i"),po=/queueHooks$/,yt=[ko],ft={"*":[function(n,t){var o,s,r=this.createTween(n,t),e=yo.exec(t),h=r.cur(),u=+h||0,f=1,c=20;if(e){if(o=+e[2],s=e[3]||(i.cssNumber[n]?"":"px"),s!=="px"&&u){u=i.css(r.elem,n,!0)||o||1;do f=f||".5",u=u/f,i.style(r.elem,n,u+s);while(f!==(f=r.cur()/h)&&f!==1&&--c)}r.unit=s;r.start=u;r.end=e[1]?u+(e[1]+1)*o:o}return r}]};i.Animation=i.extend(rf,{tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.split(" ");for(var r,u=0,f=n.length;u<f;u++)r=n[u],ft[r]=ft[r]||[],ft[r].unshift(t)},prefilter:function(n,t){t?yt.unshift(n):yt.push(n)}});i.Tween=f;f.prototype={constructor:f,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||"swing";this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=f.propHooks[this.prop];return n&&n.get?n.get(this):f.propHooks._default.get(this)},run:function(n){var t,r=f.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):f.propHooks._default.set(this),this}};f.prototype.init.prototype=f.prototype;f.propHooks={_default:{get:function(n){var t;return n.elem[n.prop]!=null&&(!n.elem.style||n.elem.style[n.prop]==null)?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.style&&(n.elem.style[i.cssProps[n.prop]]!=null||i.cssHooks[n.prop])?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};f.propHooks.scrollTop=f.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(pt(t,!0),n,i,u)}});i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var o=i.isEmptyObject(n),e=i.speed(t,r,u),f=function(){var t=rf(this,i.extend({},n),e);f.finish=function(){t.stop(!0)};(o||i._data(this,"finish"))&&t.stop(!0)};return f.finish=f,o||e.queue===!1?this.each(f):this.queue(e.queue,f)},stop:function(n,r,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=r,r=n,n=t),r&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=n!=null&&n+"queueHooks",e=i.timers,r=i._data(this);if(t)r[t]&&r[t].stop&&f(r[t]);else for(t in r)r[t]&&r[t].stop&&po.test(t)&&f(r[t]);for(t=e.length;t--;)e[t].elem===this&&(n==null||e[t].queue===n)&&(e[t].anim.stop(u),o=!1,e.splice(t,1));(o||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,f=i._data(this),r=f[n+"queue"],e=f[n+"queueHooks"],u=i.timers,o=r?r.length:0;for(f.finish=!0,i.queue(this,n,[]),e&&e.cur&&e.cur.finish&&e.cur.finish.call(this),t=u.length;t--;)u[t].elem===this&&u[t].queue===n&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete f.finish})}});i.each({slideDown:pt("show"),slideUp:pt("hide"),slideToggle:pt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.speed=function(n,t,r){var u=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:typeof u.duration=="number"?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2}};i.timers=[];i.fx=f.prototype.init;i.fx.tick=function(){var u,n=i.timers,r=0;for(tt=i.now();r<n.length;r++)u=n[r],u()||n[r]!==u||n.splice(r--,1);n.length||i.fx.stop();tt=t};i.fx.timer=function(n){n()&&i.timers.push(n)&&i.fx.start()};i.fx.interval=13;i.fx.start=function(){vt||(vt=setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){clearInterval(vt);vt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fx.step={};i.expr&&i.expr.filters&&(i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length});i.fn.offset=function(n){if(arguments.length)return n===t?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,e,f={top:0,left:0},u=this[0],s=u&&u.ownerDocument;if(s)return(r=s.documentElement,!i.contains(r,u))?f:(typeof u.getBoundingClientRect!==o&&(f=u.getBoundingClientRect()),e=uf(s),{top:f.top+(e.pageYOffset||r.scrollTop)-(r.clientTop||0),left:f.left+(e.pageXOffset||r.scrollLeft)-(r.clientLeft||0)})};i.offset={setOffset:function(n,t,r){var f=i.css(n,"position");f==="static"&&(n.style.position="relative");var e=i(n),o=e.offset(),l=i.css(n,"top"),a=i.css(n,"left"),v=(f==="absolute"||f==="fixed")&&i.inArray("auto",[l,a])>-1,u={},s={},h,c;v?(s=e.position(),h=s.top,c=s.left):(h=parseFloat(l)||0,c=parseFloat(a)||0);i.isFunction(t)&&(t=t.call(n,r,o));t.top!=null&&(u.top=t.top-o.top+h);t.left!=null&&(u.left=t.left-o.left+c);"using"in t?t.using.call(n,u):e.css(u)}};i.fn.extend({position:function(){if(this[0]){var n,r,t={top:0,left:0},u=this[0];return i.css(u,"position")==="fixed"?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent||r.documentElement;n&&!i.nodeName(n,"html")&&i.css(n,"position")==="static";)n=n.offsetParent;return n||r.documentElement})}});i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var u=/Y/.test(r);i.fn[n]=function(f){return i.access(this,function(n,f,e){var o=uf(n);if(e===t)return o?r in o?o[r]:o.document.documentElement[f]:n[f];o?o.scrollTo(u?i(o).scrollLeft():e,u?e:i(o).scrollTop()):n[f]=e},n,f,arguments.length,null)}});i.each({Height:"height",Width:"width"},function(n,r){i.each({padding:"inner"+n,content:r,"":"outer"+n},function(u,f){i.fn[f]=function(f,e){var o=arguments.length&&(u||typeof f!="boolean"),s=u||(f===!0||e===!0?"margin":"border");return i.access(this,function(r,u,f){var e;return i.isWindow(r)?r.document.documentElement["client"+n]:r.nodeType===9?(e=r.documentElement,Math.max(r.body["scroll"+n],e["scroll"+n],r.body["offset"+n],e["offset"+n],e["client"+n])):f===t?i.css(r,u,s):i.style(r,u,f,s)},r,o?f:t,o,null)}})});n.jQuery=n.$=i;typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return i})})(window),function(){function n(n){return function(){return n}}(function(t){var u=this||eval("this"),r=u.document,e=u.navigator,i=u.jQuery,f=u.JSON;(function(n){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?n(module.exports||exports):"function"==typeof define&&define.amd?define(["exports"],n):n(u.ko={})})(function(o){function c(n,t,i,r){s.d[n]={init:function(n){return s.a.f.set(n,a,{}),{controlsDescendantBindings:!0}},update:function(n,u,f,e,o){f=s.a.f.get(n,a);u=s.a.c(u());e=!i!=!u;var h=!f.fb;(h||t||e!==f.vb)&&(h&&(f.fb=s.a.Oa(s.e.childNodes(n),!0)),e?(h||s.e.P(n,s.a.Oa(f.fb)),s.Ja(r?r(o,u):o,n)):s.e.ba(n),f.vb=e)}};s.g.S[n]=!1;s.e.L[n]=!0}function v(n,t,i){i&&t!==s.h.n(n)&&s.h.W(n,t);t!==s.h.n(n)&&s.q.I(s.a.Ga,null,[n,"change"])}var s="undefined"!=typeof o?o:{},y,h,l,a;s.b=function(n,t){for(var i=n.split("."),r=s,u=0;u<i.length-1;u++)r=r[i[u]];r[i[i.length-1]]=t};s.r=function(n,t,i){n[t]=i};s.version="2.3.0";s.b("version",s.version);s.a=function(){function o(n,t){for(var i in n)n.hasOwnProperty(i)&&t(i,n[i])}function h(n,t){if("input"!==s.a.u(n)||!n.type||"click"!=t.toLowerCase())return!1;var i=n.type;return"checkbox"==i||"radio"==i}var c={},l={},a,n;return c[e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],c.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(c,function(n,t){if(t.length)for(var i=0,r=t.length;i<r;i++)l[t[i]]=n}),a={propertychange:!0},n=r&&function(){for(var n=3,i=r.createElement("div"),u=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++n+"]><i><\/i><![endif]-->",u[0];);return 4<n?n:t}(),{Ta:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],p:function(n,t){for(var i=0,r=n.length;i<r;i++)t(n[i])},k:function(n,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(n,t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},La:function(n,t,i){for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r]))return n[r];return null},ka:function(n,t){var i=s.a.k(n,t);0<=i&&n.splice(i,1)},Ma:function(n){n=n||[];for(var i=[],t=0,r=n.length;t<r;t++)0>s.a.k(i,n[t])&&i.push(n[t]);return i},Z:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)r.push(t(n[i]));return r},Y:function(n,t){n=n||[];for(var r=[],i=0,u=n.length;i<u;i++)t(n[i])&&r.push(n[i]);return r},R:function(n,t){if(t instanceof Array)n.push.apply(n,t);else for(var i=0,r=t.length;i<r;i++)n.push(t[i]);return n},ja:function(n,t,i){var r=n.indexOf?n.indexOf(t):s.a.k(n,t);0>r?i&&n.push(t):i||n.splice(r,1)},extend:function(n,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},w:o,oa:function(n){for(;n.firstChild;)s.removeNode(n.firstChild)},Mb:function(n){n=s.a.N(n);for(var i=r.createElement("div"),t=0,u=n.length;t<u;t++)i.appendChild(s.H(n[t]));return i},Oa:function(n,t){for(var r,i=0,f=n.length,u=[];i<f;i++)r=n[i].cloneNode(!0),u.push(t?s.H(r):r);return u},P:function(n,t){if(s.a.oa(n),t)for(var i=0,r=t.length;i<r;i++)n.appendChild(t[i])},eb:function(n,t){var r=n.nodeType?[n]:n;if(0<r.length){for(var f=r[0],e=f.parentNode,i=0,u=t.length;i<u;i++)e.insertBefore(t[i],f);for(i=0,u=r.length;i<u;i++)s.removeNode(r[i])}},hb:function(t,i){7>n?t.setAttribute("selected",i):t.selected=i},F:function(n){return null===n||n===t?"":n.trim?n.trim():n.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Wb:function(n,t){for(var r,u=[],f=(n||"").split(t),i=0,e=f.length;i<e;i++)r=s.a.F(f[i]),""!==r&&u.push(r);return u},Tb:function(n,t){return n=n||"",t.length>n.length?!1:n.substring(0,t.length)===t},yb:function(n,t){if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(n)&16);for(;null!=n;){if(n==t)return!0;n=n.parentNode}return!1},aa:function(n){return s.a.yb(n,n.ownerDocument)},pb:function(n){return!!s.a.La(n,s.a.aa)},u:function(n){return n&&n.tagName&&n.tagName.toLowerCase()},o:function(t,r,u){var o=n&&a[r],f,e,c;if(o||"undefined"==typeof i)if(o||"function"!=typeof t.addEventListener)if("undefined"!=typeof t.attachEvent)f=function(n){u.call(t,n)},e="on"+r,t.attachEvent(e,f),s.a.C.ia(t,function(){t.detachEvent(e,f)});else throw Error("Browser doesn't support addEventListener or attachEvent");else t.addEventListener(r,u,!1);else h(t,r)&&(c=u,u=function(n,t){var i=this.checked;t&&(this.checked=!0!==t.sb);c.call(this,n);this.checked=i}),i(t).bind(r,u)},Ga:function(n,t){if(!n||!n.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if("undefined"!=typeof i){var f=[];h(n,t)&&f.push({sb:n.checked});i(n).trigger(t,f)}else if("function"==typeof r.createEvent)if("function"==typeof n.dispatchEvent)f=r.createEvent(l[t]||"HTMLEvents"),f.initEvent(t,!0,!0,u,0,0,0,0,0,!1,!1,!1,!1,0,n),n.dispatchEvent(f);else throw Error("The supplied element doesn't support dispatchEvent");else if("undefined"!=typeof n.fireEvent)h(n,t)&&(n.checked=!0!==n.checked),n.fireEvent("on"+t);else throw Error("Browser doesn't support triggering events");},c:function(n){return s.T(n)?n():n},ya:function(n){return s.T(n)?n.t():n},ga:function(n,t,i){if(t){var r=/\S+/g,u=n.className.match(r)||[];s.a.p(t.match(r),function(n){s.a.ja(u,n,i)});n.className=u.join(" ")}},ib:function(n,i){var u=s.a.c(i),f;(null===u||u===t)&&(u="");f=s.e.firstChild(n);!f||3!=f.nodeType||s.e.nextSibling(f)?s.e.P(n,[r.createTextNode(u)]):f.data=u;s.a.Bb(n)},gb:function(t,i){if(t.name=i,7>=n)try{t.mergeAttributes(r.createElement("<input name='"+t.name+"'/>"),!1)}catch(u){}},Bb:function(t){9<=n&&(t=1==t.nodeType?t:t.parentNode,t.style&&(t.style.zoom=t.style.zoom))},zb:function(t){if(n){var i=t.style.width;t.style.width=0;t.style.width=i}},Qb:function(n,t){n=s.a.c(n);t=s.a.c(t);for(var r=[],i=n;i<=t;i++)r.push(i);return r},N:function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i},Ub:6===n,Vb:7===n,ca:n,Ua:function(n,t){for(var r=s.a.N(n.getElementsByTagName("input")).concat(s.a.N(n.getElementsByTagName("textarea"))),f="string"==typeof t?function(n){return n.name===t}:function(n){return t.test(n.name)},u=[],i=r.length-1;0<=i;i--)f(r[i])&&u.push(r[i]);return u},Nb:function(n){return"string"==typeof n&&(n=s.a.F(n))?f&&f.parse?f.parse(n):new Function("return "+n)():null},Ca:function(n,t,i){if(!f||!f.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return f.stringify(s.a.c(n),t,i)},Ob:function(n,t,i){var v,e,h,f,u,c;i=i||{};var l=i.params||{},a=i.includeFields||this.Ta,v=n;if("object"==typeof n&&"form"===s.a.u(n))for(v=n.action,e=a.length-1;0<=e;e--)for(h=s.a.Ua(n,a[e]),f=h.length-1;0<=f;f--)l[h[f].name]=h[f].value;t=s.a.c(t);u=r.createElement("form");u.style.display="none";u.action=v;u.method="post";for(c in t)n=r.createElement("input"),n.name=c,n.value=s.a.Ca(s.a.c(t[c])),u.appendChild(n);o(l,function(n,t){var i=r.createElement("input");i.name=n;i.value=t;u.appendChild(i)});r.body.appendChild(u);i.submitter?i.submitter(u):u.submit();setTimeout(function(){u.parentNode.removeChild(u)},0)}}}();s.b("utils",s.a);s.b("utils.arrayForEach",s.a.p);s.b("utils.arrayFirst",s.a.La);s.b("utils.arrayFilter",s.a.Y);s.b("utils.arrayGetDistinctValues",s.a.Ma);s.b("utils.arrayIndexOf",s.a.k);s.b("utils.arrayMap",s.a.Z);s.b("utils.arrayPushAll",s.a.R);s.b("utils.arrayRemoveItem",s.a.ka);s.b("utils.extend",s.a.extend);s.b("utils.fieldsIncludedWithJsonPost",s.a.Ta);s.b("utils.getFormFields",s.a.Ua);s.b("utils.peekObservable",s.a.ya);s.b("utils.postJson",s.a.Ob);s.b("utils.parseJson",s.a.Nb);s.b("utils.registerEventHandler",s.a.o);s.b("utils.stringifyJson",s.a.Ca);s.b("utils.range",s.a.Qb);s.b("utils.toggleDomNodeCssClass",s.a.ga);s.b("utils.triggerEvent",s.a.Ga);s.b("utils.unwrapObservable",s.a.c);s.b("utils.objectForEach",s.a.w);s.b("utils.addOrRemoveItem",s.a.ja);s.b("unwrap",s.a.c);Function.prototype.bind||(Function.prototype.bind=function(n){var i=this,t=Array.prototype.slice.call(arguments);return n=t.shift(),function(){return i.apply(n,t.concat(Array.prototype.slice.call(arguments)))}});s.a.f=new function(){var r=0,n="__ko__"+(new Date).getTime(),i={};return{get:function(n,i){var r=s.a.f.pa(n,!1);return r===t?t:r[i]},set:function(n,i,r){(r!==t||s.a.f.pa(n,!1)!==t)&&(s.a.f.pa(n,!0)[i]=r)},pa:function(u,f){var e=u[n];if(!e||"null"===e||!i[e]){if(!f)return t;e=u[n]="ko"+r++;i[e]={}}return i[e]},clear:function(t){var r=t[n];return r?(delete i[r],t[n]=null,!0):!1}}};s.b("utils.domData",s.a.f);s.b("utils.domData.clear",s.a.f.clear);s.a.C=new function(){function n(n,i){var r=s.a.f.get(n,u);return r===t&&i&&(r=[],s.a.f.set(n,u,r)),r}function r(t){var u=n(t,!1),e;if(u)for(u=u.slice(0),e=0;e<u.length;e++)u[e](t);if(s.a.f.clear(t),"function"==typeof i&&"function"==typeof i.cleanData&&i.cleanData([t]),f[t.nodeType])for(u=t.firstChild;t=u;)u=t.nextSibling,8===t.nodeType&&r(t)}var u="__ko_domNodeDisposal__"+(new Date).getTime(),e={1:!0,8:!0,9:!0},f={1:!0,9:!0};return{ia:function(t,i){if("function"!=typeof i)throw Error("Callback must be a function");n(t,!0).push(i)},cb:function(i,r){var f=n(i,!1);f&&(s.a.ka(f,r),0==f.length&&s.a.f.set(i,u,t))},H:function(n){var t,i,u;if(e[n.nodeType]&&(r(n),f[n.nodeType]))for(t=[],s.a.R(t,n.getElementsByTagName("*")),i=0,u=t.length;i<u;i++)r(t[i]);return n},removeNode:function(n){s.H(n);n.parentNode&&n.parentNode.removeChild(n)}}};s.H=s.a.C.H;s.removeNode=s.a.C.removeNode;s.b("cleanNode",s.H);s.b("removeNode",s.removeNode);s.b("utils.domNodeDisposal",s.a.C);s.b("utils.domNodeDisposal.addDisposeCallback",s.a.C.ia);s.b("utils.domNodeDisposal.removeDisposeCallback",s.a.C.cb),function(){s.a.xa=function(n){var t,f;if("undefined"!=typeof i){if(i.parseHTML)t=i.parseHTML(n)||[];else if((t=i.clean([n]))&&t[0]){for(n=t[0];n.parentNode&&11!==n.parentNode.nodeType;)n=n.parentNode;n.parentNode&&n.parentNode.removeChild(n)}}else{for(f=s.a.F(n).toLowerCase(),t=r.createElement("div"),f=f.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","<\/table>"]||!f.indexOf("<tr")&&[2,"<table><tbody>","<\/tbody><\/table>"]||(!f.indexOf("<td")||!f.indexOf("<th"))&&[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"]||[0,"",""],n="ignored<div>"+f[1]+n+f[2]+"<\/div>","function"==typeof u.innerShiv?t.appendChild(u.innerShiv(n)):t.innerHTML=n;f[0]--;)t=t.lastChild;t=s.a.N(t.lastChild.childNodes)}return t};s.a.fa=function(n,r){if(s.a.oa(n),r=s.a.c(r),null!==r&&r!==t)if("string"!=typeof r&&(r=r.toString()),"undefined"!=typeof i)i(n).html(r);else for(var f=s.a.xa(r),u=0;u<f.length;u++)n.appendChild(f[u])}}();s.b("utils.parseHtmlFragment",s.a.xa);s.b("utils.setHtml",s.a.fa);s.s=function(){function i(n,t){var r;if(n)if(8==n.nodeType)r=s.s.$a(n.nodeValue),null!=r&&t.push({xb:n,Kb:r});else if(1==n.nodeType)for(var r=0,u=n.childNodes,f=u.length;r<f;r++)i(u[r],t)}var n={};return{va:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var i=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[i]=t,"<!--[ko_memo:"+i+"]-->"},mb:function(i,r){var u=n[i];if(u===t)throw Error("Couldn't find any memo with ID "+i+". Perhaps it's already been unmemoized.");try{return u.apply(null,r||[]),!0}finally{delete n[i]}},nb:function(n,t){var f=[],u,o,r,e;for(i(n,f),u=0,o=f.length;u<o;u++)r=f[u].xb,e=[r],t&&s.a.R(e,t),s.s.mb(f[u].Kb,e),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)},$a:function(n){return(n=n.match(/^\[ko_memo\:(.*?)\]$/))?n[1]:null}}}();s.b("memoization",s.s);s.b("memoization.memoize",s.s.va);s.b("memoization.unmemoize",s.s.mb);s.b("memoization.parseMemoText",s.s.$a);s.b("memoization.unmemoizeDomNodeAndDescendants",s.s.nb);s.Sa={throttle:function(n,t){n.throttleEvaluation=t;var i=null;return s.j({read:n,write:function(r){clearTimeout(i);i=setTimeout(function(){n(r)},t)}})},notify:function(t,i){return t.equalityComparer="always"==i?n(!1):s.m.fn.equalityComparer,t}};s.b("extenders",s.Sa);s.kb=function(n,t,i){this.target=n;this.la=t;this.wb=i;s.r(this,"dispose",this.B)};s.kb.prototype.B=function(){this.Hb=!0;this.wb()};s.V=function(){this.G={};s.a.extend(this,s.V.fn);s.r(this,"subscribe",this.Da);s.r(this,"extend",this.extend);s.r(this,"getSubscriptionsCount",this.Db)};s.V.fn={Da:function(n,t,i){i=i||"change";var r=new s.kb(this,t?n.bind(t):n,function(){s.a.ka(this.G[i],r)}.bind(this));return this.G[i]||(this.G[i]=[]),this.G[i].push(r),r},notifySubscribers:function(n,t){t=t||"change";this.G[t]&&s.q.I(function(){s.a.p(this.G[t].slice(0),function(t){t&&!0!==t.Hb&&t.la(n)})},this)},Db:function(){var n=0;return s.a.w(this.G,function(t,i){n+=i.length}),n},extend:function(n){var t=this;return n&&s.a.w(n,function(n,i){var r=s.Sa[n];"function"==typeof r&&(t=r(t,i))}),t}};s.Wa=function(n){return null!=n&&"function"==typeof n.Da&&"function"==typeof n.notifySubscribers};s.b("subscribable",s.V);s.b("isSubscribable",s.Wa);s.q=function(){var n=[];return{rb:function(t){n.push({la:t,Ra:[]})},end:function(){n.pop()},bb:function(t){if(!s.Wa(t))throw Error("Only subscribable things can act as dependencies");if(0<n.length){var i=n[n.length-1];!i||0<=s.a.k(i.Ra,t)||(i.Ra.push(t),i.la(t))}},I:function(t,i,r){try{return n.push(null),t.apply(i,r||[])}finally{n.pop()}}}}();y={undefined:!0,boolean:!0,number:!0,string:!0};s.m=function(n){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.K(),i=arguments[0],t.J()),this):(s.q.bb(t),i)}var i=n;return s.V.call(t),t.t=function(){return i},t.J=function(){t.notifySubscribers(i)},t.K=function(){t.notifySubscribers(i,"beforeChange")},s.a.extend(t,s.m.fn),s.r(t,"peek",t.t),s.r(t,"valueHasMutated",t.J),s.r(t,"valueWillMutate",t.K),t};s.m.fn={equalityComparer:function(n,t){return null===n||typeof n in y?n===t:!1}};h=s.m.Pb="__ko_proto__";s.m.fn[h]=s.m;s.qa=function(n,i){return null===n||n===t||n[h]===t?!1:n[h]===i?!0:s.qa(n[h],i)};s.T=function(n){return s.qa(n,s.m)};s.Xa=function(n){return"function"==typeof n&&n[h]===s.m||"function"==typeof n&&n[h]===s.j&&n.Eb?!0:!1};s.b("observable",s.m);s.b("isObservable",s.T);s.b("isWriteableObservable",s.Xa);s.U=function(n){if(n=n||[],"object"!=typeof n||!("length"in n))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return n=s.m(n),s.a.extend(n,s.U.fn),n};s.U.fn={remove:function(n){for(var u,r=this.t(),i=[],f="function"==typeof n?n:function(t){return t===n},t=0;t<r.length;t++)u=r[t],f(u)&&(0===i.length&&this.K(),i.push(u),r.splice(t,1),t--);return i.length&&this.J(),i},removeAll:function(n){if(n===t){var i=this.t(),r=i.slice(0);return this.K(),i.splice(0,i.length),this.J(),r}return n?this.remove(function(t){return 0<=s.a.k(n,t)}):[]},destroy:function(n){var i=this.t(),r="function"==typeof n?n:function(t){return t===n},t;for(this.K(),t=i.length-1;0<=t;t--)r(i[t])&&(i[t]._destroy=!0);this.J()},destroyAll:function(i){return i===t?this.destroy(n(!0)):i?this.destroy(function(n){return 0<=s.a.k(i,n)}):[]},indexOf:function(n){var t=this();return s.a.k(t,n)},replace:function(n,t){var i=this.indexOf(n);0<=i&&(this.K(),this.t()[i]=t,this.J())}};s.a.p("pop push reverse shift sort splice unshift".split(" "),function(n){s.U.fn[n]=function(){var t=this.t();return this.K(),t=t[n].apply(t,arguments),this.J(),t}});s.a.p(["slice"],function(n){s.U.fn[n]=function(){var t=this();return t[n].apply(t,arguments)}});s.b("observableArray",s.U);s.j=function(i,r,u){function w(){s.a.p(o,function(n){n.B()});o=[]}function nt(){var n=f.throttleEvaluation;n&&0<=n?(clearTimeout(d),d=setTimeout(c,n)):c()}function c(){var n,u,i;if(!y)if(a&&p())h();else{y=!0;try{for(n=s.a.Z(o,function(n){return n.target}),s.q.rb(function(i){var r;0<=(r=s.a.k(n,i))?n[r]=t:o.push(i.Da(nt))}),u=e.call(r),i=n.length-1;0<=i;i--)n[i]&&o.splice(i,1)[0].B();a=!0;f.notifySubscribers(l,"beforeChange");l=u;f.notifySubscribers(l)}finally{s.q.end();y=!1}o.length||h()}}function f(){if(0<arguments.length){if("function"==typeof k)k.apply(r,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return a||c(),s.q.bb(f),l}function b(){return!a||0<o.length}var l,a=!1,y=!1,e=i,g,p;if(e&&"object"==typeof e?(u=e,e=u.read):(u=u||{},e||(e=u.read)),"function"!=typeof e)throw Error("Pass a function that returns the value of the ko.computed");var k=u.write,v=u.disposeWhenNodeIsRemoved||u.$||null,p=u.disposeWhen||u.Qa||n(!1),h=w,o=[],d=null;return r||(r=u.owner),f.t=function(){return a||c(),l},f.Cb=function(){return o.length},f.Eb="function"==typeof u.write,f.B=function(){h()},f.ta=b,s.V.call(f),s.a.extend(f,s.j.fn),s.r(f,"peek",f.t),s.r(f,"dispose",f.B),s.r(f,"isActive",f.ta),s.r(f,"getDependenciesCount",f.Cb),!0!==u.deferEvaluation&&c(),v&&b()&&(h=function(){s.a.C.cb(v,h);w()},s.a.C.ia(v,h),g=p,p=function(){return!s.a.aa(v)||g()}),f};s.Gb=function(n){return s.qa(n,s.j)};o=s.m.Pb;s.j[o]=s.m;s.j.fn={};s.j.fn[o]=s.j;s.b("dependentObservable",s.j);s.b("computed",s.j);s.b("isComputed",s.Gb),function(){function n(u,f,e){if(e=e||new i,u=f(u),"object"!=typeof u||null===u||u===t||u instanceof Date||u instanceof String||u instanceof Number||u instanceof Boolean)return u;var o=u instanceof Array?[]:{};return e.save(u,o),r(u,function(i){var r=f(u[i]),s;switch(typeof r){case"boolean":case"number":case"string":case"function":o[i]=r;break;case"object":case"undefined":s=e.get(r);o[i]=s!==t?s:n(r,f,e)}}),o}function r(n,t){if(n instanceof Array){for(var i=0;i<n.length;i++)t(i);"function"==typeof n.toJSON&&t("toJSON")}else for(i in n)t(i)}function i(){this.keys=[];this.Ha=[]}s.lb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return n(t,function(n){for(var t=0;s.T(n)&&10>t;t++)n=n();return n})};s.toJSON=function(n,t,i){return n=s.lb(n),s.a.Ca(n,t,i)};i.prototype={save:function(n,t){var i=s.a.k(this.keys,n);0<=i?this.Ha[i]=t:(this.keys.push(n),this.Ha.push(t))},get:function(n){return n=s.a.k(this.keys,n),0<=n?this.Ha[n]:t}}}();s.b("toJS",s.lb);s.b("toJSON",s.toJSON),function(){s.h={n:function(n){switch(s.a.u(n)){case"option":return!0===n.__ko__hasDomDataOptionValue__?s.a.f.get(n,s.d.options.wa):7>=s.a.ca?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return 0<=n.selectedIndex?s.h.n(n.options[n.selectedIndex]):t;default:return n.value}},W:function(n,i){switch(s.a.u(n)){case"option":switch(typeof i){case"string":s.a.f.set(n,s.d.options.wa,t);"__ko__hasDomDataOptionValue__"in n&&delete n.__ko__hasDomDataOptionValue__;n.value=i;break;default:s.a.f.set(n,s.d.options.wa,i);n.__ko__hasDomDataOptionValue__=!0;n.value="number"==typeof i?i:""}break;case"select":""===i&&(i=t);(null===i||i===t)&&(n.selectedIndex=-1);for(var r=n.options.length-1;0<=r;r--)if(s.h.n(n.options[r])==i){n.selectedIndex=r;break}1<n.size||-1!==n.selectedIndex||(n.selectedIndex=0);break;default:(null===i||i===t)&&(i="");n.value=i}}}}();s.b("selectExtensions",s.h);s.b("selectExtensions.readValue",s.h.n);s.b("selectExtensions.writeValue",s.h.W);s.g=function(){function n(n,i){for(var r=null;n!=r;)r=n,n=n.replace(t,function(n,t){return i[t]});return n}var t=/\@ko_token_(\d+)\@/g,i=["true","false","null","undefined"],r=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;return{S:[],da:function(t){var i=s.a.F(t),f,e,r,u;if(3>i.length)return[];for("{"===i.charAt(0)&&(i=i.substring(1,i.length-1)),t=[],f=null,r=0;r<i.length;r++)if(u=i.charAt(r),null===f)switch(u){case'"':case"'":case"/":f=r;e=u}else if(u==e&&"\\"!==i.charAt(r-1)){u=i.substring(f,r+1);t.push(u);var c="@ko_token_"+(t.length-1)+"@",i=i.substring(0,f)+c+i.substring(r+1),r=r-(u.length-c.length),f=null}e=f=null;for(var o=0,h=null,r=0;r<i.length;r++){if(u=i.charAt(r),null===f)switch(u){case"{":f=r;h=u;e="}";break;case"(":f=r;h=u;e=")";break;case"[":f=r;h=u;e="]"}u===h?o++:u===e&&(o--,0===o&&(u=i.substring(f,r+1),t.push(u),c="@ko_token_"+(t.length-1)+"@",i=i.substring(0,f)+c+i.substring(r+1),r-=u.length-c.length,f=null))}for(e=[],i=i.split(","),f=0,r=i.length;f<r;f++)o=i[f],h=o.indexOf(":"),0<h&&h<o.length-1?(u=o.substring(h+1),e.push({key:n(o.substring(0,h),t),value:n(u,t)})):e.push({unknown:n(o,t)});return e},ea:function(n){var e="string"==typeof n?s.g.da(n):n,f=[],t,h,o,u;for(n=[],h=0;t=e[h];h++)if(0<f.length&&f.push(","),t.key){n:{o=t.key;u=s.a.F(o);switch(u.length&&u.charAt(0)){case"'":case'"':break n;default:o="'"+u+"'"}}t=t.value;f.push(o);f.push(":");f.push(t);t=s.a.F(t);0<=s.a.k(i,s.a.F(t).toLowerCase())?t=!1:(u=t.match(r),t=null===u?!1:u[1]?"Object("+u[1]+")"+u[2]:t);t&&(0<n.length&&n.push(", "),n.push(o+" : function(__ko_value) { "+t+" = __ko_value; }"))}else t.unknown&&f.push(t.unknown);return e=f.join(""),0<n.length&&(e=e+", '_ko_property_writers' : { "+n.join("")+" } "),e},Jb:function(n,t){for(var i=0;i<n.length;i++)if(s.a.F(n[i].key)==t)return!0;return!1},ha:function(n,t,i,r,u){n&&s.T(n)?!s.Xa(n)||u&&n.t()===r||n(r):(n=t()._ko_property_writers)&&n[i]&&n[i](r)}}}();s.b("expressionRewriting",s.g);s.b("expressionRewriting.bindingRewriteValidators",s.g.S);s.b("expressionRewriting.parseObjectLiteral",s.g.da);s.b("expressionRewriting.preProcessBindings",s.g.ea);s.b("jsonExpressionRewriting",s.g);s.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",s.g.ea),function(){function n(n){return 8==n.nodeType&&(i?n.text:n.nodeValue).match(e)}function t(n){return 8==n.nodeType&&(i?n.text:n.nodeValue).match(o)}function u(i,r){for(var u=i,f=1,e=[];u=u.nextSibling;){if(t(u)&&(f--,0===f))return e;e.push(u);n(u)&&f++}if(!r)throw Error("Cannot find closing comment tag to match: "+i.nodeValue);return null}function f(n,t){var i=u(n,t);return i?0<i.length?i[i.length-1].nextSibling:n.nextSibling:null}var i=r&&"<!--test-->"===r.createComment("test").text,e=i?/^\x3c!--\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*--\x3e$/:/^\s*ko(?:\s+(.+\s*\:[\s\S]*))?\s*$/,o=i?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,h={ul:!0,ol:!0};s.e={L:{},childNodes:function(t){return n(t)?u(t):t.childNodes},ba:function(t){if(n(t)){t=s.e.childNodes(t);for(var i=0,r=t.length;i<r;i++)s.removeNode(t[i])}else s.a.oa(t)},P:function(t,i){if(n(t)){s.e.ba(t);for(var u=t.nextSibling,r=0,f=i.length;r<f;r++)u.parentNode.insertBefore(i[r],u)}else s.a.P(t,i)},ab:function(t,i){n(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},Va:function(t,i,r){r?n(t)?t.parentNode.insertBefore(i,r.nextSibling):r.nextSibling?t.insertBefore(i,r.nextSibling):t.appendChild(i):s.e.ab(t,i)},firstChild:function(i){return n(i)?!i.nextSibling||t(i.nextSibling)?null:i.nextSibling:i.firstChild},nextSibling:function(i){return n(i)&&(i=f(i)),i.nextSibling&&t(i.nextSibling)?null:i.nextSibling},ob:function(t){return(t=n(t))?t[1]:null},Za:function(i){var o,r,u,e;if(h[s.a.u(i)]&&(o=i.firstChild,o))do if(1===o.nodeType){if(r=o.firstChild,u=null,r)do u?u.push(r):n(r)?(e=f(r,!0),e?r=e:u=[r]):t(r)&&(u=[r]);while(r=r.nextSibling);if(r=u)for(u=o.nextSibling,e=0;e<r.length;e++)u?i.insertBefore(r[e],u):i.appendChild(r[e])}while(o=o.nextSibling)}}}();s.b("virtualElements",s.e);s.b("virtualElements.allowedBindings",s.e.L);s.b("virtualElements.emptyNode",s.e.ba);s.b("virtualElements.insertAfter",s.e.Va);s.b("virtualElements.prepend",s.e.ab);s.b("virtualElements.setDomNodeChildren",s.e.P),function(){s.M=function(){this.Na={}};s.a.extend(s.M.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return null!=n.getAttribute("data-bind");case 8:return null!=s.e.ob(n);default:return!1}},getBindings:function(n,t){var i=this.getBindingsString(n,t);return i?this.parseBindingsString(i,t,n):null},getBindingsString:function(n){switch(n.nodeType){case 1:return n.getAttribute("data-bind");case 8:return s.e.ob(n);default:return null}},parseBindingsString:function(n,t,i){var r,f,e,o;try{return(r=this.Na[n])||(f=this.Na,o="with($context){with($data||{}){return{"+s.g.ea(n)+"}}}",e=new Function("$context","$element",o),r=f[n]=e),r(t,i)}catch(u){throw u.message="Unable to parse bindings.\nBindings value: "+n+"\nMessage: "+u.message,u;}}});s.M.instance=new s.M}();s.b("bindingProvider",s.M),function(){function n(n,t,r){for(var u=s.e.firstChild(t);t=u;)u=s.e.nextSibling(t),i(n,t,r)}function i(t,i,u){var e=!0,f=1===i.nodeType;f&&s.e.Za(i);(f&&u||s.M.instance.nodeHasBindings(i))&&(e=r(i,null,t,u).Sb);e&&n(t,i,!f)}function r(n,i,r,u){function c(n){return function(){return e[n]}}function l(){return e}var o=0,e,h,a=s.a.f.get(n,f);if(!i){if(a)throw Error("You cannot apply bindings multiple times to the same element.");s.a.f.set(n,f,!0)}return s.j(function(){var f=r&&r instanceof s.A?r:new s.A(s.a.c(r)),v=f.$data;!a&&u&&s.jb(n,f);(e=("function"==typeof i?i(f,n):i)||s.M.instance.getBindings(n,f))&&(0===o&&(o=1,s.a.w(e,function(i){var r=s.d[i];if(r&&8===n.nodeType&&!s.e.L[i])throw Error("The binding '"+i+"' cannot be used with virtual elements");if(r&&"function"==typeof r.init&&(r=r.init(n,c(i),l,v,f))&&r.controlsDescendantBindings){if(h!==t)throw Error("Multiple bindings ("+h+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=i}}),o=2),2===o&&s.a.w(e,function(t){var i=s.d[t];i&&"function"==typeof i.update&&i.update(n,c(t),l,v,f)}))},null,{$:n}),{Sb:h===t}}s.d={};s.A=function(n,t,i){t?(s.a.extend(this,t),this.$parentContext=t,this.$parent=t.$data,this.$parents=(t.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=n,this.ko=s);this.$data=n;i&&(this[i]=n)};s.A.prototype.createChildContext=function(n,t){return new s.A(n,this,t)};s.A.prototype.extend=function(n){var t=s.a.extend(new s.A,this);return s.a.extend(t,n)};var f="__ko_boundElement";s.jb=function(n,t){if(2==arguments.length)s.a.f.set(n,"__ko_bindingContext__",t);else return s.a.f.get(n,"__ko_bindingContext__")};s.Ka=function(n,t,i){return 1===n.nodeType&&s.e.Za(n),r(n,t,i,!0)};s.Ja=function(t,i){1!==i.nodeType&&8!==i.nodeType||n(t,i,!0)};s.Ia=function(n,t){if(t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||u.document.body;i(n,t,!0)};s.na=function(n){switch(n.nodeType){case 1:case 8:var i=s.jb(n);if(i)return i;if(n.parentNode)return s.na(n.parentNode)}return t};s.ub=function(n){return(n=s.na(n))?n.$data:t};s.b("bindingHandlers",s.d);s.b("applyBindings",s.Ia);s.b("applyBindingsToDescendants",s.Ja);s.b("applyBindingsToNode",s.Ka);s.b("contextFor",s.na);s.b("dataFor",s.ub)}();l={"class":"className","for":"htmlFor"};s.d.attr={update:function(n,i){var r=s.a.c(i())||{};s.a.w(r,function(i,r){r=s.a.c(r);var u=!1===r||null===r||r===t;u&&n.removeAttribute(i);8>=s.a.ca&&i in l?(i=l[i],u?n.removeAttribute(i):n[i]=r):u||n.setAttribute(i,r.toString());"name"===i&&s.a.gb(n,u?"":r.toString())})}};s.d.checked={init:function(t,i,r){s.a.o(t,"click",function(){var u,n,f;if("checkbox"==t.type)u=t.checked;else if("radio"==t.type&&t.checked)u=t.value;else return;n=i();f=s.a.c(n);"checkbox"==t.type&&f instanceof Array?s.a.ja(n,t.value,t.checked):s.g.ha(n,r,"checked",u,!0)});"radio"!=t.type||t.name||s.d.uniqueName.init(t,n(!0))},update:function(n,t){var i=s.a.c(t());"checkbox"==n.type?n.checked=i instanceof Array?0<=s.a.k(i,n.value):i:"radio"==n.type&&(n.checked=n.value==i)}};s.d.css={update:function(n,t){var i=s.a.c(t());"object"==typeof i?s.a.w(i,function(t,i){i=s.a.c(i);s.a.ga(n,t,i)}):(i=String(i||""),s.a.ga(n,n.__ko__cssValue,!1),n.__ko__cssValue=i,s.a.ga(n,i,!0))}};s.d.enable={update:function(n,t){var i=s.a.c(t());i&&n.disabled?n.removeAttribute("disabled"):i||n.disabled||(n.disabled=!0)}};s.d.disable={update:function(n,t){s.d.enable.update(n,function(){return!s.a.c(t())})}};s.d.event={init:function(n,t,i,r){var u=t()||{};s.a.w(u,function(u){"string"==typeof u&&s.a.o(n,u,function(n){var e,o=t()[u],h,f;if(o){h=i();try{f=s.a.N(arguments);f.unshift(r);e=o.apply(r,f)}finally{!0!==e&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}!1===h[u+"Bubble"]&&(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation())}})})}};s.d.foreach={Ya:function(n){return function(){var i=n(),t=s.a.ya(i);return!t||"number"==typeof t.length?{foreach:i,templateEngine:s.D.sa}:(s.a.c(i),{foreach:t.data,as:t.as,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:s.D.sa})}},init:function(n,t){return s.d.template.init(n,s.d.foreach.Ya(t))},update:function(n,t,i,r,u){return s.d.template.update(n,s.d.foreach.Ya(t),i,r,u)}};s.g.S.foreach=!1;s.e.L.foreach=!0;s.d.hasfocus={init:function(n,t,i){function r(r){var u,f;if(n.__ko_hasfocusUpdating=!0,u=n.ownerDocument,"activeElement"in u){try{f=u.activeElement}catch(e){f=u.body}r=f===n}u=t();s.g.ha(u,i,"hasfocus",r,!0);n.__ko_hasfocusLastValue=r;n.__ko_hasfocusUpdating=!1}var u=r.bind(null,!0),f=r.bind(null,!1);s.a.o(n,"focus",u);s.a.o(n,"focusin",u);s.a.o(n,"blur",f);s.a.o(n,"focusout",f)},update:function(n,t){var i=!!s.a.c(t());n.__ko_hasfocusUpdating||n.__ko_hasfocusLastValue===i||(i?n.focus():n.blur(),s.q.I(s.a.Ga,null,[n,i?"focusin":"focusout"]))}};s.d.hasFocus=s.d.hasfocus;s.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t){s.a.fa(n,t())}};a="__ko_withIfBindingData";c("if");c("ifnot",!1,!0);c("with",!0,!1,function(n,t){return n.createChildContext(t)});s.d.options={init:function(n){if("select"!==s.a.u(n))throw Error("options binding applies only to SELECT elements");for(;0<n.length;)n.remove(0);return{controlsDescendantBindings:!0}},update:function(n,i,u){function a(n,t,i){var r=typeof t;return"function"==r?t(n):"string"==r?n[t]:i}function y(n,t){if(e){var i=0<=s.a.k(e,s.h.n(t[0]));s.a.hb(t[0],i)}}var p=0==n.length,h=!p&&n.multiple?n.scrollTop:null,l;i=s.a.c(i());var f=u(),w=f.optionsIncludeDestroyed,c={},o,e;n.multiple?e=s.a.Z(n.selectedOptions||s.a.Y(n.childNodes,function(n){return n.tagName&&"option"===s.a.u(n)&&n.selected}),function(n){return s.h.n(n)}):0<=n.selectedIndex&&(e=[s.h.n(n.options[n.selectedIndex])]);i?("undefined"==typeof i.length&&(i=[i]),l=s.a.Y(i,function(n){return w||n===t||null===n||!s.a.c(n._destroy)}),"optionsCaption"in f&&(o=s.a.c(f.optionsCaption),null!==o&&o!==t&&l.unshift(c))):i=[];u=y;f.optionsAfterRender&&(u=function(n,i){y(0,i);s.q.I(f.optionsAfterRender,null,[i[0],n!==c?n:t])});s.a.Aa(n,l,function(n,i,u){return u.length&&(e=u[0].selected&&[s.h.n(u[0])]),i=r.createElement("option"),n===c?(s.a.fa(i,o),s.h.W(i,t)):(u=a(n,f.optionsValue,n),s.h.W(i,s.a.c(u)),n=a(n,f.optionsText,u),s.a.ib(i,n)),[i]},null,u);e=null;p&&"value"in f&&v(n,s.a.ya(f.value),!0);s.a.zb(n);h&&20<Math.abs(h-n.scrollTop)&&(n.scrollTop=h)}};s.d.options.wa="__ko.optionValueDomData__";s.d.selectedOptions={init:function(n,t,i){s.a.o(n,"change",function(){var u=t(),r=[];s.a.p(n.getElementsByTagName("option"),function(n){n.selected&&r.push(s.h.n(n))});s.g.ha(u,i,"selectedOptions",r)})},update:function(n,t){if("select"!=s.a.u(n))throw Error("values binding applies only to SELECT elements");var i=s.a.c(t());i&&"number"==typeof i.length&&s.a.p(n.getElementsByTagName("option"),function(n){var t=0<=s.a.k(i,s.h.n(n));s.a.hb(n,t)})}};s.d.style={update:function(n,t){var i=s.a.c(t()||{});s.a.w(i,function(t,i){i=s.a.c(i);n.style[t]=i||""})}};s.d.submit={init:function(n,t,i,r){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");s.a.o(n,"submit",function(i){var u,f=t();try{u=f.call(r,n)}finally{!0!==u&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}};s.d.text={update:function(n,t){s.a.ib(n,t())}};s.e.L.text=!0;s.d.uniqueName={init:function(n,t){if(t()){var i="ko_unique_"+ ++s.d.uniqueName.tb;s.a.gb(n,i)}}};s.d.uniqueName.tb=0;s.d.value={init:function(n,t,i){function f(){e=!1;var r=t(),u=s.h.n(n);s.g.ha(r,i,"value",u)}var r=["change"],u=i().valueUpdate,e=!1;u&&("string"==typeof u&&(u=[u]),s.a.R(r,u),r=s.a.Ma(r));!s.a.ca||"input"!=n.tagName.toLowerCase()||"text"!=n.type||"off"==n.autocomplete||n.form&&"off"==n.form.autocomplete||-1!=s.a.k(r,"propertychange")||(s.a.o(n,"propertychange",function(){e=!0}),s.a.o(n,"blur",function(){e&&f()}));s.a.p(r,function(t){var i=f;s.a.Tb(t,"after")&&(i=function(){setTimeout(f,0)},t=t.substring(5));s.a.o(n,t,i)})},update:function(n,t){var u="select"===s.a.u(n),r=s.a.c(t()),i=s.h.n(n);r!==i&&(i=function(){s.h.W(n,r)},i(),u&&setTimeout(i,0));u&&0<n.length&&v(n,r,!1)}};s.d.visible={update:function(n,t){var i=s.a.c(t()),r="none"!=n.style.display;i&&!r?n.style.display="":!i&&r&&(n.style.display="none")}},function(n){s.d[n]={init:function(t,i,r,u){return s.d.event.init.call(this,t,function(){var t={};return t[n]=i(),t},r,u)}}}("click");s.v=function(){};s.v.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource");};s.v.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock");};s.v.prototype.makeTemplateSource=function(n,t){if("string"==typeof n){t=t||r;var i=t.getElementById(n);if(!i)throw Error("Cannot find template with ID "+n);return new s.l.i(i)}if(1==n.nodeType||8==n.nodeType)return new s.l.Q(n);throw Error("Unknown template type: "+n);};s.v.prototype.renderTemplate=function(n,t,i,r){return n=this.makeTemplateSource(n,r),this.renderTemplateSource(n,t,i)};s.v.prototype.isTemplateRewritten=function(n,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(n,t).data("isRewritten")};s.v.prototype.rewriteTemplate=function(n,t,i){n=this.makeTemplateSource(n,i);t=t(n.text());n.text(t);n.data("isRewritten",!0)};s.b("templateEngine",s.v);s.Ea=function(){function n(n,t,i,r){var o,f,u,e;for(n=s.g.da(n),o=s.g.S,f=0;f<n.length;f++)if(u=n[f].key,o.hasOwnProperty(u))if(e=o[u],"function"==typeof e){if(u=e(n[f].value))throw Error(u);}else if(!e)throw Error("This template engine does not support the '"+u+"' binding within its templates");return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+s.g.ea(n)+" } })()},'"+i.toLowerCase()+"')",r.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ab:function(n,t,i){t.isTemplateRewritten(n,i)||t.rewriteTemplate(n,function(n){return s.Ea.Lb(n,t)},i)},Lb:function(r,u){return r.replace(t,function(t,i,r,f,e){return n(e,i,r,u)}).replace(i,function(t,i){return n(i,"<!-- ko -->","#comment",u)})},qb:function(n,t){return s.s.va(function(i,r){var u=i.nextSibling;u&&u.nodeName.toLowerCase()===t&&s.Ka(u,n,r)})}}}();s.b("__tr_ambtns",s.Ea.qb),function(){s.l={};s.l.i=function(n){this.i=n};s.l.i.prototype.text=function(){var n=s.a.u(this.i),n="script"===n?"text":"textarea"===n?"value":"innerHTML",t;if(0==arguments.length)return this.i[n];t=arguments[0];"innerHTML"===n?s.a.fa(this.i,t):this.i[n]=t};s.l.i.prototype.data=function(n){if(1===arguments.length)return s.a.f.get(this.i,"templateSourceData_"+n);s.a.f.set(this.i,"templateSourceData_"+n,arguments[1])};s.l.Q=function(n){this.i=n};s.l.Q.prototype=new s.l.i;s.l.Q.prototype.text=function(){if(0==arguments.length){var n=s.a.f.get(this.i,"__ko_anon_template__")||{};return n.Fa===t&&n.ma&&(n.Fa=n.ma.innerHTML),n.Fa}s.a.f.set(this.i,"__ko_anon_template__",{Fa:arguments[0]})};s.l.i.prototype.nodes=function(){if(0==arguments.length)return(s.a.f.get(this.i,"__ko_anon_template__")||{}).ma;s.a.f.set(this.i,"__ko_anon_template__",{ma:arguments[0]})};s.b("templateSources",s.l);s.b("templateSources.domElement",s.l.i);s.b("templateSources.anonymousTemplate",s.l.Q)}(),function(){function r(n,t,i){var r;for(t=s.e.nextSibling(t);n&&(r=n)!==t;)n=s.e.nextSibling(r),1!==r.nodeType&&8!==r.nodeType||i(r)}function u(n,t){if(n.length){var i=n[0],u=n[n.length-1];r(i,u,function(n){s.Ia(t,n)});r(i,u,function(n){s.s.nb(n,[t])})}}function n(n){return n.nodeType?n:0<n.length?n[0]:null}function f(t,r,f,e,o){o=o||{};var h=t&&n(t),h=h&&h.ownerDocument,c=o.templateEngine||i;if(s.Ea.Ab(f,c,h),f=c.renderTemplate(f,e,o,h),"number"!=typeof f.length||0<f.length&&"number"!=typeof f[0].nodeType)throw Error("Template engine must return an array of DOM nodes");h=!1;switch(r){case"replaceChildren":s.e.P(t,f);h=!0;break;case"replaceNode":s.a.eb(t,f);h=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+r);}return h&&(u(f,e),o.afterRender&&s.q.I(o.afterRender,null,[f,e.$data])),f}var i;s.Ba=function(n){if(n!=t&&!(n instanceof s.v))throw Error("templateEngine must inherit from ko.templateEngine");i=n};s.za=function(r,u,e,o,h){if(e=e||{},(e.templateEngine||i)==t)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",o){var c=n(o);return s.j(function(){var t=u&&u instanceof s.A?u:new s.A(s.a.c(u)),i="function"==typeof r?r(t.$data,t):r,t=f(o,h,i,t,e);"replaceNode"==h&&(o=t,c=n(o))},null,{Qa:function(){return!c||!s.a.aa(c)},$:c&&"replaceNode"==h?c.parentNode:c})}return s.s.va(function(n){s.za(r,u,e,n,"replaceNode")})};s.Rb=function(n,i,r,e,o){function c(n,t){u(t,h);r.afterRender&&r.afterRender(t,n)}function l(t,i){h=o.createChildContext(s.a.c(t),r.as);h.$index=i;var u="function"==typeof n?n(t,h):n;return f(null,"ignoreTargetNode",u,h,r)}var h;return s.j(function(){var n=s.a.c(i)||[];"undefined"==typeof n.length&&(n=[n]);n=s.a.Y(n,function(n){return r.includeDestroyed||n===t||null===n||!s.a.c(n._destroy)});s.q.I(s.a.Aa,null,[e,n,l,r,c])},null,{$:e})};s.d.template={init:function(n,t){var i=s.a.c(t());return"string"==typeof i||i.name||1!=n.nodeType&&8!=n.nodeType||(i=1==n.nodeType?n.childNodes:s.e.childNodes(n),i=s.a.Mb(i),new s.l.Q(n).nodes(i)),{controlsDescendantBindings:!0}},update:function(n,i,r,u,f){i=s.a.c(i());r={};u=!0;var e,o=null;"string"!=typeof i&&(r=i,i=s.a.c(r.name),"if"in r&&(u=s.a.c(r["if"])),u&&"ifnot"in r&&(u=!s.a.c(r.ifnot)),e=s.a.c(r.data));"foreach"in r?o=s.Rb(i||n,u&&r.foreach||[],r,n,f):u?(f="data"in r?f.createChildContext(e,r.as):f,o=s.za(i||n,f,r,n)):s.e.ba(n);f=o;(e=s.a.f.get(n,"__ko__templateComputedDomDataKey__"))&&"function"==typeof e.B&&e.B();s.a.f.set(n,"__ko__templateComputedDomDataKey__",f&&f.ta()?f:t)}};s.g.S.template=function(n){return n=s.g.da(n),1==n.length&&n[0].unknown||s.g.Jb(n,"name")?null:"This template engine does not support anonymous templates nested within its templates"};s.e.L.template=!0}();s.b("setTemplateEngine",s.Ba);s.b("renderTemplate",s.za);s.a.Pa=function(){function n(n,t,i,r,u){for(var o=Math.min,l=Math.max,s=[],a=n.length,f,h=t.length,c=h-a||1,w=a+h+1,v,p,b,y,e=0;e<=a;e++)for(p=v,s.push(v=[]),b=o(h,e+c),f=l(0,e-1);f<=b;f++)v[f]=f?e?n[e-1]===t[f-1]?p[f-1]:o(p[f]||w,v[f-1]||w)+1:f+1:e+1;for(o=[],l=[],c=[],e=a,f=h;e||f;)h=s[e][f]-1,f&&h===s[e][f-1]?l.push(o[o.length]={status:i,value:t[--f],index:f}):e&&h===s[e-1][f]?c.push(o[o.length]={status:r,value:n[--e],index:e}):(o.push({status:"retained",value:t[--f]}),--e);if(l.length&&c.length)for(n=10*a,t=i=0;(u||t<n)&&(y=l[i]);i++){for(r=0;s=c[r];r++)if(y.value===s.value){y.moved=s.index;s.moved=y.index;c.splice(r,1);t=r=0;break}t+=r}return o.reverse()}return function(t,i,r){return t=t||[],i=i||[],t.length<=i.length?n(t,i,"added","deleted",r):n(i,t,"deleted","added",r)}}();s.b("utils.compareArrays",s.a.Pa),function(){function n(n){for(;n.length&&!s.a.aa(n[0]);)n.splice(0,1);if(1<n.length){for(var t=n[0],r=n[n.length-1],i=[t];t!==r;){if(t=t.nextSibling,!t)return;i.push(t)}Array.prototype.splice.apply(n,[0,n.length].concat(i))}return n}function i(i,r,u,f,e){var o=[];return i=s.j(function(){var t=r(u,e,n(o))||[];0<o.length&&(s.a.eb(o,t),f&&s.q.I(f,null,[u,t,e]));o.splice(0,o.length);s.a.R(o,t)},null,{$:i,Qa:function(){return!s.a.pb(o)}}),{O:o,j:i.ta()?i:t}}s.a.Aa=function(r,u,f,e,o){function rt(t,i){h=k[i];nt!==i&&(it[t]=h);h.ra(nt++);n(h.O);g.push(h);p.push(h)}function v(n,t){if(n)for(var i=0,r=t.length;i<r;i++)t[i]&&s.a.p(t[i].O,function(r){n(r,i,t[i].X)})}var c,y,ut;u=u||[];e=e||{};var y=s.a.f.get(r,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===t,k=s.a.f.get(r,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],d=s.a.Z(k,function(n){return n.X}),l=s.a.Pa(d,u,e.dontLimitMoves),g=[],a=0,nt=0,tt=[],p=[];u=[];for(var it=[],d=[],h,c=0,w,b;w=l[c];c++)switch(b=w.moved,w.status){case"deleted":b===t&&(h=k[a],h.j&&h.j.B(),tt.push.apply(tt,n(h.O)),e.beforeRemove&&(u[c]=h,p.push(h)));a++;break;case"retained":rt(c,a++);break;case"added":b!==t?rt(c,b):(h={X:w.value,ra:s.m(nt++)},g.push(h),p.push(h),y||(d[c]=h))}for(v(e.beforeMove,it),s.a.p(tt,e.beforeRemove?s.H:s.removeNode),c=0,y=s.e.firstChild(r);h=p[c];c++){for(h.O||s.a.extend(h,i(r,f,h.X,o,h.ra)),a=0;l=h.O[a];y=l.nextSibling,ut=l,a++)l!==y&&s.e.Va(r,l,ut);!h.Fb&&o&&(o(h.X,h.O,h.ra),h.Fb=!0)}v(e.beforeRemove,u);v(e.afterMove,it);v(e.afterAdd,d);s.a.f.set(r,"setDomNodeChildrenFromArrayMapping_lastMappingResult",g)}}();s.b("utils.setDomNodeChildrenFromArrayMapping",s.a.Aa);s.D=function(){this.allowTemplateRewriting=!1};s.D.prototype=new s.v;s.D.prototype.renderTemplateSource=function(n){var t=(9>s.a.ca?0:n.nodes)?n.nodes():null;return t?s.a.N(t.cloneNode(!0).childNodes):(n=n.text(),s.a.xa(n))};s.D.sa=new s.D;s.Ba(s.D.sa);s.b("nativeTemplateEngine",s.D),function(){s.ua=function(){var n=this.Ib=function(){if("undefined"==typeof i||!i.tmpl)return 0;try{if(0<=i.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(n){}return 1}();this.renderTemplateSource=function(t,u,f){if(f=f||{},2>n)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var e=t.data("precompiled");return e||(e=t.text()||"",e=i.template(null,"{{ko_with $item.koBindingContext}}"+e+"{{/ko_with}}"),t.data("precompiled",e)),t=[u.$data],u=i.extend({koBindingContext:u},f.templateOptions),u=i.tmpl(e,t,u),u.appendTo(r.createElement("div")),i.fragments={},u};this.createJavaScriptEvaluatorBlock=function(n){return"{{ko_code ((function() { return "+n+" })()) }}"};this.addTemplate=function(n,t){r.write("<script type='text/html' id='"+n+"'>"+t+"<\/script>")};0<n&&(i.tmpl.tag.ko_code={open:"__.push($1 || '');"},i.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};s.ua.prototype=new s.v;var n=new s.ua;0<n.Ib&&s.Ba(n);s.b("jqueryTmplTemplateEngine",s.ua)}()})})()}();
/*!
 * Paper.js v0.9.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2013, Juerg Lehni & Jonathan Puckey
 * http://lehni.org/ & http://jonathanpuckey.com/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Sun Dec 1 23:54:52 2013 +0100
 *
 ***
 *
 * straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2013 Juerg Lehni
 * http://lehni.org/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * acorn.js
 * http://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */
paper=new function(n){var t=new function(){function i(t,i,r,u,o,c){function a(u,s,c,a){var s=s||(s=f(i,u))&&(s.get?s:s.value);typeof s=="string"&&s[0]==="#"&&(s=t[s.substring(1)]||s);var y=typeof s=="function",v=s,w=o||y?s&&s.get?u in t:t[u]:null,p;!(c||s!==n&&i.hasOwnProperty(u))||o&&w||(y&&w&&(s.base=w),y&&l&&s.length===0&&(p=u.match(/^(get|is)(([A-Z])(.*))$/))&&l.push([p[3].toLowerCase()+p[4],p[2]]),v&&!y&&v.get&&typeof v.get=="function"&&v.get.length===0||(v={value:v,writable:!0}),(f(t,u)||{configurable:!0}).configurable&&(v.configurable=!0,v.enumerable=r),e(t,u,v));a&&y&&(!o||!a[u])&&(a[u]=function(n){return n&&t[u].apply(n,h.call(arguments,1))})}var l,v,y,b,w,p;if(i){l=[];for(v in i)i.hasOwnProperty(v)&&!s.test(v)&&a(v,null,!0,c);for(a("toString"),a("valueOf"),y=0,b=l.length;y<b;y++)w=l[y],p=w[1],a(w[0],{get:t["get"+p]||t["is"+p],set:t["set"+p]},!0)}return t}function o(n,t,i){return n&&("length"in n&&!n.getLength&&typeof n.length=="number"?c:l).call(n,t,i=i||n),i}function r(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}var s=/^(statics|generics|preserve|enumerable|prototype|toString|valueOf)$/,h=[].slice,c=[].forEach||function(n,t){for(var i=0,r=this.length;i<r;i++)n.call(t,this[i],i,this)},l=function(n,t){for(var i in this)this.hasOwnProperty(i)&&n.call(t,this[i],i,this)},u=Object.create||function(n){return{__proto__:n}},f=Object.getOwnPropertyDescriptor||function(n,t){var i=n.__lookupGetter__&&n.__lookupGetter__(t);return i?{get:i,set:n.__lookupSetter__(t),enumerable:!0,configurable:!0}:n.hasOwnProperty(t)?{value:n[t],enumerable:!0,configurable:!0,writable:!0}:null},a=Object.defineProperty||function(n,t,i){return(i.get||i.set)&&n.__defineGetter__?(i.get&&n.__defineGetter__(t,i.get),i.set&&n.__defineSetter__(t,i.set)):n[t]=i.value,n},e=function(n,t,i){return delete n[t],a(n,t,i)};return i(function(){for(var n=0,t=arguments.length;n<t;n++)r(this,arguments[n])},{inject:function(n){var t,e;if(n){var u=this.prototype,r=Object.getPrototypeOf(u).constructor,f=n.statics===!0?n:n.statics;f!=n&&i(u,n,n.enumerable,r&&r.prototype,n.preserve,n.generics&&this);i(this,f,!0,r,n.preserve)}for(t=1,e=arguments.length;t<e;t++)this.inject(arguments[t]);return this},extend:function(){for(var r=this,n,t=0,f=arguments.length;t<f;t++)if(n=arguments[t].initialize)break;return n=n||function(){r.apply(this,arguments)},n.prototype=u(this.prototype),e(n.prototype,"constructor",{value:n,writable:!0,configurable:!0}),i(n,this,!0),arguments.length?this.inject.apply(n,arguments):n}},!0).inject({inject:function(){for(var n=0,t=arguments.length;n<t;n++)i(this,arguments[n],arguments[n].enumerable);return this},extend:function(){var n=u(this);return n.inject.apply(n,arguments)},each:function(n,t){return o(this,n,t)},clone:function(){return new this.constructor(this)},statics:{each:o,create:u,define:e,describe:f,copy:r,clone:function(n){return r(new n.constructor,n)},isPlainObject:function(n){var i=n!=null&&n.constructor;return i&&(i===Object||i===t||i.name==="Object")},pick:function(){for(var t=0,i=arguments.length;t<i;t++)if(arguments[t]!==n)return arguments[t];return null}}})};typeof module!="undefined"&&(module.exports=t);t.inject({generics:!0,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+t.each(this,function(n,t){if(!/^_/.test(t)){var i=typeof n;this.push(t+": "+(i==="number"?g.instance.number(n):i==="string"?"'"+n+"'":n))}},[]).join(", ")+" }"},exportJSON:function(n){return t.exportJSON(this,n)},toJSON:function(){return t.serialize(this)},_set:function(i,r){var f,u,e;if(i&&t.isPlainObject(i)){f=i._filtering||i;for(u in f)u in this&&f.hasOwnProperty(u)&&(!r||!r[u])&&(e=i[u],e!==n&&(this[u]=e));return!0}},statics:{exports:{},extend:function ti(){var n=ti.base.apply(this,arguments),i=n.prototype._class;return i&&!t.exports[i]&&(t.exports[i]=n),n},equals:function(n,i){function u(n,t){for(var i in n)if(n.hasOwnProperty(i)&&!t.hasOwnProperty(i))return!1;return!0}var f,r;if(n===i)return!0;if(n&&n.equals)return n.equals(i);if(i&&i.equals)return i.equals(n);if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;for(r=0,f=n.length;r<f;r++)if(!t.equals(n[r],i[r]))return!1;return!0}if(n&&typeof n=="object"&&i&&typeof i=="object"){if(!u(n,i)||!u(i,n))return!1;for(r in n)if(n.hasOwnProperty(r)&&!t.equals(n[r],i[r]))return!1;return!0}return!1},read:function(n,i,r,u){var s,f;if(this===t)return s=this.peek(n,i),n._index++,n.__read=1,s;var h=this.prototype,o=h._readIndex,e=i||o&&n._index||0;return(r||(r=n.length-e),f=n[e],f instanceof this||u&&u.readNull&&f==null&&r<=1)?(o&&(n._index=e+1),f&&u&&u.clone?f.clone():f):(f=t.create(this.prototype),o&&(f.__read=!0),u&&(f.__options=u),f=f.initialize.apply(f,e>0||r<n.length?Array.prototype.slice.call(n,e,e+r):n)||f,o&&(n._index=e+f.__read,n.__read=f.__read,delete f.__read,u&&delete f.__options),f)},peek:function(n,t){return n[n._index=t||n._index||0]},readAll:function(n,t,i){for(var u=[],f,r=t||0,e=n.length;r<e;r++)u.push(Array.isArray(f=n[r])?this.read(f,0,0,i):this.read(n,r,1,i));return u},readNamed:function(i,r,u,f,e){var s=this.getNamed(i,r),h=s!==n,o;return h&&(o=i._filtered,o||(o=i._filtered=t.create(i[0]),o._filtering=i[0]),o[r]=n),this.read(h?[s]:i,u,f,e)},getNamed:function(i,r){var u=i[0];return i._hasObject===n&&(i._hasObject=i.length===1&&t.isPlainObject(u)),i._hasObject?r?u[r]:i._filtered||u:void 0},hasNamed:function(n,t){return!!this.getNamed(n,t)},isPlainValue:function(n){return this.isPlainObject(n)||Array.isArray(n)},serialize:function(n,i,r,u){var s,f,o,h,e;if(i=i||{},s=!u,s&&(i.formatter=new g(i.precision),u={length:0,definitions:{},references:{},add:function(n,t){var i="#"+n._id,f=this.references[i],r,u;return f||(this.length++,r=t.call(n),u=n._class,u&&r[0]!==u&&r.unshift(u),this.definitions[i]=r,f=this.references[i]=[i]),f}}),n&&n._serialize)f=n._serialize(i,u),o=n._class,!o||r||f._compact||f[0]===o||f.unshift(o);else if(Array.isArray(n)){for(f=[],e=0,h=n.length;e<h;e++)f[e]=t.serialize(n[e],i,r,u);r&&(f._compact=!0)}else if(t.isPlainObject(n)){f={};for(e in n)n.hasOwnProperty(e)&&(f[e]=t.serialize(n[e],i,r,u))}else f=typeof n=="number"?i.formatter.number(n,i.precision):n;return s&&u.length>0?[["dictionary",u.definitions],f]:f},deserialize:function(n,i,r){var f=n,u,o,e,c,s,h;if(r=r||{},Array.isArray(n)){if(u=n[0],o=u==="dictionary",!o){if(r.dictionary&&n.length==1&&/^#/.test(u))return r.dictionary[u];u=t.exports[u]}for(f=[],e=u?1:0,c=n.length;e<c;e++)f.push(t.deserialize(n[e],i,r));o?r.dictionary=f[0]:u&&(s=f,i?f=i(u,s):(f=t.create(u.prototype),u.apply(f,s)))}else if(t.isPlainObject(n)){f={};for(h in n)f[h]=t.deserialize(n[h],i,r)}return f},exportJSON:function(n,i){return JSON.stringify(t.serialize(n,i))},importJSON:function(n,i){return t.deserialize(typeof n=="string"?JSON.parse(n):n,function(n,r){var u=i&&i.constructor===n?i:t.create(n.prototype),e=u===i,f;return r.length===1&&u instanceof d&&(!(u instanceof ft)||e)&&(f=r[0],t.isPlainObject(f)&&(f.insert=!1)),n.apply(u,r),e&&(i=null),u})},splice:function(t,i,r,u){var h=i&&i.length,c=r===n,e,o,f,s;for(r=c?t.length:r,r>t.length&&(r=t.length),f=0;f<h;f++)i[f]._index=r+f;if(c)return t.push.apply(t,i),[];for(e=[r,u],i&&e.push.apply(e,i),o=t.splice.apply(t,e),f=0,s=o.length;f<s;f++)delete o[f]._index;for(f=r+h,s=t.length;f<s;f++)t[f]._index=f;return o},capitalize:function(n){return n.replace(/\b[a-z]/g,function(n){return n.toUpperCase()})},camelize:function(n){return n.replace(/-(.)/g,function(n,t){return t.toUpperCase()})},hyphenate:function(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var st={attach:function(n,i){var u,r;if(typeof n!="string"){t.each(n,function(n,t){this.attach(t,n)},this);return}u=this._eventTypes[n];u&&(r=this._handlers=this._handlers||{},r=r[n]=r[n]||[],r.indexOf(i)==-1&&(r.push(i),u.install&&r.length==1&&u.install.call(this,n)))},detach:function(n,i){if(typeof n!="string"){t.each(n,function(n,t){this.detach(t,n)},this);return}var u=this._eventTypes[n],r=this._handlers&&this._handlers[n],f;u&&r&&(i&&((f=r.indexOf(i))==-1||r.length!=1)?f!=-1&&r.splice(f,1):(u.uninstall&&u.uninstall.call(this,n),delete this._handlers[n]))},once:function(n,t){this.attach(n,function(){t.apply(this,arguments);this.detach(n,t)})},fire:function(n,t){function f(){for(var n in i)i[n].apply(o,e)===!1&&t&&t.stop&&t.stop()}var i=this._handlers&&this._handlers[n];if(!i)return!1;var e=[].slice.call(arguments,1),r=paper.PaperScript,u=r&&r.handleException,o=this;if(u)try{f()}catch(s){u(s)}else f();return!0},responds:function(n){return!!(this._handlers&&this._handlers[n])},on:"#attach",off:"#detach",trigger:"#fire",statics:{inject:function ci(){for(var n,r,u,i=0,f=arguments.length;i<f;i++)n=arguments[i],r=n._events,r&&(u={},t.each(r,function(i,r){var o=typeof i=="string",f=o?i:r,s=t.capitalize(f),e=f.substring(2).toLowerCase();u[e]=o?{}:i;f="_"+f;n["get"+s]=function(){return this[f]};n["set"+s]=function(n){n?this.attach(e,n):this[f]&&this.detach(e,this[f]);this[f]=n}}),n._eventTypes=u),ci.base.call(this,n);return this}}},it=t.extend({_class:"PaperScope",initialize:function it(n){if(paper=this,this.project=null,this.projects=[],this.tools=[],this.palettes=[],this._id=n&&(n.getAttribute("id")||n.src)||"paperscope-"+it._id++,n&&n.setAttribute("id",this._id),it._scopes[this._id]=this,!this.support){var t=w.getContext(1,1);it.prototype.support={nativeDash:"setLineDash"in t||"mozDash"in t,nativeBlendModes:ni.nativeModes};w.release(t)}},version:"0.9.15",getView:function(){return this.project&&this.project.view},getTool:function(){return this._tool||(this._tool=new or),this._tool},getPaper:function(){return this},evaluate:function(n){var t=paper.PaperScript.evaluate(n,this);return c.updateFocus(),t},install:function(n){var r=this,i;t.each(["project","view","tool"],function(i){t.define(n,i,{configurable:!0,get:function(){return r[i]}})});for(i in this)/^(version|_id)/.test(i)||(n[i]=this[i])},setup:function(n){return paper=this,this.project=new wt(n),this},activate:function(){paper=this},clear:function(){for(var n=this.projects.length-1;n>=0;n--)this.projects[n].remove();for(n=this.tools.length-1;n>=0;n--)this.tools[n].remove();for(n=this.palettes.length-1;n>=0;n--)this.palettes[n].remove()},remove:function(){this.clear();delete it._scopes[this._id]},statics:new function(){function n(n){return n+="Attribute",function(t,i){return t[n](i)||t[n]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(n){return typeof n=="object"&&(n=n.getAttribute("id")),this._scopes[n]||null},getAttribute:n("get"),hasAttribute:n("has")}}}),at=t.extend(st,{initialize:function(n){this._scope=paper;this._index=this._scope[this._list].push(this)-1;(n||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var n=this._scope[this._reference];return n&&n!==this&&n.fire("deactivate"),this._scope[this._reference]=this,this.fire("activate",n),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(t.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)}}),g=t.extend({initialize:function(n){this.precision=n||5;this.multiplier=Math.pow(10,this.precision)},number:function(n){return Math.round(n*this.multiplier)/this.multiplier},point:function(n,t){return this.number(n.x)+(t||",")+this.number(n.y)},size:function(n,t){return this.number(n.width)+(t||",")+this.number(n.height)},rectangle:function(n,t){return this.point(n,t)+(t||",")+this.size(n,t)}});g.instance=new g;var s=new function(){var u=[[.57735026918962573],[0,.7745966692414834],[.33998104358485626,.86113631159405257],[0,.53846931010568311,.906179845938664],[.23861918608319691,.66120938646626448,.932469514203152],[0,.40584515137739718,.74153118559939446,.94910791234275849],[.18343464249564981,.525532409916329,.79666647741362673,.96028985649753618],[0,.32425342340380892,.61337143270059036,.83603110732663577,.96816023950762609],[.14887433898163122,.43339539412924721,.67940956829902444,.86506336668898454,.97390652851717174],[0,.26954315595234496,.51909612920681181,.73015200557404936,.88706259976809532,.978228658146057],[.12523340851146891,.36783149899818018,.58731795428661748,.76990267419430469,.90411725637047491,.98156063424671924],[0,.2304583159551348,.44849275103644687,.64234933944034023,.80157809073330988,.91759839922297792,.98418305471858814],[.10805494870734367,.31911236892788974,.5152486363581541,.68729290481168548,.827201315069765,.92843488366357352,.98628380869681231],[0,.20119409399743451,.39415134707756339,.57097217260853883,.72441773136017007,.84820658341042721,.937273392400706,.98799251802048538],[.095012509837637441,.28160355077925892,.45801677765722737,.61787624440264377,.755404408355003,.86563120238783176,.9445750230732326,.98940093499164994]],f=[[1],[.88888888888888884,.55555555555555558],[.65214515486254609,.34785484513745385],[.56888888888888889,.47862867049936647,.23692688505618909],[.46791393457269104,.36076157304813861,.17132449237917036],[.4179591836734694,.38183005050511892,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.33023935500125978,.31234707704000286,.26061069640293544,.1806481606948574,.081274388361574412],[.29552422471475287,.26926671930999635,.21908636251598204,.14945134915058059,.066671344308688138],[.27292508677790062,.26280454451024665,.23319376459199048,.18629021092773426,.12558036946490461,.055668567116173663],[.24914704581340277,.23349253653835481,.20316742672306593,.16007832854334622,.10693932599531843,.047175336386511828],[.2325515532308739,.22628318026289723,.20781604753688851,.17814598076194574,.13887351021978725,.092121499837728452,.040484004765315877],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.080158087159760208,.03511946033175186],[.20257824192556126,.19843148532711158,.18616100001556221,.16626920581699392,.13957067792615432,.10715922046717194,.070366047488108124,.030753241996117269],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.095158511682492786,.062253523938647894,.027152459411754096]],t=Math.abs,i=Math.sqrt,e=Math.pow,r=Math.cos,o=Math.PI;return{TOLERANCE:1e-5,EPSILON:1e-11,KAPPA:4*(i(2)-1)/3,isZero:function(n){return t(n)<=s.EPSILON},integrate:function(n,t,i,r){for(var a=u[r-2],c=f[r-2],o=.5*(i-t),s=o+t,e=0,v=r+1>>1,l=r&1?c[e++]*n(s):0,h;e<v;)h=o*a[e],l+=c[e++]*(n(s+h)+n(s-h));return o*l},findRoot:function(n,i,r,u,f,e,o){for(var c,l,s,h=0;h<e;h++){if(c=n(r),l=c/i(r),t(l)<o)return r;s=r-l;c>0?(f=r,r=s<=u?.5*(u+f):s):(u=r,r=s>=f?.5*(u+f):s)}},solveQuadratic:function(r,u,f,e,o,h){function y(n){return(b||n>k&&n<d)&&(e[v++]=n<o?o:n>h?h:n),v}var c=s.EPSILON,b=o===n,k=o-c,d=h+c,v=0,a;if(t(r)<c)return t(u)>=c?y(-f/u):t(f)<c?-1:0;var l=u/(2*r),p=f/r,w=l*l;return w<p-c?0:(a=w>p?i(w-p):0,y(a-l),a>0&&y(-a-l),v)},solveCubic:function(u,f,h,c,l,a,v){function y(n){return(et||n>ot&&n<st)&&(l[rt++]=n<a?a:n>v?v:n),rt}var k=s.EPSILON,w,g,it;if(t(u)<k)return s.solveQuadratic(f,h,c,l,a,v);var et=a===n,ot=a-k,st=v+k,rt=0;f/=u;h/=u;c/=u;var ut=f*f,b=(ut-3*h)/9,p=(2*ut*f-9*f*h+27*c)/54,ht=b*b*b,d=p*p-ht;if(f/=3,t(d)<k)return t(p)<k?y(-f):(w=i(b),g=p>0?1:-1,y(-g*2*w-f),y(g*w-f));if(d<0){var w=i(b),nt=Math.acos(p/(w*w*w))/3,tt=-2*w,ft=2*o/3;return y(tt*r(nt)-f),y(tt*r(nt+ft)-f),y(tt*r(nt-ft)-f)}return it=(p>0?-1:1)*e(t(p)+i(d),1/3),y(it+b/it-f)}}},r=t.extend({_class:"Point",_readIndex:!0,initialize:function(n,t){var r=typeof n,i;r==="number"?(i=typeof t=="number",this.x=n,this.y=i?t:n,this.__read&&(this.__read=i?2:1)):r==="undefined"||n===null?(this.x=this.y=0,this.__read&&(this.__read=n===null?1:0)):(Array.isArray(n)?(this.x=n[0],this.y=n.length>1?n[1]:n[0]):n.x!=null?(this.x=n.x,this.y=n.y):n.width!=null?(this.x=n.width,this.y=n.height):n.angle!=null?(this.x=n.length,this.y=0,this.setAngle(n.angle)):(this.x=this.y=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(n,t){return this.x=n,this.y=t,this},equals:function(n){return n===this||n&&(this.x===n.x&&this.y===n.y||Array.isArray(n)&&this.x===n[0]&&this.y===n[1])||!1},clone:function(){return new r(this.x,this.y)},toString:function(){var n=g.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+" }"},_serialize:function(n){var t=n.formatter;return[t.number(this.x),t.number(this.y)]},add:function(n){return n=r.read(arguments),new r(this.x+n.x,this.y+n.y)},subtract:function(n){return n=r.read(arguments),new r(this.x-n.x,this.y-n.y)},multiply:function(n){return n=r.read(arguments),new r(this.x*n.x,this.y*n.y)},divide:function(n){return n=r.read(arguments),new r(this.x/n.x,this.y/n.y)},modulo:function(n){return n=r.read(arguments),new r(this.x%n.x,this.y%n.y)},negate:function(){return new r(-this.x,-this.y)},transform:function(n){return n?n._transformPoint(this):this},getDistance:function(n,t){n=r.read(arguments);var i=n.x-this.x,u=n.y-this.y,f=i*i+u*u;return t?f:Math.sqrt(f)},getLength:function(){var n=this.x*this.x+this.y*this.y;return arguments.length&&arguments[0]?n:Math.sqrt(n)},setLength:function(n){var i,t;return this.isZero()?(i=this._angle||0,this.set(Math.cos(i)*n,Math.sin(i)*n)):(t=n/this.getLength(),s.isZero(t)&&this.getAngle(),this.set(this.x*t,this.y*t)),this},normalize:function(t){t===n&&(t=1);var i=this.getLength(),u=i!==0?t/i:0,f=new r(this.x*u,this.y*u);return f._angle=this._angle,f},getAngle:function(){return this.getAngleInRadians(arguments[0])*180/Math.PI},setAngle:function(n){if(n=this._angle=n*Math.PI/180,!this.isZero()){var t=this.getLength();this.set(Math.cos(n)*t,Math.sin(n)*t)}return this},getAngleInRadians:function(){if(arguments[0]===n)return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x);var t=r.read(arguments),i=this.getLength()*t.getLength();return s.isZero(i)?NaN:Math.acos(this.dot(t)/i)},getAngleInDegrees:function(){return this.getAngle(arguments[0])},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3},getDirectedAngle:function(n){return n=r.read(arguments),Math.atan2(this.cross(n),this.dot(n))*180/Math.PI},rotate:function(n,t){if(n===0)return this.clone();n=n*Math.PI/180;var i=t?this.subtract(t):this,u=Math.sin(n),f=Math.cos(n);return i=new r(i.x*f-i.y*u,i.y*f+i.x*u),t?i.add(t):i},isInside:function(n){return n.contains(this)},isClose:function(n,t){return this.getDistance(n)<t},isColinear:function(n){return this.cross(n)<1e-5},isOrthogonal:function(n){return this.dot(n)<1e-5},isZero:function(){return s.isZero(this.x)&&s.isZero(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},dot:function(n){return n=r.read(arguments),this.x*n.x+this.y*n.y},cross:function(n){return n=r.read(arguments),this.x*n.y-this.y*n.x},project:function(n){if(n=r.read(arguments),n.isZero())return new r(0,0);var t=this.dot(n)/n.dot(n);return new r(n.x*t,n.y*t)},statics:{min:function(){var n=r.read(arguments);return point2=r.read(arguments),new r(Math.min(n.x,point2.x),Math.min(n.y,point2.y))},max:function(){var n=r.read(arguments);return point2=r.read(arguments),new r(Math.max(n.x,point2.x),Math.max(n.y,point2.y))},random:function(){return new r(Math.random(),Math.random())}}},t.each(["round","ceil","floor","abs"],function(n){var t=Math[n];this[n]=function(){return new r(t(this.x),t(this.y))}},{})),ht=r.extend({initialize:function(n,t,i,r){this._x=n;this._y=t;this._owner=i;this._setter=r},set:function(n,t,i){return this._x=n,this._y=t,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(n){this._x=n;this._owner[this._setter](this)},getY:function(){return this._y},setY:function(n){this._y=n;this._owner[this._setter](this)}}),f=t.extend({_class:"Size",_readIndex:!0,initialize:function(n,t){var r=typeof n,i;r==="number"?(i=typeof t=="number",this.width=n,this.height=i?t:n,this.__read&&(this.__read=i?2:1)):r==="undefined"||n===null?(this.width=this.height=0,this.__read&&(this.__read=n===null?1:0)):(Array.isArray(n)?(this.width=n[0],this.height=n.length>1?n[1]:n[0]):n.width!=null?(this.width=n.width,this.height=n.height):n.x!=null?(this.width=n.x,this.height=n.y):(this.width=this.height=0,this.__read&&(this.__read=0)),this.__read&&(this.__read=1))},set:function(n,t){return this.width=n,this.height=t,this},equals:function(n){return n===this||n&&(this.width===n.width&&this.height===n.height||Array.isArray(n)&&this.width===n[0]&&this.height===n[1])||!1},clone:function(){return new f(this.width,this.height)},toString:function(){var n=g.instance;return"{ width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var t=n.formatter;return[t.number(this.width),t.number(this.height)]},add:function(n){return n=f.read(arguments),new f(this.width+n.width,this.height+n.height)},subtract:function(n){return n=f.read(arguments),new f(this.width-n.width,this.height-n.height)},multiply:function(n){return n=f.read(arguments),new f(this.width*n.width,this.height*n.height)},divide:function(n){return n=f.read(arguments),new f(this.width/n.width,this.height/n.height)},modulo:function(n){return n=f.read(arguments),new f(this.width%n.width,this.height%n.height)},negate:function(){return new f(-this.width,-this.height)},isZero:function(){return s.isZero(this.width)&&s.isZero(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(n,t){return new f(Math.min(n.width,t.width),Math.min(n.height,t.height))},max:function(n,t){return new f(Math.max(n.width,t.width),Math.max(n.height,t.height))},random:function(){return new f(Math.random(),Math.random())}}},t.each(["round","ceil","floor","abs"],function(n){var t=Math[n];this[n]=function(){return new f(t(this.width),t(this.height))}},{})),ct=f.extend({initialize:function(n,t,i,r){this._width=n;this._height=t;this._owner=i;this._setter=r},set:function(n,t,i){return this._width=n,this._height=t,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(n){this._width=n;this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(n){this._height=n;this._owner[this._setter](this)}}),o=t.extend({_class:"Rectangle",_readIndex:!0,initialize:function(i,u,e,o){var v=typeof i,s=0,h,l,c,a;v==="number"?(this.x=i,this.y=u,this.width=e,this.height=o,s=4):v==="undefined"||i===null?(this.x=this.y=this.width=this.height=0,s=i===null?1:0):arguments.length===1&&(Array.isArray(i)?(this.x=i[0],this.y=i[1],this.width=i[2],this.height=i[3],s=1):i.x!==n||i.width!==n?(this.x=i.x||0,this.y=i.y||0,this.width=i.width||0,this.height=i.height||0,s=1):i.from===n&&i.to===n&&(this.x=this.y=this.width=this.height=0,this._set(i),s=1));s||(h=r.readNamed(arguments,"from"),l=t.peek(arguments),this.x=h.x,this.y=h.y,l&&l.x!==n||t.hasNamed(arguments,"to")?(c=r.readNamed(arguments,"to"),this.width=c.x-h.x,this.height=c.y-h.y,this.width<0&&(this.x=c.x,this.width=-this.width),this.height<0&&(this.y=c.y,this.height=-this.height)):(a=f.read(arguments),this.width=a.width,this.height=a.height),s=arguments._index);this.__read&&(this.__read=s)},set:function(n,t,i,r){return this.x=n,this.y=t,this.width=i,this.height=r,this},clone:function(){return new o(this.x,this.y,this.width,this.height)},equals:function(n){return t.isPlainValue(n)&&(n=o.read(arguments)),n===this||n&&this.x===n.x&&this.y===n.y&&this.width===n.width&&this.height===n.height||!1},toString:function(){var n=g.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+", width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var t=n.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(){return new(arguments[0]?r:ht)(this.x,this.y,this,"setPoint")},setPoint:function(n){n=r.read(arguments);this.x=n.x;this.y=n.y},getSize:function(){return new(arguments[0]?f:ct)(this.width,this.height,this,"setSize")},setSize:function(n){n=f.read(arguments);this._fixX&&(this.x+=(this.width-n.width)*this._fixX);this._fixY&&(this.y+=(this.height-n.height)*this._fixY);this.width=n.width;this.height=n.height;this._fixW=1;this._fixH=1},getLeft:function(){return this.x},setLeft:function(n){this._fixW||(this.width-=n-this.x);this.x=n;this._fixX=0},getTop:function(){return this.y},setTop:function(n){this._fixH||(this.height-=n-this.y);this.y=n;this._fixY=0},getRight:function(){return this.x+this.width},setRight:function(t){this._fixX!==n&&this._fixX!==1&&(this._fixW=0);this._fixW?this.x=t-this.width:this.width=t-this.x;this._fixX=1},getBottom:function(){return this.y+this.height},setBottom:function(t){this._fixY!==n&&this._fixY!==1&&(this._fixH=0);this._fixH?this.y=t-this.height:this.height=t-this.y;this._fixY=1},getCenterX:function(){return this.x+this.width*.5},setCenterX:function(n){this.x=n-this.width*.5;this._fixX=.5},getCenterY:function(){return this.y+this.height*.5},setCenterY:function(n){this.y=n-this.height*.5;this._fixY=.5},getCenter:function(){return new(arguments[0]?r:ht)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(n){return n=r.read(arguments),this.setCenterX(n.x),this.setCenterY(n.y),this},isEmpty:function(){return this.width==0||this.height==0},contains:function(t){return t&&t.width!==n||(Array.isArray(t)?t:arguments).length==4?this._containsRectangle(o.read(arguments)):this._containsPoint(r.read(arguments))},_containsPoint:function(n){var t=n.x,i=n.y;return t>=this.x&&i>=this.y&&t<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(n){var t=n.x,i=n.y;return t>=this.x&&i>=this.y&&t+n.width<=this.x+this.width&&i+n.height<=this.y+this.height},intersects:function(n){return n=o.read(arguments),n.x+n.width>this.x&&n.y+n.height>this.y&&n.x<this.x+this.width&&n.y<this.y+this.height},touches:function(n){return n=o.read(arguments),n.x+n.width>=this.x&&n.y+n.height>=this.y&&n.x<=this.x+this.width&&n.y<=this.y+this.height},intersect:function(n){n=o.read(arguments);var t=Math.max(this.x,n.x),i=Math.max(this.y,n.y),r=Math.min(this.x+this.width,n.x+n.width),u=Math.min(this.y+this.height,n.y+n.height);return new o(t,i,r-t,u-i)},unite:function(n){n=o.read(arguments);var t=Math.min(this.x,n.x),i=Math.min(this.y,n.y),r=Math.max(this.x+this.width,n.x+n.width),u=Math.max(this.y+this.height,n.y+n.height);return new o(t,i,r-t,u-i)},include:function(n){n=r.read(arguments);var t=Math.min(this.x,n.x),i=Math.min(this.y,n.y),u=Math.max(this.x+this.width,n.x),f=Math.max(this.y+this.height,n.y);return new o(t,i,u-t,f-i)},expand:function(t,i){return i===n&&(i=t),new o(this.x-t/2,this.y-i/2,this.width+t,this.height+i)},scale:function(t,i){return this.expand(this.width*t-this.width,this.height*(i===n?t:i)-this.height)}},new function(){return t.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(n,t){var i=n.join(""),u=/^[RL]/.test(i);t>=4&&(n[1]+=u?"Y":"X");var f=n[u?0:1],e=n[u?1:0],s="get"+f,h="get"+e,c="set"+f,l="set"+e,a="get"+i,o="set"+i;this[a]=function(){return new(arguments[0]?r:ht)(this[s](),this[h](),this,o)};this[o]=function(n){n=r.read(arguments);this[c](n.x);this[l](n.y)}},{})}),li=o.extend({initialize:function(n,t,i,r,u,f){this.set(n,t,i,r,!0);this._owner=u;this._setter=f},set:function(n,t,i,r,u){return this._x=n,this._y=t,this._width=i,this._height=r,u||this._owner[this._setter](this),this}},new function(){var n=o.prototype;return t.each(["x","y","width","height"],function(n){var i=t.capitalize(n),r="_"+n;this["get"+i]=function(){return this[r]};this["set"+i]=function(n){this[r]=n;this._dontNotify||this._owner[this._setter](this)}},t.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var i="set"+t;this[i]=function(){this._dontNotify=!0;n[i].apply(this,arguments);delete this._dontNotify;this._owner[this._setter](this)}},{isSelected:function(){return this._owner._boundsSelected},setSelected:function(n){var t=this._owner;t.setSelected&&(t._boundsSelected=n,t.setSelected(n||t._selectedSegmentState>0))}}))}),p=t.extend({_class:"Matrix",initialize:function p(n){var t=arguments.length,i=!0;if(t===6?this.set.apply(this,arguments):t===1?n instanceof p?this.set(n._a,n._c,n._b,n._d,n._tx,n._ty):Array.isArray(n)?this.set.apply(this,n):i=!1:t===0?this.reset():i=!1,!i)throw new Error("Unsupported matrix parameters");},set:function(n,t,i,r,u,f,e){return this._a=n,this._c=t,this._b=i,this._d=r,this._tx=u,this._ty=f,e||this._changed(),this},_serialize:function(n){return t.serialize(this.getValues(),n)},_changed:function(){this._owner&&this._owner._changed(5)},clone:function(){return new p(this._a,this._c,this._b,this._d,this._tx,this._ty)},equals:function(n){return n===this||n&&this._a===n._a&&this._b===n._b&&this._c===n._c&&this._d===n._d&&this._tx===n._tx&&this._ty===n._ty||!1},toString:function(){var n=g.instance;return"[["+[n.number(this._a),n.number(this._b),n.number(this._tx)].join(", ")+"], ["+[n.number(this._c),n.number(this._d),n.number(this._ty)].join(", ")+"]]"},reset:function(){return this._a=this._d=1,this._c=this._b=this._tx=this._ty=0,this._changed(),this},scale:function(){var n=r.read(arguments),t=r.read(arguments,0,0,{readNull:!0});return t&&this.translate(t),this._a*=n.x,this._c*=n.x,this._b*=n.y,this._d*=n.y,t&&this.translate(t.negate()),this._changed(),this},translate:function(n){n=r.read(arguments);var t=n.x,i=n.y;return this._tx+=t*this._a+i*this._b,this._ty+=t*this._c+i*this._d,this._changed(),this},rotate:function(n,t){t=r.read(arguments,1);n=n*Math.PI/180;var f=t.x,e=t.y,i=Math.cos(n),u=Math.sin(n),l=f-f*i+e*u,a=e-f*u-e*i,o=this._a,s=this._b,h=this._c,c=this._d;return this._a=i*o+u*s,this._b=-u*o+i*s,this._c=i*h+u*c,this._d=-u*h+i*c,this._tx+=l*o+a*s,this._ty+=l*h+a*c,this._changed(),this},shear:function(){var n=r.read(arguments),t=r.read(arguments,0,0,{readNull:!0}),i,u;return t&&this.translate(t),i=this._a,u=this._c,this._a+=n.y*this._b,this._c+=n.y*this._d,this._b+=n.x*i,this._d+=n.x*u,t&&this.translate(t.negate()),this._changed(),this},concatenate:function(n){var t=this._a,i=this._b,r=this._c,u=this._d;return this._a=n._a*t+n._c*i,this._b=n._b*t+n._d*i,this._c=n._a*r+n._c*u,this._d=n._b*r+n._d*u,this._tx+=n._tx*t+n._ty*i,this._ty+=n._tx*r+n._ty*u,this._changed(),this},preConcatenate:function(n){var t=this._a,i=this._b,r=this._c,u=this._d,f=this._tx,e=this._ty;return this._a=n._a*t+n._b*r,this._b=n._a*i+n._b*u,this._c=n._c*t+n._d*r,this._d=n._c*i+n._d*u,this._tx=n._a*f+n._b*e+n._tx,this._ty=n._c*f+n._d*e+n._ty,this._changed(),this},isIdentity:function(){return this._a===1&&this._c===0&&this._b===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){return!!this._getDeterminant()},isSingular:function(){return!this._getDeterminant()},transform:function(n,t,i,u,f){return arguments.length<5?this._transformPoint(r.read(arguments)):this._transformCoordinates(n,t,i,u,f)},_transformPoint:function(n,t,i){var u=n.x,f=n.y;return t||(t=new r),t.set(u*this._a+f*this._b+this._tx,u*this._c+f*this._d+this._ty,i)},_transformCoordinates:function(n,t,i,r,u){for(var f=t,s=r,h=f+2*u,e,o;f<h;)e=n[f++],o=n[f++],i[s++]=e*this._a+o*this._b+this._tx,i[s++]=e*this._c+o*this._d+this._ty;return i},_transformCorners:function(n){var t=n.x,i=n.y,r=t+n.width,u=i+n.height,f=[t,i,r,i,r,u,t,u];return this._transformCoordinates(f,0,f,0,4)},_transformBounds:function(n,t,i){for(var u,f,h=this._transformCorners(n),r=h.slice(0,2),e=h.slice(),s=2;s<8;s++)u=h[s],f=s&1,u<r[f]?r[f]=u:u>e[f]&&(e[f]=u);return t||(t=new o),t.set(r[0],r[1],e[0]-r[0],e[1]-r[1],i)},inverseTransform:function(){return this._inverseTransform(r.read(arguments))},_getDeterminant:function(){var n=this._a*this._d-this._b*this._c;return isFinite(n)&&!s.isZero(n)&&isFinite(this._tx)&&isFinite(this._ty)?n:null},_inverseTransform:function(n,t,i){var u=this._getDeterminant(),f,e;return u?(f=n.x-this._tx,e=n.y-this._ty,t||(t=new r),t.set((f*this._d-e*this._b)/u,(e*this._a-f*this._c)/u,i)):null},decompose:function(){var n=this._a,t=this._b,i=this._c,u=this._d,e,f,o;return s.isZero(n*u-t*i)?null:(e=Math.sqrt(n*n+t*t),n/=e,t/=e,f=n*i+t*u,i-=n*f,u-=t*f,o=Math.sqrt(i*i+u*u),i/=o,u/=o,f/=o,n*u<t*i&&(n=-n,t=-t,f=-f,e=-e),{translation:this.getTranslation(),scaling:new r(e,o),rotation:-Math.atan2(t,n)*180/Math.PI,shearing:f})},getValues:function(){return[this._a,this._c,this._b,this._d,this._tx,this._ty]},getTranslation:function(){return new r(this._tx,this._ty)},setTranslation:function(){var n=r.read(arguments);this._tx=n.x;this._ty=n.y;this._changed()},getScaling:function(){return(this.decompose()||{}).scaling},setScaling:function(){var n=this.getScaling(),t;n!=null&&(t=r.read(arguments),(this._owner||this).scale(t.x/n.x,t.y/n.y))},getRotation:function(){return(this.decompose()||{}).rotation},setRotation:function(n){var t=this.getRotation();t!=null&&(this._owner||this).rotate(n-t)},inverted:function(){var n=this._getDeterminant();return n&&new p(this._d/n,-this._c/n,-this._b/n,this._a/n,(this._b*this._ty-this._d*this._tx)/n,(this._c*this._tx-this._a*this._ty)/n)},shiftless:function(){return new p(this._a,this._c,this._b,this._d,0,0)},applyToContext:function(n){n.transform(this._a,this._c,this._b,this._d,this._tx,this._ty)}},new function(){return t.each({scaleX:"_a",scaleY:"_d",translateX:"_tx",translateY:"_ty",shearX:"_b",shearY:"_c"},function(n,i){i=t.capitalize(i);this["get"+i]=function(){return this[n]};this["set"+i]=function(t){this[n]=t;this._changed()}},{})}),k=t.extend({_class:"Line",initialize:function(n,t,i,r,u){var f=!1;arguments.length>=4?(this._px=n,this._py=t,this._vx=i,this._vy=r,f=u):(this._px=n.x,this._py=n.y,this._vx=t.x,this._vy=t.y,f=i);f||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new r(this._px,this._py)},getVector:function(){return new r(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(n,t){return k.intersect(this._px,this._py,this._vx,this._vy,n._px,n._py,n._vx,n._vy,!0,t)},getSide:function(n){return k.getSide(this._px,this._py,this._vx,this._vy,n.x,n.y,!0)},getDistance:function(n){return Math.abs(k.getSignedDistance(this._px,this._py,this._vx,this._vy,n.x,n.y,!0))},statics:{intersect:function(n,t,i,u,f,e,o,h,c,l){var a;if(c||(i-=n,u-=t,o-=f,h-=e),a=h*i-o*u,!s.isZero(a)){var y=n-f,p=t-e,v=(o*p-h*y)/a,w=(i*p-u*y)/a;if((l||0<=v&&v<=1)&&(l||0<=w&&w<=1))return new r(n+v*i,t+v*u)}},getSide:function(n,t,i,r,u,f,e){e||(i-=n,r-=t);var s=u-n,h=f-t,o=s*r-h*i;return o===0&&(o=s*i+h*r,o>0&&(s-=i,h-=r,o=s*i+h*r,o<0&&(o=0))),o<0?-1:o>0?1:0},getSignedDistance:function(n,t,i,r,u,f,e){e||(i-=n,r-=t);var o=r/i,s=t-o*n;return(f-o*u-s)/Math.sqrt(o*o+1)}}}),wt=at.extend({_class:"Project",_list:"projects",_reference:"project",initialize:function(n){at.call(this,!0);this.layers=[];this.symbols=[];this._currentStyle=new gt;this.activeLayer=new ft;n&&(this.view=n instanceof c?n:c.create(n));this._selectedItems={};this._selectedItemCount=0;this._drawCount=0;this.options={}},_serialize:function(n,i){return t.serialize(this.layers,n,!0,i)},clear:function(){for(var n=this.layers.length-1;n>=0;n--)this.layers[n].remove();this.symbols=[]},isEmpty:function(){return this.layers.length<=1&&(!this.activeLayer||this.activeLayer.isEmpty())},remove:function ai(){return ai.base.call(this)?(this.view&&this.view.remove(),!0):!1},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(n){this._currentStyle.initialize(n)},getIndex:function(){return this._index},addChild:function(n){return n instanceof ft?(t.splice(this.layers,[n]),this.activeLayer||(this.activeLayer=n)):n instanceof d?(this.activeLayer||this.addChild(new ft({insert:!1}))).addChild(n):n=null,n},getSelectedItems:function(){var t=[],i,n;for(i in this._selectedItems)n=this._selectedItems[i],n.isInserted()&&t.push(n);return t},_updateSelection:function(n){var t=n._id,i=this._selectedItems;n._selected?i[t]!==n&&(this._selectedItemCount++,i[t]=n):i[t]===n&&(this._selectedItemCount--,delete i[t])},selectAll:function(){for(var t=this.layers,n=0,i=t.length;n<i;n++)t[n].setFullySelected(!0)},deselectAll:function(){var n=this._selectedItems;for(var t in n)n[t].setFullySelected(!1)},hitTest:function(n,i){var u,f;for(n=r.read(arguments),i=tt.getOptions(t.read(arguments)),u=this.layers.length-1;u>=0;u--)if(f=this.layers[u].hitTest(n,i),f)return f;return null}},new function(){function n(n,t,i){for(var r,e=n.layers,u=i&&[],f=0,o=e.length;f<o;f++)if(r=e[f][i?"getItems":"getItem"](t),i)u.push.apply(u,r);else if(r)return r;return i?u:null}return{getItems:function(t){return n(this,t,!0)},getItem:function(t){return n(this,t,!1)}}},{importJSON:function(n){this.activate();var i=this.activeLayer;return t.importJSON(n,i&&i.isEmpty()&&i)},draw:function(n,i,u){var c,l,a,e,s,h,o,f;for(this._drawCount++,n.save(),i.applyToContext(n),c=new t({offset:new r(0,0),ratio:u,transforms:[i],trackTransforms:!0}),f=0,l=this.layers.length;f<l;f++)this.layers[f].draw(n,c);if(n.restore(),this._selectedItemCount>0){n.save();n.strokeWidth=1;for(a in this._selectedItems)if(e=this._selectedItems[a],e._drawCount===this._drawCount&&(e._drawSelected||e._boundsSelected)&&(s=e.getSelectedColor()||e.getLayer().getSelectedColor(),n.strokeStyle=n.fillStyle=s?s.toCanvasStyle(n):"#009dec",h=e._globalMatrix,e._drawSelected&&e._drawSelected(n,h),e._boundsSelected)){for(o=h._transformCorners(e._getBounds("getBounds")),n.beginPath(),f=0;f<8;f++)n[f===0?"moveTo":"lineTo"](o[f],o[++f]);for(n.closePath(),n.stroke(),f=0;f<8;f++)n.beginPath(),n.rect(o[f]-2,o[++f]-2,4,4),n.fill()}n.restore()}}}),rt=t.extend({_class:"Symbol",initialize:function rt(n,t){this._id=rt._id=(rt._id||0)+1;this.project=paper.project;this.project.symbols.push(this);n&&this.setDefinition(n,t);this._instances={}},_serialize:function(n,i){return i.add(this,function(){return t.serialize([this._class,this._definition],n,!1,i)})},_changed:function(n){t.each(this._instances,function(t){t._changed(n)})},getDefinition:function(){return this._definition},setDefinition:function(n){n._parentSymbol&&(n=n.clone());this._definition&&delete this._definition._parentSymbol;this._definition=n;n.remove();n.setSelected(!1);arguments[1]||n.setPosition(new r);n._parentSymbol=this;this._changed(5)},place:function(n){return new ri(this,n)},clone:function(){return new rt(this._definition.clone(!1))}}),d=t.extend(st,{statics:{extend:function ti(n){n._serializeFields&&(n._serializeFields=new t(this.prototype._serializeFields,n._serializeFields));var i=ti.base.apply(this,arguments),r=i.prototype,u=r._class;return u&&(r._type=t.hyphenate(u)),i}},_class:"Item",_transformContent:!0,_boundsSelected:!1,_serializeFields:{name:null,matrix:new p,locked:!1,visible:!0,blendMode:"normal",opacity:1,guide:!1,selected:!1,clipMask:!1,data:{}},initialize:function(){},_initialize:function(n,t){var i,r;return this._id=d._id=(d._id||0)+1,this._project||(i=paper.project,n&&n.insert===!1?this._setProject(i):(i.activeLayer||new ft).addChild(this)),this._style=new gt(this._project._currentStyle,this),r=this._matrix=new p,t&&r.translate(t),r._owner=this,n?this._set(n,{insert:!0}):!0},_events:new function(){var n={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}},i={install:function(t){var r=this._project.view._eventCounters,i;if(r)for(i in n)r[i]=(r[i]||0)+(n[i][t]||0)},uninstall:function(t){var r=this._project.view._eventCounters,i;if(r)for(i in n)r[i]-=n[i][t]||0}};return t.each(["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"],function(n){this[n]=i},{onFrame:{install:function(){this._animateItem(!0)},uninstall:function(){this._animateItem(!1)}},onLoad:{}})},_animateItem:function(n){this._project.view._animateItem(this,n)},_serialize:function(n,i){function u(u){var e,o;for(e in u)o=f[e],t.equals(o,e==="leading"?u.fontSize*1.2:u[e])||(r[e]=t.serialize(o,n,e!=="data",i))}var r={},f=this;return u(this._serializeFields),this instanceof nt||u(this._style._defaults),[this._class,r]},_changed:function(n){var r=this._parent,t=this._project,u=this._parentSymbol,i;this._drawCount=null;n&4&&(delete this._bounds,delete this._position);r&&n&12&&r._clearBoundsCache();n&2&&this._clearBoundsCache();t&&(n&1&&(t._needsRedraw=!0),t._changes&&(i=t._changesById[this._id],i?i.flags|=n:(i={item:this,flags:n},t._changesById[this._id]=i,t._changes.push(i))));u&&u._changed(n)},set:function(n){return n&&this._set(n),this},getId:function(){return this._id},getType:function(){return this._type},getName:function(){return this._name},setName:function(t,i){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");if(t&&this._parent){for(var r=this._parent._children,u=this._parent._namedChildren,f=t,e=1;i&&r[t];)t=f+" "+e++;(u[t]=u[t]||[]).push(this);r[t]=this}this._name=t||n;this._changed(32)},getStyle:function(){return this._style},setStyle:function(n){this.getStyle().set(n)},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()}},t.each(["locked","visible","blendMode","opacity","guide"],function(n){var i=t.capitalize(n),n="_"+n;this["get"+i]=function(){return this[n]};this["set"+i]=function(t){t!=this[n]&&(this[n]=t,this._changed(n==="_locked"?32:33))}},{}),{_locked:!1,_visible:!0,_blendMode:"normal",_opacity:1,_guide:!1,isSelected:function(){if(this._children)for(var n=0,t=this._children.length;n<t;n++)if(this._children[n].isSelected())return!0;return this._selected},setSelected:function(n){if(this._children&&!arguments[1])for(var t=0,i=this._children.length;t<i;t++)this._children[t].setSelected(n);(n=!!n)!=this._selected&&(this._selected=n,this._project._updateSelection(this),this._changed(33))},_selected:!1,isFullySelected:function(){if(this._children&&this._selected){for(var n=0,t=this._children.length;n<t;n++)if(!this._children[n].isFullySelected())return!1;return!0}return this._selected},setFullySelected:function(n){if(this._children)for(var t=0,i=this._children.length;t<i;t++)this._children[t].setFullySelected(n);this.setSelected(n,!0)},isClipMask:function(){return this._clipMask},setClipMask:function(n){this._clipMask!=(n=!!n)&&(this._clipMask=n,n&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(33),this._parent&&this._parent._changed(256))},_clipMask:!1,getData:function(){return this._data||(this._data={}),this._data},setData:function(n){this._data=n},getPosition:function(){var n=this._position||(this._position=this.getBounds().getCenter(!0));return new(arguments[0]?r:ht)(n.x,n.y,this,"setPosition")},setPosition:function(){this.translate(r.read(arguments).subtract(this.getPosition(!0)))}},t.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(n){this[n]=function(){var i=this._boundsGetter,t=this._getCachedBounds(typeof i=="string"?i:i&&i[n]||n,arguments[0]);return n==="getBounds"?new li(t.x,t.y,t.width,t.height,this,"setBounds"):t}},{_getCachedBounds:function(n,t,i){var r=(!t||t.equals(this._matrix))&&n,f,u,e,o;return(i&&this._parent&&(f=i._id,u=this._parent._boundsCache=this._parent._boundsCache||{ids:{},list:[]},u.ids[f]||(u.list.push(i),u.ids[f]=i)),r&&this._bounds&&this._bounds[r])?this._bounds[r].clone():(e=this._matrix.isIdentity(),t=!t||t.isIdentity()?e?null:this._matrix:e?t:t.clone().concatenate(this._matrix),o=this._getBounds(n,t,r?this:i),r&&(this._bounds||(this._bounds={}),this._bounds[r]=o.clone()),o)},_clearBoundsCache:function(){var n;if(this._boundsCache){for(var t=0,i=this._boundsCache.list,r=i.length;t<r;t++)n=i[t],delete n._bounds,n!=this&&n._boundsCache&&n._clearBoundsCache();delete this._boundsCache}},_getBounds:function(n,t,i){var f=this._children,h,a,c,u;if(!f||f.length==0)return new o;var r=Infinity,e=-r,s=r,l=e;for(h=0,a=f.length;h<a;h++)c=f[h],c._visible&&!c.isEmpty()&&(u=c._getCachedBounds(n,t,i),r=Math.min(u.x,r),s=Math.min(u.y,s),e=Math.max(u.x+u.width,e),l=Math.max(u.y+u.height,l));return isFinite(r)?new o(r,s,e-r,l-s):new o},setBounds:function(n){n=o.read(arguments);var t=this.getBounds(),i=new p,r=n.getCenter();i.translate(r);(n.width!=t.width||n.height!=t.height)&&i.scale(t.width!=0?n.width/t.width:1,t.height!=0?n.height/t.height:1);r=t.getCenter();i.translate(-r.x,-r.y);this.transform(i)}}),{getMatrix:function(){return this._matrix},setMatrix:function(n){this._matrix.initialize(n);this._transformContent&&this.applyMatrix(!0);this._changed(5)},getGlobalMatrix:function(){return this._drawCount===this._project._drawCount&&this._globalMatrix||null},getTransformContent:function(){return this._transformContent},setTransformContent:function(n){this._transformContent=n;n&&this.applyMatrix()},getProject:function(){return this._project},_setProject:function(n){var i,t,r;if(this._project!=n&&(i=this.responds("frame"),i&&this._animateItem(!1),this._project=n,i&&this._animateItem(!0),this._children))for(t=0,r=this._children.length;t<r;t++)this._children[t]._setProject(n)},getLayer:function(){for(var n=this;n=n._parent;)if(n instanceof ft)return n;return null},getParent:function(){return this._parent},setParent:function(n){return n.addChild(this)},getChildren:function(){return this._children},setChildren:function(n){this.removeChildren();this.addChildren(n)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){return this._parent&&this._parent._children[this._index+1]||null},getPreviousSibling:function(){return this._parent&&this._parent._children[this._index-1]||null},getIndex:function(){return this._index},isInserted:function(){return this._parent?this._parent.isInserted():!1},equals:function(n){return n===this||n&&this._class===n._class&&this._style.equals(n._style)&&this._matrix.equals(n._matrix)&&this._locked===n._locked&&this._visible===n._visible&&this._blendMode===n._blendMode&&this._opacity===n._opacity&&this._clipMask===n._clipMask&&this._guide===n._guide&&this._equals(n)||!1},_equals:function(n){return t.equals(this._children,n._children)},clone:function(n){return this._clone(new this.constructor({insert:!1}),n)},_clone:function(i,r){var o,u,f,e;if(i.setStyle(this._style),this._children)for(u=0,f=this._children.length;u<f;u++)i.addChild(this._children[u].clone(!1),!0);for((r||r===n)&&i.insertAbove(this),o=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],u=0,f=o.length;u<f;u++)e=o[u],this.hasOwnProperty(e)&&(i[e]=this[e]);return i._matrix.initialize(this._matrix),i._data=this._data?t.clone(this._data):null,i.setSelected(this._selected),this._name&&i.setName(this._name,!0),i},copyTo:function(n){return n.addChild(this.clone(!1))},rasterize:function(n){var u=this.getStrokeBounds(),e=(n||72)/72,r=u.getTopLeft().floor(),o=u.getBottomRight().ceil(),i;return size=new f(o.subtract(r)),canvas=w.getCanvas(size),ctx=canvas.getContext("2d"),matrix=(new p).scale(e).translate(r.negate()),ctx.save(),matrix.applyToContext(ctx),this.draw(ctx,new t({transforms:[matrix]})),ctx.restore(),i=new et({canvas:canvas,insert:!1}),i.setPosition(r.add(size.divide(2))),i.insertAbove(this),i},contains:function(){return!!this._contains(this._matrix._inverseTransform(r.read(arguments)))},_contains:function(n){if(this._children){for(var t=this._children.length-1;t>=0;t--)if(this._children[t].contains(n))return!0;return!1}return n.isInside(this._getBounds("getBounds"))},hitTest:function(n,i){function o(r,u){var f=s["get"+u]();if(n.getDistance(f)<i.tolerance)return new tt(r,e,{name:t.hyphenate(u),point:f})}var e,u,s,h,f;if((n=r.read(arguments),i=tt.getOptions(t.read(arguments)),this._locked||!this._visible||this._guide&&!i.guides)||!this._children&&!this.getRoughBounds().expand(2*i.tolerance)._containsPoint(n))return null;if(n=this._matrix._inverseTransform(n),e=this,(i.center||i.bounds)&&!(this instanceof ft&&!this._parent)&&(s=this._getBounds("getBounds"),i.center&&(u=o("center","Center")),!u&&i.bounds))for(h=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],f=0;f<8&&!u;f++)u=o("bounds",h[f]);return(u||(u=this._children||!(i.guides&&!this._guide||i.selected&&!this._selected)?this._hitTest(n,i):null))&&u.point&&(u.point=e._matrix.transform(u.point)),u},_hitTest:function(n,t){var r=this._children,i,u;if(r){for(i=r.length-1;i>=0;i--)if(u=r[i].hitTest(n,t))return u}else if(t.fill&&this.hasFill()&&this._contains(n))return new tt("fill",this)},matches:function(n){function f(n,i){var r,u,e;for(r in n)if(n.hasOwnProperty(r))if(u=n[r],e=i[r],t.isPlainObject(u)&&t.isPlainObject(e)){if(!f(u,e))return!1}else if(!t.equals(u,e))return!1;return!0}var u,r,i;for(u in n)if(n.hasOwnProperty(u))if(r=this[u],i=n[u],i instanceof RegExp){if(!i.test(r))return!1}else if(typeof i=="function"){if(!i(r))return!1}else if(t.isPlainObject(i)){if(!f(i,r))return!1}else if(!t.equals(r,i))return!1;return!0}},new function(){function n(t,i,r){for(var u,e,o=t._children,f=r&&[],s=0,h=o&&o.length;s<h;s++){if(u=o[s],u.matches(i))if(r)f.push(u);else return u;if(e=n(u,i,r),r)f.push.apply(f,e);else if(e)return e}return r?f:null}return{getItems:function(t){return n(this,t,!0)},getItem:function(t){return n(this,t,!1)}}},{importJSON:function(n){var i=t.importJSON(n,this);return i!==this?this.addChild(i):i},addChild:function(t,i){return this.insertChild(n,t,i)},insertChild:function(n,t,i){var r=this.insertChildren(n,[t],i);return r&&r[0]},addChildren:function(n,t){return this.insertChildren(this._children.length,n,t)},insertChildren:function(n,i,r,u){var o=this._children,f,s,e;if(o&&i&&i.length>0){for(i=Array.prototype.slice.apply(i),f=i.length-1;f>=0;f--)e=i[f],u&&e._type!==u?i.splice(f,1):e._remove(!0);for(t.splice(o,i,n,0),f=0,s=i.length;f<s;f++)e=i[f],e._parent=this,e._setProject(this._project),e._name&&e.setName(e._name);this._changed(7)}else i=null;return i},_insert:function(n,t,i){if(!t._parent)return null;var r=t._index+(n?1:0);return t._parent===this._parent&&r>this._index&&r--,t._parent.insertChild(r,this,i)},insertAbove:function(n,t){return this._insert(!0,n,t)},insertBelow:function(n,t){return this._insert(!1,n,t)},sendToBack:function(){return this._parent.insertChild(0,this)},bringToFront:function(){return this._parent.addChild(this)},appendTop:"#addChild",appendBottom:function(n){return this.insertChild(0,n)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",reduce:function(){if(this._children&&this._children.length===1){var n=this._children[0];return n.insertAbove(this),n.setStyle(this._style),this.remove(),n}return this},_removeNamed:function(){var i=this._parent._children,r=this._parent._namedChildren,t=this._name,n=r[t],u=n?n.indexOf(this):-1;u!=-1&&(i[t]==this&&delete i[t],n.splice(u,1),n.length?i[t]=n[n.length-1]:delete r[t])},_remove:function(n){return this._parent?(this._name&&this._removeNamed(),this._index!=null&&t.splice(this._parent._children,null,this._index,1),this.responds("frame")&&this._animateItem(!1),n&&this._parent._changed(7),this._parent=null,!0):!1},remove:function(){return this._remove(!0)},removeChildren:function(n,i){var r,u;if(!this._children)return null;for(n=n||0,i=t.pick(i,this._children.length),r=t.splice(this._children,null,n,i-n),u=r.length-1;u>=0;u--)r[u]._remove(!1);return r.length>0&&this._changed(7),r},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var n=0,t=this._children.length;n<t;n++)this._children[n]._index=n;this._changed(7)}},isEmpty:function(){return!this._children||this._children.length==0},isEditable:function(){for(var n=this;n;){if(!n._visible||n._locked)return!1;n=n._parent}return!0},_getOrder:function(n){function u(n){var t=[];do t.unshift(n);while(n=n._parent);return t}for(var i=u(this),r=u(n),t=0,f=Math.min(i.length,r.length);t<f;t++)if(i[t]!=r[t])return i[t]._index<r[t]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isAbove:function(n){return this._getOrder(n)===-1},isBelow:function(n){return this._getOrder(n)===1},isParent:function(n){return this._parent===n},isChild:function(n){return n&&n._parent===this},isDescendant:function(n){for(var t=this;t=t._parent;)if(t==n)return!0;return!1},isAncestor:function(n){return n?n.isDescendant(this):!1},isGroupedWith:function(n){for(var t=this._parent;t;){if(t._parent&&/^(group|layer|compound-path)$/.test(t._type)&&n.isDescendant(t))return!0;t=t._parent}return!1},scale:function(n,t,i){return(arguments.length<2||typeof t=="object")&&(i=t,t=n),this.transform((new p).scale(n,t,i||this.getPosition(!0)))},translate:function(){var n=new p;return this.transform(n.translate.apply(n,arguments))},rotate:function(n,t){return this.transform((new p).rotate(n,t||this.getPosition(!0)))},shear:function(n,t,i){return(arguments.length<2||typeof t=="object")&&(i=t,t=n),this.transform((new p).shear(n,t,i||this.getPosition(!0)))},transform:function(n){var i=this._bounds,u=this._position,f,r,t;if(this._matrix.preConcatenate(n),(this._transformContent||arguments[1])&&this.applyMatrix(!0),this._changed(5),i&&n.getRotation()%90==0){for(f in i)t=i[f],n._transformBounds(t,t);r=this._boundsGetter;t=i[r&&r.getBounds||r||"getBounds"];t&&(this._position=t.getCenter(!0));this._bounds=i}else u&&(this._position=n._transformPoint(u,u));return this},_applyMatrix:function(n,t){var i=this._children,r,u;if(i&&i.length>0){for(r=0,u=i.length;r<u;r++)i[r].transform(n,t);return!0}},applyMatrix:function(n){var t=this._matrix;if(this._applyMatrix(t,!0)){var i=this._style,r=i.getFillColor(!0),u=i.getStrokeColor(!0);r&&r.transform(t);u&&u.transform(t);t.reset()}n||this._changed(5)},globalToLocal:function(){var n=this.getGlobalMatrix();return n&&n._transformPoint(r.read(arguments))},localToGlobal:function(){var n=this.getGlobalMatrix();return n&&n._inverseTransform(r.read(arguments))},fitBounds:function(n,t){n=o.read(arguments);var i=this.getBounds(),u=i.height/i.width,e=n.height/n.width,s=(t?u>e:u<e)?n.width/i.width:n.height/i.height,h=new o(new r,new f(i.width*s,i.height*s));h.setCenter(n.getCenter());this.setBounds(h)},_setStyles:function(n){var t=this._style,o=t.getFillColor(),s=t.getStrokeColor(),h=t.getShadowColor(),r,i,u,f,e;if(o&&(n.fillStyle=o.toCanvasStyle(n)),s&&(r=t.getStrokeWidth(),r>0)){n.strokeStyle=s.toCanvasStyle(n);n.lineWidth=r;var c=t.getStrokeJoin(),l=t.getStrokeCap(),a=t.getMiterLimit();c&&(n.lineJoin=c);l&&(n.lineCap=l);a&&(n.miterLimit=a);paper.support.nativeDash&&(i=t.getDashArray(),u=t.getDashOffset(),i&&i.length&&("setLineDash"in n?(n.setLineDash(i),n.lineDashOffset=u):(n.mozDash=i,n.mozDashOffset=u)))}h&&(f=t.getShadowBlur(),f>0&&(n.shadowColor=h.toCanvasStyle(n),n.shadowBlur=f,e=this.getShadowOffset(),n.shadowOffsetX=e.x,n.shadowOffsetY=e.y))},draw:function(n,t){var r;if(this._visible&&this._opacity!==0){this._drawCount=this._project._drawCount;var c=t.trackTransforms,u=t.transforms,l=u[u.length-1],a=l.clone().concatenate(this._matrix);c&&u.push(this._globalMatrix=a);var e=this._blendMode,o=this._opacity,v=e==="normal",y=ni.nativeModes[e],i=v&&o===1||(y||v&&o<1)&&this._canComposite(),p,s,h;if(!i){if(r=this.getStrokeBounds(l),!r.width||!r.height)return;h=t.offset;s=t.offset=r.getTopLeft().floor();p=n;n=w.getContext(r.getSize().ceil().add(new f(1,1)),t.ratio)}n.save();i?(n.globalAlpha=o,y&&(n.globalCompositeOperation=e)):n.translate(-s.x,-s.y);(i?this._matrix:a).applyToContext(n);!i&&t.clipItem&&t.clipItem.draw(n,t.extend({clip:!0}));this._draw(n,t);n.restore();c&&u.pop();t.clip&&n.clip();i||(ni.process(e,n,p,o,s.subtract(h).multiply(t.ratio)),w.release(n),t.offset=h)}},_canComposite:function(){return!1}},t.each(["down","drag","up","move"],function(n){this["removeOn"+t.capitalize(n)]=function(){var t={};return t[n]=!0,this.removeOn(t)}},{removeOn:function(n){for(var r in n)if(n[r]){var t="mouse"+r,u=this._project,i=u._removeSets=u._removeSets||{};i[t]=i[t]||{};i[t][this._id]=this}return this}})),nt=d.extend({_class:"Group",_serializeFields:{children:[]},initialize:function(n){this._children=[];this._namedChildren={};this._initialize(n)||this.addChildren(Array.isArray(n)?n:arguments)},_changed:function ii(n){ii.base.call(this,n);n&2&&this._transformContent&&!this._matrix.isIdentity()&&this.applyMatrix();n&258&&delete this._clipItem},_getClipItem:function(){var t,r,i;if(this._clipItem!==n)return this._clipItem;for(t=0,r=this._children.length;t<r;t++)if(i=this._children[t],i._clipMask)return this._clipItem=i;return this._clipItem=null},isClipped:function(){return!!this._getClipItem()},setClipped:function(n){var t=this.getFirstChild();t&&t.setClipMask(n)},_draw:function(n,t){var r=t.clipItem=this._getClipItem(),i,f,u;for(r&&r.draw(n,t.extend({clip:!0})),i=0,f=this._children.length;i<f;i++)u=this._children[i],u!==r&&u.draw(n,t);t.clipItem=null}}),ft=nt.extend({_class:"Layer",initialize:function(i){var r=t.isPlainObject(i)?new t(i):{children:Array.isArray(i)?i:arguments},u=r.insert;r.insert=!1;nt.call(this,r);(u||u===n)&&(this._project.addChild(this),this.activate())},_remove:function vi(n){return this._parent?vi.base.call(this,n):this._index!=null?(this._project.activeLayer===this&&(this._project.activeLayer=this.getNextSibling()||this.getPreviousSibling()),t.splice(this._project.layers,null,this._index,1),this._project._needsRedraw=!0,!0):!1},getNextSibling:function yi(){return this._parent?yi.base.call(this):this._project.layers[this._index+1]||null},getPreviousSibling:function pi(){return this._parent?pi.base.call(this):this._project.layers[this._index-1]||null},isInserted:function wi(){return this._parent?wi.base.call(this):this._index!=null},activate:function(){this._project.activeLayer=this},_insert:function bi(n,i,r){return i instanceof ft&&!i._parent?(this._remove(!0),t.splice(i._project.layers,[this],i._index+(n?1:0),0),this._setProject(i._project),this):bi.base.call(this,n,i,r)}}),b=d.extend({_class:"Shape",_transformContent:!1,_boundsSelected:!0,initialize:function(n,t,i,r,u){this._shape=n;this._size=i;this._radius=r;this._initialize(u,t)},_equals:function(n){return this._shape===n._shape&&this._size.equals(n._size)&&t.equals(this._radius,n._radius)},clone:function(n){return this._clone(new b(this._shape,this.getPosition(!0),this._size.clone(),this._radius.clone?this._radius.clone():this._radius,{insert:!1}),n)},getShape:function(){return this._shape},getSize:function(){var n=this._size;return new ct(n.width,n.height,this,"setSize")},setSize:function(){var r=this._shape,i=f.read(arguments),n,t,u;this._size.equals(i)||(n=i.width,t=i.height,r==="rectangle"?(u=f.min(this._radius,i.divide(2)),this._radius.set(u.width,u.height)):r==="circle"?(n=t=(n+t)/2,this._radius=n/2):r==="ellipse"&&this._radius.set(n/2,t/2),this._size.set(n,t),this._changed(5))},getRadius:function(){var n=this._radius;return this._shape==="circle"?n:new ct(n.width,n.height,this,"setRadius")},setRadius:function(n){var i=this._shape,t;if(i==="circle"){if(n===this._radius)return;t=n*2;this._radius=n;this._size.set(t,t)}else{if(n=f.read(arguments),this._radius.equals(n))return;this._radius.set(n.width,n.height);i==="rectangle"?(t=f.max(this._size,n.multiply(2)),this._size.set(t.width,t.height)):i==="ellipse"&&this._size.set(n.width*2,n.height*2)}this._changed(5)},isEmpty:function(){return!1},toPath:function(i){var u=new a[t.capitalize(this._shape)]({center:new r,size:this._size,radius:this._radius,insert:!1});return u.setStyle(this._style),u.transform(this._matrix),(i||i===n)&&u.insertAbove(this),u},_draw:function(n,t){var l=this._style,a=l.hasFill(),v=l.hasStroke(),b=t.clip,c,y,e,o;if(a||v||b){if(c=this._radius,y=this._shape,n.beginPath(),y==="circle")n.arc(0,0,c,0,Math.PI*2,!0);else{var u=c.width,f=c.height,h=s.KAPPA;if(y==="ellipse")e=u*h,o=f*h,n.moveTo(-u,0),n.bezierCurveTo(-u,-o,-e,-f,0,-f),n.bezierCurveTo(e,-f,u,-o,u,0),n.bezierCurveTo(u,o,e,f,0,f),n.bezierCurveTo(-e,f,-u,o,-u,0);else{var k=this._size,p=k.width,w=k.height;if(u===0&&f===0)n.rect(-p/2,-w/2,p,w);else{h=1-h;var i=p/2,r=w/2,e=u*h,o=f*h;n.moveTo(-i,-r+f);n.bezierCurveTo(-i,-r+o,-i+e,-r,-i+u,-r);n.lineTo(i-u,-r);n.bezierCurveTo(i-e,-r,i,-r+o,i,-r+f);n.lineTo(i,r-f);n.bezierCurveTo(i,r-o,i-e,r,i-u,r);n.lineTo(-i+u,r);n.bezierCurveTo(-i+e,r,-i,r-o,-i,r-f)}}}n.closePath()}!b&&(a||v)&&(this._setStyles(n),a&&(n.fill(l.getWindingRule()),n.shadowColor="rgba(0,0,0,0)"),v&&n.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(n,t){var i=new o(this._size).setCenter(0,0);return n!=="getBounds"&&this.hasStroke()&&(i=i.expand(this.getStrokeWidth())),t?t._transformBounds(i):i}},new function(){function n(n,t,i){var f=n._radius,e,u;if(!f.isZero())for(e=n._size.divide(2),u=0;u<4;u++){var s=new r(u&1?1:-1,u>1?1:-1),h=s.multiply(e),c=h.subtract(s.multiply(f)),l=new o(h,c);if((i?l.expand(i):l).contains(t))return c}}function t(n,t){var i=n.getAngleInRadians(),r=t.width*2,u=t.height*2,f=r*Math.sin(i),e=u*Math.cos(i);return r*u/(2*Math.sqrt(f*f+e*e))}return{_contains:function i(t){if(this._shape==="rectangle"){var r=n(this,t);return r?t.subtract(r).divide(this._radius).getLength()<=1:i.base.call(this,t)}return t.divide(this.size).getLength()<=.5},_hitTest:function u(i,r){var e=!1,h,c;if(this.hasStroke()){var l=this._shape,s=this._radius,f=this.getStrokeWidth()+2*r.tolerance;if(l==="rectangle")if(h=n(this,i,f),h)c=i.subtract(h),e=2*Math.abs(c.getLength()-t(c,s))<=f;else{var a=new o(this._size).setCenter(0,0),v=a.expand(f),y=a.expand(-f);e=v._containsPoint(i)&&!y._containsPoint(i)}else l==="ellipse"&&(s=t(i,s)),e=2*Math.abs(i.getLength()-s)<=f}return e?new tt("stroke",this):u.base.apply(this,arguments)}}},{statics:new function(){function n(n,i,r,u,f){return new b(n,i,r,u,t.getNamed(f))}return{Circle:function(){var u=r.readNamed(arguments,"center"),i=t.readNamed(arguments,"radius");return n("circle",u,new f(i*2),i,arguments)},Rectangle:function(){var t=o.readNamed(arguments,"rectangle"),i=f.min(f.readNamed(arguments,"radius"),t.getSize(!0).divide(2));return n("rectangle",t.getCenter(!0),t.getSize(!0),i,arguments)},Ellipse:function(){var t=b._readEllipse(arguments);return radius=t.radius,n("ellipse",t.center,radius.multiply(2),radius,arguments)},_readEllipse:function(n){var i,u,e;return t.hasNamed(n,"radius")?(i=r.readNamed(n,"center"),u=f.readNamed(n,"radius")):(e=o.readNamed(n,"rectangle"),i=e.getCenter(!0),u=e.getSize(!0).divide(2)),{center:i,radius:u}}}}}),et=d.extend({_class:"Raster",_transformContent:!1,_boundsGetter:"getBounds",_boundsSelected:!0,_serializeFields:{source:null},initialize:function(t,i){this._initialize(t,i!==n&&r.read(arguments,1))||(typeof t=="string"?this.setSource(t):this.setImage(t));this._size||(this._size=new f)},_equals:function(n){return this.getSource()===n.getSource()},clone:function(n){var t={insert:!1},i=this._image,r;return i?t.image=i:this._canvas&&(r=t.canvas=w.getCanvas(this._size),r.getContext("2d").drawImage(this._canvas,0,0)),this._clone(new et(t),n)},getSize:function(){var n=this._size;return new ct(n.width,n.height,this,"setSize")},setSize:function(){var n=f.read(arguments),t;this._size.equals(n)||(t=this.getElement(),this.setCanvas(w.getCanvas(n)),t&&this.getContext(!0).drawImage(t,0,0,n.width,n.height))},getWidth:function(){return this._size.width},getHeight:function(){return this._size.height},isEmpty:function(){return this._size.width==0&&this._size.height==0},getPpi:function(){var n=this._matrix,t=new r(0,0).transform(n),i=new r(1,0).transform(n).subtract(t),u=new r(0,1).transform(n).subtract(t);return new f(72/i.getLength(),72/u.getLength())},getImage:function(){return this._image},setImage:function(n){this._canvas&&w.release(this._canvas);n.getContext?(this._image=null,this._canvas=n):(this._image=n,this._canvas=null);this._size=new f(n.naturalWidth||n.width,n.naturalHeight||n.height);this._context=null;this._changed(133)},getCanvas:function(){if(!this._canvas){var n=w.getContext(this._size);try{this._image&&n.drawImage(this._image,0,0);this._canvas=n.canvas}catch(t){w.release(n)}}return this._canvas},setCanvas:"#setImage",getContext:function(){return this._context||(this._context=this.getCanvas().getContext("2d")),arguments[0]&&(this._image=null,this._changed(129)),this._context},setContext:function(n){this._context=n},getSource:function(){return this._image&&this._image.src||this.toDataURL()},setSource:function(n){function r(){var n=i._project.view;n&&(paper=n._scope);i.fire("load");n&&n.draw(!0)}var i=this,t=document.getElementById(n)||new Image;t.naturalWidth&&t.naturalHeight?setTimeout(r,0):(v.add(t,{load:function(){i.setImage(t);r()}}),t.src||(t.src=n));this.setImage(t)},getElement:function(){return this._canvas||this._image},getSubCanvas:function(n){n=o.read(arguments);var t=w.getContext(n.getSize());return t.drawImage(this.getCanvas(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),t.canvas},getSubRaster:function(n){n=o.read(arguments);var t=new et({canvas:this.getSubCanvas(n),insert:!1});return t.translate(n.getCenter().subtract(this.getSize().divide(2))),t._matrix.preConcatenate(this._matrix),t.insertAbove(this),t},toDataURL:function(){var t=this._image&&this._image.src,n;return/^data:/.test(t)?t:(n=this.getCanvas(),n?n.toDataURL():null)},drawImage:function(n,t){t=r.read(arguments,1);this.getContext(!0).drawImage(n,t.x,t.y)},getAverageColor:function(n){var r,l,a,d,e,i;n?n instanceof vt?(l=n,r=n.getBounds()):n.width?r=new o(n):n.x&&(r=new o(n.x-.5,n.y-.5,1,1)):r=this.getBounds();var s=32,b=Math.min(r.width,s),k=Math.min(r.height,s),u=et._sampleContext;u?u.clearRect(0,0,s+1,s+1):u=et._sampleContext=w.getContext(new f(s));u.save();a=(new p).scale(b/r.width,k/r.height).translate(-r.x,-r.y);a.applyToContext(u);l&&l.draw(u,new t({clip:!0,transforms:[a]}));this._matrix.applyToContext(u);u.drawImage(this.getElement(),-this._size.width/2,-this._size.height/2);u.restore();var h=u.getImageData(.5,.5,Math.ceil(b),Math.ceil(k)).data,c=[0,0,0],v=0;for(i=0,d=h.length;i<d;i+=4)e=h[i+3],v+=e,e/=255,c[0]+=h[i]*e,c[1]+=h[i+1]*e,c[2]+=h[i+2]*e;for(i=0;i<3;i++)c[i]/=v;return v?y.read(c):null},getPixel:function(n){n=r.read(arguments);var t=this.getContext().getImageData(n.x,n.y,1,1).data;return new y("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var i=r.read(arguments),u=y.read(arguments),t=u._convert("rgb"),f=u._alpha,e=this.getContext(!0),o=e.createImageData(1,1),n=o.data;n[0]=t[0]*255;n[1]=t[1]*255;n[2]=t[2]*255;n[3]=f!=null?f*255:255;e.putImageData(o,i.x,i.y)},createImageData:function(n){return n=f.read(arguments),this.getContext().createImageData(n.width,n.height)},getImageData:function(n){return n=o.read(arguments),n.isEmpty()&&(n=new o(this._size)),this.getContext().getImageData(n.x,n.y,n.width,n.height)},setImageData:function(n,t){t=r.read(arguments,1);this.getContext(!0).putImageData(n,t.x,t.y)},_getBounds:function(n,t){var i=new o(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTest:function(n){if(this._contains(n)){var t=this;return new tt("pixel",t,{offset:n.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(n){var t=this.getElement();t&&(n.globalAlpha=this._opacity,n.drawImage(t,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),ri=d.extend({_class:"PlacedSymbol",_transformContent:!1,_boundsGetter:{getBounds:"getStrokeBounds"},_boundsSelected:!0,_serializeFields:{symbol:null},initialize:function(t,i){this._initialize(t,i!==n&&r.read(arguments,1))||this.setSymbol(t instanceof rt?t:new rt(t))},_equals:function(n){return this._symbol===n._symbol},getSymbol:function(){return this._symbol},setSymbol:function(n){this._symbol&&delete this._symbol._instances[this._id];this._symbol=n;n._instances[this._id]=this},clone:function(n){return this._clone(new ri({symbol:this.symbol,insert:!1}),n)},isEmpty:function(){return this._symbol._definition.isEmpty()},_getBounds:function(n,t){return this.symbol._definition._getCachedBounds(n,t)},_hitTest:function(n,t,i){var r=this._symbol._definition._hitTest(n,t,i);return r&&(r.item=this),r},_draw:function(n,t){this.symbol._definition.draw(n,t)}}),tt=t.extend({_class:"HitResult",initialize:function(n,t,i){this.type=n;this.item=t;i&&(i.enumerable=!0,this.inject(i))},statics:{getOptions:function(n){return n&&n._merged?n:new t({type:null,tolerance:paper.project.options.hitTolerance||2,fill:!n,stroke:!n,segments:!n,handles:!1,ends:!1,center:!1,bounds:!1,guides:!1,selected:!1,_merged:!0},n)}}}),e=t.extend({_class:"Segment",initialize:function(t,i,r,u,f,e){var s=arguments.length,o,h,c;s===0||(s===1?t.point?(o=t.point,h=t.handleIn,c=t.handleOut):o=t:s===2&&typeof t=="number"?o=arguments:s<=3?(o=t,h=i,c=r):(o=t!==n?[t,i]:null,h=r!==n?[r,u]:null,c=f!==n?[f,e]:null));new bt(o,this,"_point");new bt(h,this,"_handleIn");new bt(c,this,"_handleOut")},_serialize:function(n){return t.serialize(this.isLinear()?this._point:[this._point,this._handleIn,this._handleOut],n,!0)},_changed:function(n){if(this._path){var t=this._path._curves&&this.getCurve(),i;t&&(t._changed(),(i=t[n==this._point||n==this._handleIn&&t._segment1==this?"getPrevious":"getNext"]())&&i._changed());this._path._changed(5)}},getPoint:function(){return this._point},setPoint:function(n){n=r.read(arguments);this._point.set(n.x,n.y)},getHandleIn:function(){return this._handleIn},setHandleIn:function(n){n=r.read(arguments);this._handleIn.set(n.x,n.y)},getHandleOut:function(){return this._handleOut},setHandleOut:function(n){n=r.read(arguments);this._handleOut.set(n.x,n.y)},isLinear:function(){return this._handleIn.isZero()&&this._handleOut.isZero()},setLinear:function(){this._handleIn.set(0,0);this._handleOut.set(0,0)},isColinear:function(n){var t=this.getNext(),i=n.getNext();return this._handleOut.isZero()&&t._handleIn.isZero()&&n._handleOut.isZero()&&i._handleIn.isZero()&&t._point.subtract(this._point).isColinear(i._point.subtract(n._point))},isOrthogonal:function(){var n=this.getPrevious(),t=this.getNext();return n._handleOut.isZero()&&this._handleIn.isZero()&&this._handleOut.isZero()&&t._handleIn.isZero()&&this._point.subtract(n._point).isOrthogonal(t._point.subtract(this._point))},isArc:function(){var r=this.getNext(),n=this._handleOut,t=r._handleIn,u=s.KAPPA;if(n.isOrthogonal(t)){var f=this._point,e=r._point,i=new k(f,n,!0).intersect(new k(e,t,!0),!0);return i&&s.isZero(n.getLength()/i.subtract(f).getLength()-u)&&s.isZero(t.getLength()/i.subtract(e).getLength()-u)}return!1},_isSelected:function(n){var t=this._selectionState;return n==this._point?!!(t&4):n==this._handleIn?!!(t&1):n==this._handleOut?!!(t&2):!1},_setSelected:function(n,t){var e=this._path,t=!!t,r=this._selectionState||0,i=[!!(r&4),!!(r&1),!!(r&2)],u,f,o;n===this._point?(t?i[1]=i[2]=!1:(u=this.getPrevious(),f=this.getNext(),i[1]=u&&(u._point.isSelected()||u._handleOut.isSelected()),i[2]=f&&(f._point.isSelected()||f._handleIn.isSelected())),i[0]=t):(o=n===this._handleIn?1:2,i[o]!=t&&(t&&(i[0]=!1),i[o]=t));this._selectionState=(i[0]?4:0)|(i[1]?1:0)|(i[2]?2:0);e&&r!=this._selectionState&&(e._updateSelection(this,r,this._selectionState),e._changed(33))},isSelected:function(){return this._isSelected(this._point)},setSelected:function(n){this._setSelected(this._point,n)},getIndex:function(){return this._index!==n?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var n=this._path,t=this._index;return n?(n._closed||t!=n._segments.length-1||t--,n.getCurves()[t]||null):null},getLocation:function(){var n=this.getCurve();return n?new ut(n,n.getNext()?0:1):null},getNext:function(){var n=this._path&&this._path._segments;return n&&(n[this._index+1]||this._path._closed&&n[0])||null},getPrevious:function(){var n=this._path&&this._path._segments;return n&&(n[this._index-1]||this._path._closed&&n[n.length-1])||null},reverse:function(){return new e(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new e(this._point,this._handleIn,this._handleOut)},equals:function(n){return n===this||n&&this._class===n._class&&this._point.equals(n._point)&&this._handleIn.equals(n._handleIn)&&this._handleOut.equals(n._handleOut)||!1},toString:function(){var n=["point: "+this._point];return this._handleIn.isZero()||n.push("handleIn: "+this._handleIn),this._handleOut.isZero()||n.push("handleOut: "+this._handleOut),"{ "+n.join(", ")+" }"},_transformCoordinates:function(n,t,i){var s=this._point,e=!i||!this._handleIn.isZero()?this._handleIn:null,o=!i||!this._handleOut.isZero()?this._handleOut:null,u=s._x,f=s._y,r=2;return t[0]=u,t[1]=f,e&&(t[r++]=e._x+u,t[r++]=e._y+f),o&&(t[r++]=o._x+u,t[r++]=o._y+f),n&&(n._transformCoordinates(t,0,t,0,r/2),u=t[0],f=t[1],i?(s._x=u,s._y=f,r=2,e&&(e._x=t[r++]-u,e._y=t[r++]-f),o&&(o._x=t[r++]-u,o._y=t[r++]-f)):(e||(t[r++]=u,t[r++]=f),o||(t[r++]=u,t[r++]=f))),t}}),bt=r.extend({initialize:function(t,i,u){var f,e,o;t?(f=t[0])!==n?e=t[1]:((f=t.x)===n&&(t=r.read(arguments),f=t.x),e=t.y,o=t.selected):f=e=0;this._x=f;this._y=e;this._owner=i;i[u]=this;o&&this.setSelected(!0)},set:function(n,t){return this._x=n,this._y=t,this._owner._changed(this),this},_serialize:function(n){var t=n.formatter,i=t.number(this._x),r=t.number(this._y);return this.isSelected()?{x:i,y:r,selected:!0}:[i,r]},getX:function(){return this._x},setX:function(n){this._x=n;this._owner._changed(this)},getY:function(){return this._y},setY:function(n){this._y=n;this._owner._changed(this)},isZero:function(){return s.isZero(this._x)&&s.isZero(this._y)},setSelected:function(n){this._owner._setSelected(this,n)},isSelected:function(){return this._owner._isSelected(this)}}),u=t.extend({_class:"Curve",initialize:function(n,t,i,r,u,f,o,s){var h=arguments.length,c,l,a,v;h===3?(this._path=n,this._segment1=t,this._segment2=i):h===0?(this._segment1=new e,this._segment2=new e):h===1?(this._segment1=new e(n.segment1),this._segment2=new e(n.segment2)):h===2?(this._segment1=new e(n),this._segment2=new e(t)):(h===4?(c=n,l=t,a=i,v=r):h===8&&(c=[n,t],v=[o,s],l=[i-n,r-t],a=[u-o,f-s]),this._segment1=new e(c,null,l),this._segment2=new e(v,a,null))},_changed:function(){delete this._length;delete this._bounds},getPoint1:function(){return this._segment1._point},setPoint1:function(n){n=r.read(arguments);this._segment1._point.set(n.x,n.y)},getPoint2:function(){return this._segment2._point},setPoint2:function(n){n=r.read(arguments);this._segment2._point.set(n.x,n.y)},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(n){n=r.read(arguments);this._segment1._handleOut.set(n.x,n.y)},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(n){n=r.read(arguments);this._segment2._handleIn.set(n.x,n.y)},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index+1]||this._path._closed&&n[0])||null},getPrevious:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index-1]||this._path._closed&&n[n.length-1])||null},isSelected:function(){return this.getHandle1().isSelected()&&this.getHandle2().isSelected()},setSelected:function(n){this.getHandle1().setSelected(n);this.getHandle2().setSelected(n)},getValues:function(){return u.getValues(this._segment1,this._segment2)},getPoints:function(){for(var t=this.getValues(),i=[],n=0;n<8;n+=2)i.push(new r(t[n],t[n+1]));return i},getLength:function(){var t=arguments[0],i=arguments[1],r=arguments.length===0||t===0&&i===1,n;return r&&this._length!=null?this._length:(n=u.getLength(this.getValues(),t,i),r&&(this._length=n),n)},getArea:function(){return u.getArea(this.getValues())},getPart:function(n,t){return new u(u.getPart(this.getValues(),n,t))},isLinear:function(){return this._segment1._handleOut.isZero()&&this._segment2._handleIn.isZero()},getIntersections:function(n){return u.getIntersections(this.getValues(),n.getValues(),this,n,[])},reverse:function(){return new u(this._segment2.reverse(),this._segment1.reverse())},_getParameter:function(t,i){return i?t:t&&t.curve===this?t.parameter:t===n&&i===n?.5:this.getParameterAt(t,0)},divide:function(n,t){var s=this._getParameter(n,t),v=1e-5,h=null,p;if(s>v&&s<1-v){var y=u.subdivide(this.getValues(),s),c=this.isLinear(),i=y[0],f=y[1];c||(this._segment1._handleOut.set(i[2]-i[0],i[3]-i[1]),this._segment2._handleIn.set(f[4]-f[6],f[5]-f[7]));var l=i[6],a=i[7],o=new e(new r(l,a),!c&&new r(i[4]-l,i[5]-a),!c&&new r(f[2]-l,f[3]-a));this._path?(this._segment1._index>0&&this._segment2._index===0?this._path.add(o):this._path.insert(this._segment2._index,o),h=this):(p=this._segment2,this._segment2=o,h=new u(o,p))}return h},split:function(n,t){return this._path?this._path.split(this._segment1._index,this._getParameter(n,t)):null},clone:function(){return new u(this._segment1,this._segment2)},toString:function(){var n=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||n.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||n.push("handle2: "+this._segment2._handleIn),n.push("point2: "+this._segment2._point),"{ "+n.join(", ")+" }"},statics:{getValues:function(n,t){var i=n._point,u=n._handleOut,f=t._handleIn,r=t._point;return[i._x,i._y,i._x+u._x,i._y+u._y,r._x+f._x,r._y+f._y,r._x,r._y]},evaluate:function(n,t,i){var e=n[0],o=n[1],y=n[2],p=n[3],d=n[4],g=n[5],s=n[6],h=n[7],u,f,k,nt,tt;if(i===0&&(t===0||t===1))u=t===0?e:s,f=t===0?o:h;else{var c=3*(y-e),l=3*(d-y)-c,w=s-e-c-l,a=3*(p-o),v=3*(g-p)-a,b=h-o-a-v;if(i===0)u=((w*t+l)*t+c)*t+e,f=((b*t+v)*t+a)*t+o;else if(k=1e-5,t<k&&y===e&&p===o||t>1-k&&d===s&&g===h?(u=s-e,f=h-o):(u=(3*w*t+2*l)*t+c,f=(3*b*t+2*v)*t+a),i===3)return nt=6*w*t+2*l,tt=6*b*t+2*v,(u*tt-f*nt)/Math.pow(u*u+f*f,3/2)}return i==2?new r(f,-u):new r(u,f)},subdivide:function(t,i){var u=t[0],f=t[1],e=t[2],o=t[3],s=t[4],h=t[5],c=t[6],l=t[7];i===n&&(i=.5);var r=1-i,a=r*u+i*e,v=r*f+i*o,y=r*e+i*s,p=r*o+i*h,w=r*s+i*c,b=r*h+i*l,k=r*a+i*y,d=r*v+i*p,g=r*y+i*w,nt=r*p+i*b,tt=r*k+i*g,it=r*d+i*nt;return[[u,f,a,v,k,d,tt,it],[tt,it,g,nt,w,b,c,l]]},solveCubic:function(n,t,i,r,u,f){var e=n[t],h=n[t+2],l=n[t+4],a=n[t+6],o=3*(h-e),c=3*(l-h)-o,v=a-e-o-c;return s.solveCubic(v,c,o,e-i,r,u,f)},getParameterOf:function(n,t,i){var s,h;if(Math.abs(n[0]-t)<1e-5&&Math.abs(n[1]-i)<1e-5)return 0;if(Math.abs(n[6]-t)<1e-5&&Math.abs(n[7]-i)<1e-5)return 1;var c=[],l=[],e=u.solveCubic(n,0,t,c),o=u.solveCubic(n,1,i,l),r,f;for(s=0;e==-1||s<e;)if(e==-1||(r=c[s++])>=0&&r<=1){for(h=0;o==-1||h<o;)if((o==-1||(f=l[h++])>=0&&f<=1)&&(e==-1?r=f:o==-1&&(f=r),Math.abs(r-f)<1e-5))return(r+f)*.5;if(e==-1)break}return null},getPart:function(n,t,i){return t>0&&(n=u.subdivide(n,t)[1]),i<1&&(n=u.subdivide(n,(i-t)/(1-t))[0]),n},isLinear:function(n){var t=s.isZero;return t(n[0]-n[2])&&t(n[1]-n[3])&&t(n[4]-n[6])&&t(n[5]-n[7])},isFlatEnough:function(n,t){var i=n[0],r=n[1],c=n[2],l=n[3],a=n[4],v=n[5],u=n[6],f=n[7],e=3*c-2*i-u,o=3*l-2*r-f,s=3*a-2*u-i,h=3*v-2*f-r;return Math.max(e*e,s*s)+Math.max(o*o,h*h)<10*t*t},getArea:function(n){var t=n[0],i=n[1],r=n[2],u=n[3],f=n[4],e=n[5],o=n[6],s=n[7];return(3*u*t-1.5*u*f-1.5*u*o-3*i*r-1.5*i*f-.5*i*o+1.5*e*t+1.5*e*r-3*e*o+.5*s*t+1.5*s*r+3*s*f)/10},getBounds:function(n){for(var i=n.slice(0,2),r=i.slice(),f=[0,0],t=0;t<2;t++)u._addBounds(n[t],n[t+2],n[t+4],n[t+6],t,0,i,r,f);return new o(i[0],i[1],r[0]-i[0],r[1]-i[1])},_addBounds:function(n,t,i,r,u,f,e,o,h){function v(n,t){var i=n-t,r=n+t;i<e[u]&&(e[u]=i);r>o[u]&&(o[u]=r)}var p=3*(t-i)-n+r,w=2*(n+i)-4*t,b=t-n,k=s.solveQuadratic(p,w,b,h),y=1e-5,d=1-y,a,c,l;for(v(r,0),a=0;a<k;a++)c=h[a],l=1-c,y<c&&c<d&&v(l*l*l*n+3*l*l*c*t+3*l*c*c*i+c*c*c*r,f)},_getWinding:function(n,t,i,r,f,e){function it(n){var t=n[1],i=n[7],u=t>i?-1:1;return u===1&&(r<t||r>i)||u===-1&&(r<i||r>t)?0:u}var h=1e-5,v=Math.abs,rt,a,g,c,l,nt,et,tt,w;if(u.isLinear(n))return(c=it(n),!c)?0:(rt=(n[6]-n[0])*(r-n[1])-(n[7]-n[1])*(i-n[0]),(rt<-h?-1:1)==c?0:c);var b=n[1],k=n[3],ut=n[5],ot=n[7],st=3*(k-ut)-b+ot,ht=2*(b+ut)-4*k,ct=k-b,d=s.solveQuadratic(st,ht,ct,f,h,1-h),o,p=n,y=f[0],ft=0;for(a=0;a<=d;a++)if(a===d?o=p:(g=u.subdivide(p,y),o=g[0],p=g[1],y=f[a],y=(f[a+1]-y)/(1-y)),a>0&&(o[3]=o[1]),a<d&&(o[5]=p[1]),c=it(o),c){if(u.solveCubic(o,1,r,e,-h,1+-h)===1)l=e[0],nt=u.evaluate(o,l,0).x;else{if(et=(o[1]+o[7])/2,l=r<et&&c>0?0:1,l===1&&r==o[7])continue;nt=l===0?o[0]:o[6]}tt=u.evaluate(o,l,1).y;w=v(tt)<h||l<h&&u.evaluate(t,1,1).y*tt<0;i>=nt+(w?-h:h*c)&&!(w&&(v(l)<h&&v(i-o[0])>h||v(l-1)<h&&v(i-o[6])>h))&&(ft+=w&&v(l-(c>0?1:0))<h?-c:c);t=o}return ft}}},t.each(["getBounds","getStrokeBounds","getHandleBounds","getRoughBounds"],function(n){this[n]=function(){this._bounds||(this._bounds={});var t=this._bounds[n];return t||(t=this._bounds[n]=a[n]([this._segment1,this._segment2],!1,this._path.getStyle())),t.clone()}},{}),t.each(["getPoint","getTangent","getNormal","getCurvature"],function(n,t){this[n+"At"]=function(n,i){var r=this.getValues();return u.evaluate(r,i?n:u.getParameterAt(r,n,0),t)};this[n]=function(n){return u.evaluate(this.getValues(),n,t)}},{getParameterAt:function(t,i){return u.getParameterAt(this.getValues(),t,i!==n?i:t<0?1:0)},getParameterOf:function(n){return n=r.read(arguments),u.getParameterOf(this.getValues(),n.x,n.y)},getLocationAt:function(n,t){return t||(n=this.getParameterAt(n)),new ut(this,n)},getLocationOf:function(n){n=r.read(arguments);var t=this.getParameterOf(n);return t!=null?new ut(this,t):null},getNearestLocation:function(n){function o(i){if(i>=0&&i<=1){var r=n.getDistance(u.evaluate(c,i,0),!0);if(r<l)return l=r,t=i,!0}}var f,i,h;n=r.read(arguments);var c=this.getValues(),e=100,a=s.TOLERANCE,l=Infinity,t=0;for(f=0;f<=e;f++)o(f/e);for(i=1/(e*2);i>a;)o(t-i)||o(t+i)||(i/=2);return h=u.evaluate(c,t,0),new ut(this,t,h,null,null,null,n.getDistance(h))},getNearestPoint:function(n){return n=r.read(arguments),this.getNearestLocation(n).getPoint()}}),new function(){function i(n){var t=n[0],i=n[1],r=n[2],u=n[3],f=n[4],e=n[5],o=n[6],s=n[7],h=9*(r-f)+3*(o-t),c=6*(t+f)-12*r,l=3*(r-t),a=9*(u-e)+3*(s-i),v=6*(i+e)-12*u,y=3*(u-i);return function(n){var t=(h*n+c)*n+l,i=(a*n+v)*n+y;return Math.sqrt(t*t+i*i)}}function t(n,t){return Math.max(2,Math.min(16,Math.ceil(Math.abs(t-n)*32)))}return{statics:!0,getLength:function(r,u,f){var e,o,h,c;return(u===n&&(u=0),f===n&&(f=1),e=s.isZero,e(r[0]-r[2])&&e(r[1]-r[3])&&e(r[6]-r[4])&&e(r[7]-r[5]))?(o=r[6]-r[0],h=r[7]-r[1],(f-u)*Math.sqrt(o*o+h*h)):(c=i(r),s.integrate(c,u,f,t(u,f)))},getParameterAt:function(n,r,u){function v(n){var i=t(u,n);return l+=u<n?s.integrate(h,u,n,i):-s.integrate(h,n,u,i),u=n,l-r}var c,l;if(r===0)return u;var o=r>0,f=o?u:0,e=o?1:u,r=Math.abs(r),h=i(n),a=s.integrate(h,f,e,t(f,e));return r>=a?o?e:f:(c=r/a,l=0,s.findRoot(v,h,o?f+c:e-c,f,e,16,1e-5))}}},new function(){function n(n,t,i,r,u,f,e){var o=n[0],h=n[n.length-1];o&&r.isClose(o._point,s.EPSILON)||h&&r.isClose(h._point,s.EPSILON)||n.push(new ut(t,i,r,u,f,e))}function t(r,f,e,o,s,h,c,l){var y,v,p,a,k,d;if(l=(l||0)+1,!(l>20)){h=h||[0,1];c=c||[0,1];for(var w=u.getPart(r,h[0],h[1]),b=u.getPart(f,c[0],c[1]),g=0;g++<20;){if(v=i(w,b,y=c.slice()),p=0,v===0)break;if(v>0){if(c=y,b=u.getPart(f,c[0],c[1]),p=i(b,w,y=h.slice()),p===0)break;v>0&&(h=y,w=u.getPart(r,h[0],h[1]))}if(v<0||p<0)if(h[1]-h[0]>c[1]-c[0]){a=(h[0]+h[1])/2;t(r,f,e,o,s,[h[0],a],c,l);t(r,f,e,o,s,[a,h[1]],c,l);break}else{a=(c[0]+c[1])/2;t(r,f,e,o,s,h,[c[0],a],l);t(r,f,e,o,s,h,[a,c[1]],l);break}if(Math.abs(h[1]-h[0])<=1e-5&&Math.abs(c[1]-c[0])<=1e-5){k=(h[0]+h[1])/2;d=(c[0]+c[1])/2;n(s,e,k,u.evaluate(r,k,0),o,d,u.evaluate(f,d,0));break}}}}function i(n,t,i){var c=n[0],l=n[1],bt=n[2],kt=n[3],dt=n[4],gt=n[5],a=n[6],v=n[7],ni=t[0],ti=t[1],ii=t[2],ri=t[3],ui=t[4],fi=t[5],ei=t[6],oi=t[7],y=k.getSignedDistance,ft=y(c,l,a,v,bt,kt)||0,et=y(c,l,a,v,dt,gt)||0,pt=ft*et>0?3/4:4/9,e=pt*Math.min(0,ft,et),o=pt*Math.max(0,ft,et),p=y(c,l,a,v,ni,ti),ot=y(c,l,a,v,ii,ri),st=y(c,l,a,v,ui,fi),w=y(c,l,a,v,ei,oi),it,rt,g,ct,b,d,f,vt,yt,ut,tt;if(e>Math.max(p,ot,st,w)||o<Math.min(p,ot,st,w))return 0;it=r(p,ot,st,w);w<p&&(rt=e,e=o,o=rt);var ht=-Infinity,s=Infinity,h=-Infinity;for(g=0,ct=it.length;g<ct;g++){b=it[g];d=it[(g+1)%ct];d[1]<b[1]&&(rt=d,d=b,b=rt);var lt=b[0],nt=b[1],si=d[0],at=d[1],wt=(at-nt)/(si-lt);e>=nt&&e<=at&&(f=lt+(e-nt)/wt,f<s&&(s=f),f>ht&&(ht=f));o>=nt&&o<=at&&(f=lt+(o-nt)/wt,f>h&&(h=f),f<s&&(s=0))}return s!==Infinity&&h!==-Infinity&&(vt=Math.min(e,o),yt=Math.max(e,o),w>vt&&w<yt&&(h=1),p>vt&&p<yt&&(s=0),ht>h&&(h=1),ut=i[0],tt=i[1]-ut,i[0]=ut+s*tt,i[1]=ut+h*tt,(tt-(i[1]-i[0]))/tt>=.2)?1:u.getBounds(n).touches(u.getBounds(t))?-1:0}function r(n,t,i,r){var u=[0,n],f=[1/3,t],e=[2/3,i],o=[1,r],c=k.getSignedDistance,l=c(0,n,1,r,1/3,t),a=c(0,n,1,r,2/3,i),s,h;return l*a<0?[u,f,o,e]:(Math.abs(l)>Math.abs(a)?(s=f,h=(r-i-(r-n)/3)*(2*(r-i)-r+t)/3):(s=e,h=(t-n+(n-r)/3)*(-2*(n-t)+n-i)/3),h<0?[u,s,o]:[u,f,e,o])}function f(t,i,r,f,e){for(var w,b,rt,l,s,h=u.isLinear(t),k=h?i:t,c=h?t:i,d=c[0],g=c[1],ot=c[6],st=c[7],nt=ot-d,tt=st-g,it=Math.atan2(-tt,nt),a=Math.sin(it),v=Math.cos(it),y=nt*v-tt*a,ht=[0,0,0,0,y,0,y,0],p=[],o=0;o<8;o+=2)s=k[o]-d,w=k[o+1]-g,p.push(s*v-w*a,w*v+s*a);for(b=[],rt=u.solveCubic(p,1,0,b,0,1),o=0;o<rt;o++)if(l=b[o],s=u.evaluate(p,l,0).x,s>=0&&s<=y){var ut=u.getParameterOf(ht,s,0),ft=h?ut:l,et=h?l:ut;n(e,r,ft,u.evaluate(t,ft,0),f,et,u.evaluate(i,et,0))}}function e(t,i,r,u,f){var e=k.intersect(t[0],t[1],t[6],t[7],i[0],i[1],i[6],i[7]);e&&n(f,r,null,e,u)}return{statics:{getIntersections:function(i,r,o,s,h){var v=u.isLinear(i),y=u.isLinear(r),c=o.getPoint1(),l=o.getPoint2(),p=s.getPoint1(),w=s.getPoint2(),a=1e-5;return c.isClose(p,a)&&n(h,o,0,c,s,0,c),c.isClose(w,a)&&n(h,o,0,c,s,1,c),(v&&y?e:v||y?f:t)(i,r,o,s,h),l.isClose(p,a)&&n(h,o,1,l,s,0,l),l.isClose(w,a)&&n(h,o,1,l,s,1,l),h}}}}),ut=t.extend({_class:"CurveLocation",initialize:function ut(n,t,i,r,u,f,e){this._id=ut._id=(ut._id||0)+1;this._curve=n;this._segment1=n._segment1;this._segment2=n._segment2;this._parameter=t;this._point=i;this._curve2=r;this._parameter2=u;this._point2=f;this._distance=e},getSegment:function(){if(!this._segment){var n=this.getCurve(),t=this.getParameter();if(t===1)this._segment=n._segment2;else if(t===0||arguments[0])this._segment=n._segment1;else{if(t==null)return null;this._segment=n.getLength(0,t)<n.getLength(t,1)?n._segment1:n._segment2}}return this._segment},getCurve:function(){return(!this._curve||arguments[0])&&(this._curve=this._segment1.getCurve(),this._curve.getParameterOf(this._point)==null&&(this._curve=this._segment2.getPrevious().getCurve())),this._curve},getIntersection:function(){var n=this._intersection,t;return!n&&this._curve2&&(t=this._parameter2,this._intersection=n=new ut(this._curve2,t,this._point2||this._point,this),n._intersection=this),n},getPath:function(){var n=this.getCurve();return n&&n._path},getIndex:function(){var n=this.getCurve();return n&&n.getIndex()},getOffset:function(){var n=this.getPath();return n&&n._getOffset(this)},getCurveOffset:function(){var n=this.getCurve(),t=this.getParameter();return t!=null&&n&&n.getLength(0,t)},getParameter:function(){if((this._parameter==null||arguments[0])&&this._point){var n=this.getCurve(arguments[0]&&this._point);this._parameter=n&&n.getParameterOf(this._point)}return this._parameter},getPoint:function(){if((!this._point||arguments[0])&&this._parameter!=null){var n=this.getCurve();this._point=n&&n.getPointAt(this._parameter,!0)}return this._point},getTangent:function(){var n=this.getParameter(),t=this.getCurve();return n!=null&&t&&t.getTangentAt(n,!0)},getNormal:function(){var n=this.getParameter(),t=this.getCurve();return n!=null&&t&&t.getNormalAt(n,!0)},getDistance:function(){return this._distance},divide:function(){var n=this.getCurve(!0);return n&&n.divide(this.getParameter(!0),!0)},split:function(){var n=this.getCurve(!0);return n&&n.split(this.getParameter(!0),!0)},toString:function(){var n=[],r=this.getPoint(),u=g.instance,t,i;return r&&n.push("point: "+r),t=this.getIndex(),t!=null&&n.push("index: "+t),i=this.getParameter(),i!=null&&n.push("parameter: "+u.number(i)),this._distance!=null&&n.push("distance: "+u.number(this._distance)),"{ "+n.join(", ")+" }"}}),vt=d.extend({_class:"PathItem",initialize:function(){},getIntersections:function(n){var t,c,f,l,i;if(!this.getBounds().touches(n.getBounds()))return[];var e=[],o=this.getCurves(),r=n.getCurves(),s=r.length,h=[];for(t=0;t<s;t++)h[t]=r[t].getValues();for(t=0,c=o.length;t<c;t++)for(f=o[t],l=f.getValues(),i=0;i<s;i++)u.getIntersections(l,h[i],f,r[i],e);return e},setPathData:function(n){function c(n,t,i){var r=parseFloat(o[n]);return a&&(r+=f[t]),i&&(f[t]=r),r}function i(n,t){return new r(c(n,"x",t),c(n+1,"y",t))}var l=n.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),o,a=!1,u,f=new r,s,v,e,w,t;for(this.clear(),s=0,v=l.length;s<v;s++){var y=l[s],p=y[0],h=p.toLowerCase();o=y.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);e=o&&o.length;a=p===h;switch(h){case"m":case"l":for(t=0;t<e;t+=2)this[t===0&&h==="m"?"moveTo":"lineTo"](i(t,!0));u=f;break;case"h":case"v":for(w=h=="h"?"x":"y",t=0;t<e;t++)c(t,w,!0),this.lineTo(f);u=f;break;case"c":for(t=0;t<e;t+=6)this.cubicCurveTo(i(t),u=i(t+2),i(t+4,!0));break;case"s":for(t=0;t<e;t+=4)this.cubicCurveTo(f.multiply(2).subtract(u),u=i(t),i(t+2,!0));break;case"q":for(t=0;t<e;t+=4)this.quadraticCurveTo(u=i(t),i(t+2,!0));break;case"t":for(t=0;t<e;t+=2)this.quadraticCurveTo(u=f.multiply(2).subtract(u),i(t,!0));break;case"z":this.closePath()}}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(n){var t=this._getWinding(n);return!!(this.getWindingRule()==="evenodd"?t&1:t)}}),a=vt.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1;this._segments=[];var i=Array.isArray(t)?typeof t[0]=="object"?t:arguments:t&&(t.point!==n&&t.size===n||t.x!==n)?arguments:null;this.setSegments(i||[]);this._initialize(!i&&t)},_equals:function(n){return t.equals(this._segments,n._segments)},clone:function(t){var i=this._clone(new a({segments:this._segments,insert:!1}),t);return i._closed=this._closed,this._clockwise!==n&&(i._clockwise=this._clockwise),i},_changed:function ii(n){if(ii.base.call(this,n),n&4){if(delete this._length,delete this._clockwise,this._curves)for(var t=0,i=this._curves.length;t<i;t++)this._curves[t]._changed(5)}else n&8&&delete this._bounds},getSegments:function(){return this._segments},setSegments:function(n){var t=this.isFullySelected();this._segments.length=0;this._selectedSegmentState=0;delete this._curves;this._add(e.readAll(n));t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,i=this._segments,r,n;if(!t)for(r=this._countCurves(),t=this._curves=new Array(r),n=0;n<r;n++)t[n]=new u(this,i[n],i[n+1]||i[0]);return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var n=this.getCurves();return n[n.length-1]},getPathData:function(){function f(n,r,f){var c=n._point,o=r._point,s=n._handleOut,h=r._handleIn,e;s.isZero()&&h.isZero()?f||i.push("L"+t.point(o,u)):(e=o.subtract(c),i.push("c"+t.point(s,u)+" "+t.point(e.add(h),u)+" "+t.point(e,u)))}var n=this._segments,u=arguments[0],t=g.instance,i=[],r,e;if(n.length===0)return"";for(i.push("M"+t.point(n[0]._point)),r=0,e=n.length-1;r<e;r++)f(n[r],n[r+1],!1);return this._closed&&(f(n[n.length-1],n[0],!0),i.push("z")),i.join("")},isClosed:function(){return this._closed},setClosed:function(n){if(this._closed!=(n=!!n)){if(this._closed=n,this._curves){var t=this._curves.length=this._countCurves();n&&(this._curves[t-1]=new u(this,this._segments[t-1],this._segments[0]))}this._changed(5)}},isEmpty:function(){return this._segments.length===0},isPolygon:function(){for(var n=0,t=this._segments.length;n<t;n++)if(!this._segments[n].isLinear())return!1;return!0},_applyMatrix:function(n){for(var i=new Array(6),t=0,r=this._segments.length;t<r;t++)this._segments[t]._transformCoordinates(n,i,!0);return!0},_add:function(n,t){for(var r,c,f=this._segments,e=this._curves,s=n.length,h=t==null,t=h?f.length:t,i=0;i<s;i++)r=n[i],r._path&&(r=n[i]=r.clone()),r._path=this,r._index=t+i,r._selectionState&&this._updateSelection(r,0,r._selectionState);if(h)f.push.apply(f,n);else for(f.splice.apply(f,[t,0].concat(n)),i=t+s,c=f.length;i<c;i++)f[i]._index=i;if(e||n._curves){e||(e=this._curves=[]);var o=t>0?t-1:t,l=o,a=Math.min(o+s,this._countCurves());for(n._curves&&(e.splice.apply(e,[o,0].concat(n._curves)),l+=n._curves.length),i=l;i<a;i++)e.splice(i,0,new u(this,null,null));this._adjustCurves(o,a)}return this._changed(5),n},_adjustCurves:function(n,t){for(var r=this._segments,f=this._curves,i,u=n;u<t;u++)i=f[u],i._path=this,i._segment1=r[u],i._segment2=r[u+1]||r[0];(i=f[this._closed&&n===0?r.length-1:n-1])&&(i._segment2=r[n]||r[0]);(i=f[t])&&(i._segment1=r[t])},_countCurves:function(){var n=this._segments.length;return!this._closed&&n>0?n-1:n},add:function(n){return arguments.length>1&&typeof n!="number"?this._add(e.readAll(arguments)):this._add([e.read(arguments)])[0]},insert:function(n,t){return arguments.length>2&&typeof t!="number"?this._add(e.readAll(arguments,1),n):this._add([e.read(arguments,1)],n)[0]},addSegment:function(){return this._add([e.read(arguments)])[0]},insertSegment:function(n){return this._add([e.read(arguments,1)],n)[0]},addSegments:function(n){return this._add(e.readAll(n))},insertSegments:function(n,t){return this._add(e.readAll(t),n)},removeSegment:function(n){return this.removeSegments(n,n+1)[0]||null},removeSegments:function(n,i){var u,r,c,s,o;n=n||0;i=t.pick(i,this._segments.length);var e=this._segments,o=this._curves,l=e.length,f=e.splice(n,i-n),h=f.length;if(!h)return f;for(r=0;r<h;r++)u=f[r],u._selectionState&&this._updateSelection(u,u._selectionState,0),delete u._index,delete u._path;for(r=n,c=e.length;r<c;r++)e[r]._index=r;return o&&(s=n>0&&i===l+(this._closed?1:0)?n-1:n,o=o.splice(s,h),arguments[2]&&(f._curves=o.slice(1)),this._adjustCurves(s,s)),this._changed(5),f},clear:"#removeSegments",isFullySelected:function(){var n=this._segments.length;return this._selected&&n>0&&this._selectedSegmentState===n*4},setFullySelected:function(n){n&&this._selectSegments(!0);this.setSelected(n)},setSelected:function ki(n){n||this._selectSegments(!1);ki.base.call(this,n)},_selectSegments:function(n){var i=this._segments.length,t;for(this._selectedSegmentState=n?i*4:0,t=0;t<i;t++)this._segments[t]._selectionState=n?4:0},_updateSelection:function(n,t,i){n._selectionState=i;var r=this._selectedSegmentState+=i-t;r>0&&this.setSelected(!0)},flatten:function(n){for(var t=new ui(this),i=0,r=t.length/Math.ceil(t.length/n),f=t.length+(this._closed?-r:r)/2,u=[];i<=f;)u.push(new e(t.evaluate(i,0))),i+=r;this.setSegments(u)},simplify:function(n){if(this._segments.length>2){var t=new nr(this,n||2.5);this.setSegments(t.fit())}},split:function(n,t){var i,u,f,r;if(t!==null)return(arguments.length===1&&(i=n,typeof i=="number"&&(i=this.getLocationAt(i)),n=i.index,t=i.parameter),t>=1&&(n++,t--),u=this.getCurves(),n>=0&&n<u.length)?(t>0&&u[n++].divide(t,!0),f=this.removeSegments(n,this._segments.length,!0),this._closed?(this.setClosed(!1),r=this):n>0&&(r=this._clone((new a).insertAbove(this,!0))),r._add(f,0),this.addSegment(f[0]),r):null},isClockwise:function(){return this._clockwise!==n?this._clockwise:a.isClockwise(this._segments)},setClockwise:function(n){this.isClockwise()!=(n=!!n)&&this.reverse();this._clockwise=n},reverse:function(){var i,r,t,u;for(this._segments.reverse(),i=0,r=this._segments.length;i<r;i++)t=this._segments[i],u=t._handleIn,t._handleIn=t._handleOut,t._handleOut=u,t._index=i;delete this._curves;this._clockwise!==n&&(this._clockwise=!this._clockwise)},join:function(n){var i,f;if(n){var r=n._segments,t=this.getLastSegment(),u=n.getLastSegment();return t._point.equals(u._point)&&n.reverse(),f=n.getFirstSegment(),t._point.equals(f._point)?(t.setHandleOut(f._handleOut),this._add(r.slice(1))):(i=this.getFirstSegment(),i._point.equals(f._point)&&n.reverse(),u=n.getLastSegment(),i._point.equals(u._point)?(i.setHandleIn(u._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())),n.closed&&this._add([r[0]]),n.remove(),i=this.getFirstSegment(),t=this.getLastSegment(),t._point.equals(i._point)&&(i.setHandleIn(t._handleIn),t.remove(),this.setClosed(!0)),this._changed(5),!0}return!1},getLength:function(){var t,n,i;if(this._length==null)for(t=this.getCurves(),this._length=0,n=0,i=t.length;n<i;n++)this._length+=t[n].getLength();return this._length},getArea:function(){for(var t=this.getCurves(),i=0,n=0,r=t.length;n<r;n++)i+=t[n].getArea();return i},_getOffset:function(n){var i=n&&n.getIndex(),r,u,t,f;if(i!=null){for(r=this.getCurves(),u=0,t=0;t<i;t++)u+=r[t].getLength();return f=r[i],u+f.getLength(0,n.getParameter())}return null},getLocationOf:function(n){var i,t,f,u;for(n=r.read(arguments),i=this.getCurves(),t=0,f=i.length;t<f;t++)if(u=i[t].getLocationOf(n),u)return u;return null},getLocationAt:function(n,t){var i=this.getCurves(),u=0,f,r,o,s,e;if(t)return f=~~n,i[f].getLocationAt(n-f,!0);for(r=0,o=i.length;r<o;r++)if(s=u,e=i[r],u+=e.getLength(),u>=n)return e.getLocationAt(n-s);return n<=this.getLength()?new ut(i[i.length-1],1):null},getPointAt:function(n,t){var i=this.getLocationAt(n,t);return i&&i.getPoint()},getTangentAt:function(n,t){var i=this.getLocationAt(n,t);return i&&i.getTangent()},getNormalAt:function(n,t){var i=this.getLocationAt(n,t);return i&&i.getNormal()},getNearestLocation:function(n){var t,o,i;n=r.read(arguments);var u=this.getCurves(),f=Infinity,e=null;for(t=0,o=u.length;t<o;t++)i=u[t].getNearestLocation(n),i._distance<f&&(f=i._distance,e=i);return e},getNearestPoint:function(n){return n=r.read(arguments),this.getNearestLocation(n).getPoint()},getStyle:function(){var n=this._parent;return(n&&n._type==="compound-path"?n:this)._style},toShape:function(t){function a(n,t){return i[n].isColinear(i[t])}function y(n){return i[n].isOrthogonal()}function u(n){return i[n].isArc()}function r(n,t){return i[n]._point.getDistance(i[t]._point)}var i,e,h,c,l,v,o;return this._closed?(i=this._segments,this.isPolygon()&&i.length===4&&a(0,2)&&a(1,3)&&y(1)?(e=b.Rectangle,h=new f(r(0,3),r(0,1)),l=i[1]._point.add(i[2]._point).divide(2)):i.length===8&&u(0)&&u(2)&&u(4)&&u(6)&&a(1,5)&&a(3,7)?(e=b.Rectangle,h=new f(r(1,6),r(0,3)),c=h.subtract(new f(r(0,7),r(1,2))).divide(2),l=i[3]._point.add(i[4]._point).divide(2)):i.length===4&&u(0)&&u(1)&&u(2)&&u(3)&&(s.isZero(r(0,2)-r(1,3))?(e=b.Circle,c=r(0,2)/2):(e=b.Ellipse,c=new f(r(2,0)/2,r(3,1)/2)),l=i[1]._point),e)?(v=this.getPosition(!0),o=new e({center:v,size:h,radius:c,insert:!1}),o.rotate(l.subtract(v).getAngle()+90),o.setStyle(this._style),(t||t===n)&&o.insertAbove(this),o):null:null},_getWinding:function(n){var f=this._closed,r,y;if(!f&&!this.hasFill()||!this._getBounds("getRoughBounds")._containsPoint(n))return 0;var i=this.getCurves(),e=this._segments,o=0,l=[],a=[],v=(f?i[i.length-1]:new u(e[e.length-1]._point,e[0]._point)).getValues(),s=v;for(r=0,y=i.length;r<y;r++){var t=i[r].getValues(),h=t[0],c=t[1];h===t[2]&&c===t[3]&&h===t[4]&&c===t[5]&&h===t[6]&&c===t[7]||(o+=u._getWinding(t,s,n.x,n.y,l,a),s=t)}return f||(o+=u._getWinding(v,s,n.x,n.y,l,a)),o},_hitTest:function(n,t){function w(t,i,r){if(n.getDistance(i)<g)return new tt(r,ut,{segment:t,point:i})}function b(n,i){var r=n._point;return(i||t.segments)&&w(n,r,"segment")||!i&&t.handles&&(w(n,r.add(n._handleIn),"handle-in")||w(n,r.add(n._handleOut),"handle-out"))}function nt(n){o.push(n)}function it(n){var t=o[n],i=o[(n+1)%o.length];return[t.x,t.y,t.x,t.y,i.x,i.y,i.x,i.y]}function ft(n){for(var i,r=o.length,f=it(r-1),s=[],h=[],e=0,t=0;t<r;t++)i=it(t),e+=u._getWinding(i,f,n.x,n.y,s,h),f=i;return!!e}function rt(t){return(s!=="round"||h!=="round")&&(o=[],d||t._index>0&&t._index<f.length-1?s!=="round"&&(t._handleIn.isZero()||t._handleOut.isZero())&&a._addSquareJoin(t,s,r,p,nt,!0):h!=="round"&&a._addSquareCap(t,h,r,nt,!0),o.length>0)?ft(n):n.getDistance(t._point)<=r}var c=this.getStyle(),f=this._segments,d=this._closed,g=t.tolerance,r=0,s,h,p,ut=this,o,i,l,k,e,v,y;if(t.stroke&&(r=c.getStrokeWidth()/2,r>0?(s=c.getStrokeJoin(),h=c.getStrokeCap(),p=r*c.getMiterLimit()):s=h="round",r+=g),!t.ends||t.segments||d){if(t.segments||t.handles)for(e=0,v=f.length;e<v;e++)if(l=b(f[e]))return l}else if(l=b(f[0],!0)||b(f[f.length-1],!0))return l;if(r>0&&(i=this.getNearestLocation(n),i&&(k=i.getParameter(),k===0||k===1?rt(i.getSegment())||(i=null):i._distance>r&&(i=null)),!i&&s==="miter"))for(e=0,v=f.length;e<v;e++)if(y=f[e],n.getDistance(y._point)<=p&&rt(y)){i=y.getLocation();break}return!i&&t.fill&&this.hasFill()&&this._contains(n)?new tt("fill",this):i?new tt("stroke",this,{location:i}):null}},new function(){function t(n,t,i,r){function a(t){var i=f[t],r=f[t+1];(e!=i||o!=r)&&(n.beginPath(),n.moveTo(e,o),n.lineTo(i,r),n.stroke(),n.beginPath(),n.arc(i,r,u,0,Math.PI*2,!0),n.fill())}for(var h,u=r/2,f=new Array(6),s=0,v=t.length;s<v;s++){h=t[s];h._transformCoordinates(i,f,!1);var c=h._selectionState,l=c&4,e=f[0],o=f[1];(l||c&1)&&a(2);(l||c&2)&&a(4);n.save();n.beginPath();n.rect(e-u,o-u,r,r);n.fill();l||(n.beginPath(),n.rect(e-u+1,o-u+1,r-2,r-2),n.fillStyle="#ffffff",n.fill());n.restore()}}function n(n,t,i){function w(t){var y=v[t],w,a;i?(y._transformCoordinates(i,f,!1),r=f[0],u=f[1]):(w=y._point,r=w._x,u=w._y);p?(n.moveTo(r,u),p=!1):(i?(e=f[2],o=f[3]):(a=y._handleIn,e=r+a._x,o=u+a._y),e==r&&o==u&&s==c&&h==l?n.lineTo(r,u):n.bezierCurveTo(s,h,e,o,r,u));c=r;l=u;i?(s=f[4],h=f[5]):(a=y._handleOut,s=c+a._x,h=l+a._y)}for(var v=t._segments,y=v.length,f=new Array(6),p=!0,r,u,c,l,e,o,s,h,a=0;a<y;a++)w(a);t._closed&&y>1&&w(0)}return{_draw:function(t,i){function o(n){return a[(n%f+f)%f]}var v=i.clip,c=i.compound;c||t.beginPath();var u=this.getStyle(),l=u.hasFill(),e=u.hasStroke(),a=u.getDashArray(),f=!paper.support.nativeDash&&e&&a&&a.length;if((l||e&&!f||c||v)&&n(t,this),this._closed&&t.closePath(),!v&&!c&&(l||e)&&(this._setStyles(t),l&&(t.fill(u.getWindingRule()),t.shadowColor="rgba(0,0,0,0)"),e)){if(f){t.beginPath();for(var y=new ui(this),p=y.length,r=-u.getDashOffset(),s,h=0,r=r%p;r>0;)r-=o(h--)+o(h--);while(r<p)s=r+o(h++),(r>0||s>0)&&y.drawPart(t,Math.max(r,0),Math.max(s,0)),r=s+o(h++)}t.stroke()}},_drawSelected:function(i,r){i.beginPath();n(i,this,r);i.stroke();t(i,this._segments,r,this._project.options.handleSize||4)}}},new function(){function n(n){var i=n.length,r=[],f=[],u=2,t;for(r[0]=n[0]/u,t=1;t<i;t++)f[t]=1/u,u=(t<i-1?4:2)-f[t],r[t]=(n[t]-r[t-1])/u;for(t=1;t<i;t++)r[i-t-1]-=f[i-t]*r[i-t];return r}return{smooth:function(){var v=this._segments,h=v.length,p=this._closed,u=h,f=0,i,s,e,o,l,a,t,c;if(!(h<=2)){for(p&&(f=Math.min(h,4),u+=Math.min(h,f)*2),i=[],t=0;t<h;t++)i[t+f]=v[t]._point;if(p)for(t=0;t<f;t++)i[t]=v[t+h-f]._point,i[t+h+f]=v[t]._point;else u--;for(s=[],t=1;t<u-1;t++)s[t]=4*i[t]._x+2*i[t+1]._x;for(s[0]=i[0]._x+2*i[1]._x,s[u-1]=3*i[u-1]._x,e=n(s),t=1;t<u-1;t++)s[t]=4*i[t]._y+2*i[t+1]._y;if(s[0]=i[0]._y+2*i[1]._y,s[u-1]=3*i[u-1]._y,o=n(s),p){for(t=0,l=h;t<f;t++,l++){var y=t/f,w=1-y,k=t+f,b=l+f;e[l]=e[t]*y+e[l]*w;o[l]=o[t]*y+o[l]*w;e[b]=e[k]*w+e[b]*y;o[b]=o[k]*w+o[b]*y}u--}for(a=null,t=f;t<=u-f;t++)c=v[t-f],a&&c.setHandleIn(a.subtract(c._point)),t<u&&(c.setHandleOut(new r(e[t],o[t]).subtract(c._point)),a=t<u-1?new r(2*i[t+1]._x-e[t+1],2*i[t+1]._y-o[t+1]):new r((i[u]._x+e[u-1])/2,(i[u]._y+o[u-1])/2));p&&a&&(c=this._segments[0],c.setHandleIn(a.subtract(c._point)))}}}},new function(){function n(n){var t=n._segments;if(t.length==0)throw new Error("Use a moveTo() command first");return t[t.length-1]}return{moveTo:function(){this._segments.length===1&&this.removeSegment(0);this._segments.length||this._add([new e(r.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.");},lineTo:function(){this._add([new e(r.read(arguments))])},cubicCurveTo:function(){var u=r.read(arguments),f=r.read(arguments),t=r.read(arguments),i=n(this);i.setHandleOut(u.subtract(i._point));this._add([new e(t,f.subtract(t))])},quadraticCurveTo:function(){var t=r.read(arguments),i=r.read(arguments),u=n(this)._point;this.cubicCurveTo(t.add(u.subtract(t).multiply(1/3)),t.add(i.subtract(t).multiply(1/3)),i)},curveTo:function(){var o=r.read(arguments),f=r.read(arguments),i=t.pick(t.read(arguments),.5),u=1-i,s=n(this)._point,e=o.subtract(s.multiply(u*u)).subtract(f.multiply(i*i)).divide(2*i*u);if(e.isNaN())throw new Error("Cannot put a curve through points with parameter = "+i);this.quadraticCurveTo(e,f)},arcTo:function(){var p=n(this),f=p._point,i=r.read(arguments),w=t.pick(t.peek(arguments),!0),a,u,h,ut,y;typeof w=="boolean"?(a=f.add(i).divide(2),u=a.add(a.subtract(f).rotate(w?-90:90))):(u=i,i=r.read(arguments));var ft=new k(f.add(u).divide(2),u.subtract(f).rotate(90),!0),et=new k(u.add(i).divide(2),i.subtract(u).rotate(90),!0),c=ft.intersect(et,!0),b=new k(f,i),v=b.getSide(u);if(!c){if(!v)return this.lineTo(i);throw new Error("Cannot put an arc through the given points: "+[f,u,i]);}var o=f.subtract(c),s=o.getDirectedAngle(i.subtract(c)),d=b.getSide(c);d==0?s=v*Math.abs(s):v==d&&(s-=360*(s<0?-1:1));var g=Math.abs(s),l=g>=360?4:Math.ceil(g/90),nt=s/l,tt=nt*Math.PI/360,it=4/3*Math.sin(tt)/(1+Math.cos(tt)),rt=[];for(h=0;h<=l;h++)ut=h<l?c.add(o):i,y=h<l?o.rotate(90).multiply(it):null,h==0?p.setHandleOut(y):rt.push(new e(ut,o.rotate(-90).multiply(it),y)),o=o.rotate(nt);this._add(rt)},lineBy:function(){var t=r.read(arguments),i=n(this)._point;this.lineTo(i.add(t))},curveBy:function(){var u=r.read(arguments),f=r.read(arguments),e=t.read(arguments),i=n(this)._point;this.curveTo(i.add(u),i.add(f),e)},cubicCurveBy:function(){var i=r.read(arguments),u=r.read(arguments),f=r.read(arguments),t=n(this)._point;this.cubicCurveTo(t.add(i),t.add(u),t.add(f))},quadraticCurveBy:function(){var i=r.read(arguments),u=r.read(arguments),t=n(this)._point;this.quadraticCurveTo(t.add(i),t.add(u))},arcBy:function(){var i=n(this)._point,u=i.add(r.read(arguments)),f=t.pick(t.peek(arguments),!0);typeof f=="boolean"?this.arcTo(u,f):this.arcTo(u,i.add(r.read(arguments)))},closePath:function(){var t=this.getFirstSegment(),n=this.getLastSegment();t._point.equals(n._point)&&(t.setHandleIn(n._handleIn),n.remove());this.setClosed(!0)}}},{_getBounds:function(n,t){return a[n](this._segments,this._closed,this.getStyle(),t)},statics:{isClockwise:function(n){for(var r,t,f=0,i=0,e=n.length;i<e;i++)for(r=u.getValues(n[i],n[i+1<e?i+1:0]),t=2;t<8;t+=2)f+=(r[t-2]-r[t])*(r[t+1]+r[t-1]);return f>0},getBounds:function(n,t,i,r,f){function v(n){var t,i;for(n._transformCoordinates(r,s,!1),t=0;t<2;t++)u._addBounds(h[t],h[t+4],s[t+2],s[t],t,f?f[t]:0,e,a,p);i=h;h=s;s=i}var l=n[0],c,y;if(!l)return new o;var s=new Array(6),h=l._transformCoordinates(r,new Array(6),!1),e=h.slice(0,2),a=e.slice(),p=new Array(2);for(c=1,y=n.length;c<y;c++)v(n[c]);return t&&v(l),new o(e[0],e[1],a[0]-e[0],a[1]-e[1])},getStrokeBounds:function(n,t,i,u){function b(n,t){if(!t)return[n,n];var e=t.shiftless(),o=e.transform(new r(n,0)),v=e.transform(new r(0,n)),f=o.getAngleInRadians(),i=o.getLength(),u=v.getLength(),s=Math.sin(f),h=Math.cos(f),c=Math.tan(f),l=-Math.atan(u*c/i),a=Math.atan(u/(c*i));return[Math.abs(i*Math.cos(l)*h-u*Math.sin(l)*s),Math.abs(u*Math.sin(a)*h+i*Math.cos(a)*s)]}function p(n){e=e.include(u?u._transformPoint(n,n):n)}function c(n,t){t!=="round"&&(n._handleIn.isZero()||n._handleOut.isZero())?a._addSquareJoin(n,t,s,d,p):e=e.unite(g.setCenter(u?u._transformPoint(n._point):n._point))}function w(n,t){switch(t){case"round":c(n,t);break;case"butt":case"square":a._addSquareCap(n,t,s,p)}}var h;if(!i.hasStroke())return a.getBounds(n,t,i,u);var k=n.length-(t?0:1),s=i.getStrokeWidth()/2,l=b(s,u),e=a.getBounds(n,t,i,u,l),v=i.getStrokeJoin(),y=i.getStrokeCap(),d=s*i.getMiterLimit(),g=new o(new f(l).multiply(2));for(h=1;h<k;h++)c(n[h],v);return t?c(n[0],v):(w(n[0],y),w(n[n.length-1],y)),e},_addSquareJoin:function(n,t,i,u,f,e){var l=n.getCurve(),v=l.getPrevious(),o=l.getPointAt(0,!0),s=v.getNormalAt(1,!0),h=l.getNormalAt(0,!0),a=s.getDirectedAngle(h)<0?-i:i,c;(s.setLength(a),h.setLength(a),e&&(f(o),f(o.add(s))),t==="miter"&&(c=new k(o.add(s),new r(-s.y,s.x),!0).intersect(new k(o.add(h),new r(-h.y,h.x),!0),!0),c&&o.getDistance(c)<=u&&(f(c),!e)))||(e||f(o.add(s)),f(o.add(h)))},_addSquareCap:function(n,t,i,r,u){var f=n._point,o=n.getLocation(),e=o.getNormal().normalize(i);u&&(r(f.subtract(e)),r(f.add(e)));t==="square"&&(f=f.add(e.rotate(o.getParameter()==0?-90:90)));r(f.add(e));r(f.subtract(e))},getHandleBounds:function(n,t,i,r,u,f){var v=new Array(6),e=Infinity,h=-e,c=e,y=h,l,p,w,s;for(u=u/2||0,f=f/2||0,l=0,p=n.length;l<p;l++)for(w=n[l],w._transformCoordinates(r,v,!1),s=0;s<6;s+=2){var a=s==0?f:u,b=v[s],k=v[s+1],d=b-a,g=b+a,nt=k-a,tt=k+a;d<e&&(e=d);g>h&&(h=g);nt<c&&(c=nt);tt>y&&(y=tt)}return new o(e,c,h-e,y-c)},getRoughBounds:function(n,t,i,r){var u=i.getStrokeColor()?i.getStrokeWidth():0,f=u;return u===0?u=1e-5:(i.getStrokeJoin()==="miter"&&(f=u*i.getMiterLimit()),i.getStrokeCap()==="square"&&(f=Math.max(f,u*Math.sqrt(2)))),a.getHandleBounds(n,t,i,r,u,f)}}});a.inject({statics:new function(){function i(n,i,r){for(var o,s=new a,h=new Array(4),f=0;f<4;f++)o=u[f],h[f]=new e(o._point.multiply(i).add(n),o._handleIn.multiply(i),o._handleOut.multiply(i));return s._add(h),s._closed=!0,s.set(t.getNamed(r))}var n=s.KAPPA,u=[new e([-1,0],[0,n],[0,-n]),new e([0,-1],[-n,0],[n,0]),new e([1,0],[0,-n],[0,n]),new e([0,1],[n,0],[-n,0])];return{Line:function(){return new a(r.readNamed(arguments,"from"),r.readNamed(arguments,"to")).set(t.getNamed(arguments))},Circle:function(){var n=r.readNamed(arguments,"center"),u=t.readNamed(arguments,"radius");return i(n,new f(u),arguments)},Rectangle:function(){var r=o.readNamed(arguments,"rectangle"),i=f.readNamed(arguments,"radius",0,0,{readNull:!0}),l=r.getBottomLeft(!0),v=r.getTopLeft(!0),y=r.getTopRight(!0),p=r.getBottomRight(!0);if(path=new a,!i||i.isZero())path._add([new e(l),new e(v),new e(y),new e(p)]);else{i=f.min(i,r.getSize(!0).divide(2));var u=i.width,s=i.height,h=u*n,c=s*n;path._add([new e(l.add(u,0),null,[-h,0]),new e(l.subtract(0,s),[0,c]),new e(v.add(0,s),null,[0,-c]),new e(v.add(u,0),[-h,0],null),new e(y.subtract(u,0),null,[h,0]),new e(y.add(0,s),[0,-c],null),new e(p.subtract(0,s),null,[0,c]),new e(p.subtract(u,0),[h,0])])}return path._closed=!0,path.set(t.getNamed(arguments))},RoundRectangle:"#Rectangle",Ellipse:function(){var n=b._readEllipse(arguments);return i(n.center,n.radius,arguments)},Oval:"#Ellipse",Arc:function(){var i=r.readNamed(arguments,"from"),u=r.readNamed(arguments,"through"),f=r.readNamed(arguments,"to"),n=new a;return n.moveTo(i),n.arcTo(u,f),n.set(t.getNamed(arguments))},RegularPolygon:function(){for(var h=r.readNamed(arguments,"center"),n=t.readNamed(arguments,"sides"),f=t.readNamed(arguments,"radius"),u=new a,c=360/n,o=!(n%3),l=new r(0,o?-f:f),v=o?-1:.5,s=new Array(n),i=0;i<n;i++)s[i]=new e(h.add(l.rotate((i+v)*c)));return u._add(s),u._closed=!0,u.set(t.getNamed(arguments))},Star:function(){for(var o=r.readNamed(arguments,"center"),i=t.readNamed(arguments,"points")*2,s=t.readNamed(arguments,"radius1"),h=t.readNamed(arguments,"radius2"),u=new a,c=360/i,l=new r(0,-1),f=new Array(i),n=0;n<i;n++)f[n]=new e(o.add(l.rotate(c*n).multiply(n%2?h:s)));return u._add(f),u._closed=!0,u.set(t.getNamed(arguments))}}}});var yt=vt.extend({_class:"CompoundPath",_serializeFields:{children:[]},initialize:function(n){this._children=[];this._namedChildren={};this._initialize(n)||this.addChildren(Array.isArray(n)?n:arguments)},insertChildren:function di(t,i,r){var u,e,f;for(i=di.base.call(this,t,i,r,"path"),u=0,e=!r&&i&&i.length;u<e;u++)f=i[u],f._clockwise===n&&f.setClockwise(f._index===0);return i},reverse:function(){for(var t=this._children,n=0,i=t.length;n<i;n++)t[n].reverse()},smooth:function(){for(var n=0,t=this._children.length;n<t;n++)this._children[n].smooth()},isClockwise:function(){var n=this.getFirstChild();return n&&n.isClockwise()},setClockwise:function(n){this.isClockwise()!=!!n&&this.reverse()},getFirstSegment:function(){var n=this.getFirstChild();return n&&n.getFirstSegment()},getLastSegment:function(){var n=this.getLastChild();return n&&n.getLastSegment()},getCurves:function(){for(var i=this._children,n=[],t=0,r=i.length;t<r;t++)n=n.concat(i[t].getCurves());return n},getFirstCurve:function(){var n=this.getFirstChild();return n&&n.getFirstCurve()},getLastCurve:function(){var n=this.getLastChild();return n&&n.getFirstCurve()},getArea:function(){for(var t=this._children,i=0,n=0,r=t.length;n<r;n++)i+=t[n].getArea();return i},getPathData:function(){for(var t=this._children,i=[],n=0,r=t.length;n<r;n++)i.push(t[n].getPathData(arguments[0]));return i.join(" ")},_getWinding:function(n){for(var i=this._children,r=0,t=0,u=i.length;t<u;t++)r+=i[t]._getWinding(n);return r},_hitTest:function gi(n,i){var r=gi.base.call(this,n,new t(i,{fill:!1})),f,u;if(!r)if(i.compoundChildren)for(f=this._children,u=f.length-1;u>=0&&!r;u--)r=f[u]._hitTest(n,i);else i.fill&&this.hasFill()&&this._contains(n)&&(r=new tt("fill",this));return r},_draw:function(n,t){var u=this._children,i,f,r;if(u.length!==0){for(n.beginPath(),t=t.extend({compound:!0}),i=0,f=u.length;i<f;i++)u[i].draw(n,t);t.clip||(this._setStyles(n),r=this._style,r.hasFill()&&(n.fill(r.getWindingRule()),n.shadowColor="rgba(0,0,0,0)"),r.hasStroke()&&n.stroke())}}},new function(){function n(n){if(!n._children.length)throw new Error("Use a moveTo() command first");return n._children[n._children.length-1]}var i={moveTo:function(){var n=new a;this.addChild(n);n.moveTo.apply(n,arguments)},moveBy:function(){this.moveTo(n(this).getLastSegment()._point.add(r.read(arguments)))},closePath:function(){n(this).closePath()}};return t.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){i[t]=function(){var i=n(this);i[t].apply(i,arguments)}}),i}),ui=t.extend({initialize:function(n){function o(n,t){var i=u.getValues(n,t);e.curves.push(i);e._computeParts(i,n._index,0,1)}var r,s;this.curves=[];this.parts=[];this.length=0;this.index=0;var t=n._segments,f=t[0],i,e=this;for(r=1,s=t.length;r<s;r++)i=t[r],o(f,i),f=i;n._closed&&o(i,t[0])},_computeParts:function(n,t,i,r){var f,e;if(r-i>1/32&&!u.isFlatEnough(n,.25))f=u.subdivide(n),e=(i+r)/2,this._computeParts(f[0],t,i,e),this._computeParts(f[1],t,e,r);else{var o=n[6]-n[0],s=n[7]-n[1],h=Math.sqrt(o*o+s*s);h>1e-5&&(this.length+=h,this.parts.push({offset:this.length,value:r,index:t}))}},getParameterAt:function(n){for(var i,u=this.index,f,t;;)if(i=u,u==0||this.parts[--u].offset<n)break;for(f=this.parts.length;i<f;i++)if(t=this.parts[i],t.offset>=n){this.index=i;var r=this.parts[i-1],e=r&&r.index==t.index?r.value:0,o=r?r.offset:0;return{value:e+(t.value-e)*(n-o)/(t.offset-o),index:t.index}}return t=this.parts[this.parts.length-1],{value:1,index:t.index}},evaluate:function(n,t){var i=this.getParameterAt(n);return u.evaluate(this.curves[i.index],i.value,t)},drawPart:function(n,t,i){var r,f;for(t=this.getParameterAt(t),i=this.getParameterAt(i),r=t.index;r<=i.index;r++)f=u.getPart(this.curves[r],r==t.index?t.value:0,r==i.index?i.value:1),r==t.index&&n.moveTo(f[0],f[1]),n.bezierCurveTo.apply(n,f.slice(2))}}),nr=t.extend({initialize:function(n,t){var u,f,i,e,r;for(this.points=[],u=n._segments,i=0,e=u.length;i<e;i++)r=u[i].point.clone(),f&&f.equals(r)||(this.points.push(r),f=r);this.error=t},fit:function(){var n=this.points,t=n.length;return this.segments=t>0?[new e(n[0])]:[],t>1&&this.fitCubic(0,t-1,n[1].subtract(n[0]).normalize(),n[t-2].subtract(n[t-1]).normalize()),this.segments},fitCubic:function(n,t,i,r){var e,c,u,l,o,f;if(t-n==1){var s=this.points[n],h=this.points[t],a=s.getDistance(h)/3;this.addCurve([s,s.add(i.normalize(a)),h.add(r.normalize(a)),h]);return}for(e=this.chordLengthParameterize(n,t),c=Math.max(this.error,this.error*this.error),l=0;l<=4;l++){if(o=this.generateBezier(n,t,e,i,r),f=this.findMaxError(n,t,o,e),f.error<this.error){this.addCurve(o);return}if(u=f.index,f.error>=c)break;this.reparameterize(n,t,e,o);c=f.error}var y=this.points[u-1].subtract(this.points[u]),p=this.points[u].subtract(this.points[u+1]),v=y.add(p).divide(2).normalize();this.fitCubic(n,u,i,v);this.fitCubic(u,t,v.negate(),r)},addCurve:function(n){var t=this.segments[this.segments.length-1];t.setHandleOut(n[1].subtract(n[0]));this.segments.push(new e(n[3],n[2].subtract(n[3])))},generateBezier:function(n,t,i,r,u){for(var b,l,o,ut,ft,k,d,g,s=1e-11,a=this.points[n],v=this.points[t],f=[[0,0],[0,0]],e=[0,0],y=0,et=t-n+1;y<et;y++){var h=i[y],c=1-h,nt=3*h*c,ot=c*c*c,tt=nt*c,it=nt*h,st=h*h*h,p=r.normalize(tt),w=u.normalize(it),rt=this.points[n+y].subtract(a.multiply(ot+tt)).subtract(v.multiply(it+st));f[0][0]+=p.dot(p);f[0][1]+=p.dot(w);f[1][0]=f[0][1];f[1][1]+=w.dot(w);e[0]+=p.dot(rt);e[1]+=w.dot(rt)}return b=f[0][0]*f[1][1]-f[1][0]*f[0][1],Math.abs(b)>s?(ut=f[0][0]*e[1]-f[1][0]*e[0],ft=e[0]*f[1][1]-e[1]*f[0][1],l=ft/b,o=ut/b):(k=f[0][0]+f[0][1],d=f[1][0]+f[1][1],l=Math.abs(k)>s?o=e[0]/k:Math.abs(d)>s?o=e[1]/d:o=0),g=v.getDistance(a),s*=g,(l<s||o<s)&&(l=o=g/3),[a,a.add(r.normalize(l)),v.add(u.normalize(o)),v]},reparameterize:function(n,t,i,r){for(var u=n;u<=t;u++)i[u-n]=this.findRoot(r,this.points[u],i[u-n])},findRoot:function(n,t,i){for(var u=[],e=[],r=0;r<=2;r++)u[r]=n[r+1].subtract(n[r]).multiply(3);for(r=0;r<=1;r++)e[r]=u[r+1].subtract(u[r]).multiply(2);var h=this.evaluate(3,n,i),f=this.evaluate(2,u,i),c=this.evaluate(1,e,i),o=h.subtract(t),s=f.dot(f)+o.dot(c);return Math.abs(s)<1e-5?i:i-o.dot(f)/s},evaluate:function(n,t,i){for(var r,u=t.slice(),f=1;f<=n;f++)for(r=0;r<=n-f;r++)u[r]=u[r].multiply(1-i).add(u[r+1].multiply(i));return u[0]},chordLengthParameterize:function(n,t){for(var u,r=[0],i=n+1;i<=t;i++)r[i-n]=r[i-n-1]+this.points[i].getDistance(this.points[i-1]);for(i=1,u=t-n;i<=u;i++)r[i]/=r[u];return r},findMaxError:function(n,t,i,r){for(var o=Math.floor((t-n+1)/2),e=0,u=n+1;u<t;u++){var h=this.evaluate(3,i,r[u-n]),f=h.subtract(this.points[u]),s=f.x*f.x+f.y*f.y;s>=e&&(e=s,o=u)}return{error:e,index:o}}});vt.inject(new function(){function t(n,t){var i,r;for(n.sort(function(n,t){var i=n.getPath(),r=t.getPath();return i===r?n.getIndex()+n.getParameter()-(t.getIndex()+t.getParameter()):i._id-r._id}),i=t&&[],r=n.length-1;r>=0;r--){var u=n[r],f=u.getIntersection(),e=u.divide(),o=e&&e.getSegment1()||u.getSegment();i&&i.push(f);o._intersection=f;u._segment=o}return i}function i(n){var t,r;if(n instanceof yt){var i=n.removeChildren(),u=i.length,f=new Array(u),e=new Array(u),o;for(i.sort(function(n,t){var i=n.getBounds(),r=t.getBounds();return i._width*i._height<r._width*r._height}),n.addChildren(i),o=i[0].isClockwise(),t=0;t<u;t++)f[t]=i[t].getBounds(),e[t]=0;for(t=0;t<u;t++){for(r=1;r<u;r++)t!==r&&f[t].contains(f[r])&&e[r]++;t>0&&e[t]%2==0&&i[t].setClockwise(o)}}return n}function n(n,f,o,s){var y,l,v,h,w,nt;n=i(n.clone(!1));f=i(f.clone(!1));var b=n.isClockwise(),k=f.isClockwise(),ot=n.getIntersections(f);t(t(ot,!0));b||n.reverse();s^k||f.reverse();b=!0;k=!s;var tt=[].concat(n._children||[n]).concat(f._children||[f]),d=[],it=new yt;for(l=0,v=tt.length;l<v;l++){var c=tt[l],rt=c._parent,ut=c.isClockwise(),ft=c._segments;for(c=rt instanceof yt?rt:c,y=ft.length-1;y>=0;y--){var h=ft[y],p=h.getCurve().getPoint(.5),st=c!==n&&n.contains(p)&&(ut===b||s||!u(n,p)),ht=c!==f&&f.contains(p)&&(ut===k||!u(f,p));o(c===n,st,ht)?h._invalid=!0:d.push(h)}}for(l=0,v=d.length;l<v;l++)if(h=d[l],!h._visited){var c=new a,et=h._intersection,g=et&&et.getSegment(!0);h.getPrevious()._invalid&&h.setHandleIn(g?g._handleIn:new r(0,0));do h._visited=!0,h._invalid&&h._intersection?(w=h._intersection.getSegment(!0),c.add(new e(h._point,h._handleIn,w._handleOut)),w._visited=!0,h=w):c.add(h.clone()),h=h.getNext();while(h&&!h._visited&&h!==g);nt=c._segments.length;nt>1&&(nt>2||!c.isPolygon())?(c.setClosed(!0),it.addChild(c,!0)):c.remove()}return n.remove(),f.remove(),it.reduce()}function u(n,t){var u=n.getCurves(),e=n.getBounds(),i,f,r;if(e.contains(t))for(i=0,f=u.length;i<f;i++)if(r=u[i],r.getBounds().contains(t)&&r.getParameterOf(t))return!0;return!1}return{unite:function(t){return n(this,t,function(n,t,i){return t||i})},intersect:function(t){return n(this,t,function(n,t,i){return!(t||i)})},subtract:function(t){return n(this,t,function(n,t,i){return n&&i||!n&&!t},!0)},exclude:function(n){return new nt([this.subtract(n),n.subtract(this)])},divide:function(n){return new nt([this.subtract(n),this.intersect(n)])}}});var kt=d.extend({_class:"TextItem",_boundsSelected:!0,_serializeFields:{content:null},_boundsGetter:"getBounds",initialize:function(i){this._content="";this._lines=[];var u=i&&t.isPlainObject(i)&&i.x===n&&i.y===n;this._initialize(u&&i,!u&&r.read(arguments))},_equals:function(n){return this._content===n._content},_clone:function tr(n){return n.setContent(this._content),tr.base.call(this,n)},getContent:function(){return this._content},setContent:function(n){this._content=""+n;this._lines=this._content.split(/\r\n|\n|\r/mg);this._changed(69)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),fi=kt.extend({_class:"PointText",initialize:function(){kt.apply(this,arguments)},clone:function(n){return this._clone(new fi({insert:!1}),n)},getPoint:function(){var n=this._matrix.getTranslation();return new ht(n.x,n.y,this,"setPoint")},setPoint:function(n){n=r.read(arguments);this.translate(n.subtract(this._matrix.getTranslation()))},_draw:function(n){var i,f,r;if(this._content){this._setStyles(n);var t=this._style,u=this._lines,e=t.getLeading(),o=n.shadowColor;for(n.font=t.getFontStyle(),n.textAlign=t.getJustification(),i=0,f=u.length;i<f;i++)n.shadowColor=o,r=u[i],t.hasFill()&&(n.fillText(r,0,0),n.shadowColor="rgba(0,0,0,0)"),t.hasStroke()&&n.strokeText(r,0,0),n.translate(0,e)}}},new function(){var n=null;return{_getBounds:function(t,i){var r,u,f;n||(n=w.getContext(1,1));var e=this._style,h=this._lines,s=h.length,c=e.getJustification(),l=e.getLeading(),a=0;for(n.font=e.getFontStyle(),r=0,u=0;u<s;u++)r=Math.max(r,n.measureText(h[u]).width);return c!=="left"&&(a-=r/(c==="center"?2:1)),f=new o(a,s?-.75*l:0,r,s*l),i?i._transformBounds(f,f):f}}}),y=t.extend(new function(){function o(n){var f=n.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/),r,t,h,u,o,s;if(f)for(r=[0,0,0],t=0;t<3;t++)u=f[t+1],r[t]=parseInt(u.length==1?u+u:u,16)/255;else if(f=n.match(/^rgba?\((.*)\)$/))for(r=f[1].split(","),t=0,h=r.length;t<h;t++)u=parseFloat(r[t]),r[t]=t<3?u/255:u;else o=e[n],o||(i||(i=w.getContext(1,1),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=n,i.fillRect(0,0,1,1),s=i.getImageData(0,0,1,1).data,o=e[n]=[s[0]/255,s[1]/255,s[2]/255]),r=o.slice();return r}var n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},u={},e={},i,s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],f={"rgb-hsb":function(n,t,i){var r=Math.max(n,t,i),f=Math.min(n,t,i),u=r-f,e=u===0?0:(r==n?(t-i)/u+(t<i?6:0):r==t?(i-n)/u+2:(n-t)/u+4)*60;return[e,r===0?0:u/r,r]},"hsb-rgb":function(n,t,i){var n=n/60%6,r=Math.floor(n),f=n-r,r=s[r],u=[i,i*(1-t),i*(1-t*f),i*(1-t*(1-f))];return[u[r[0]],u[r[1]],u[r[2]]]},"rgb-hsl":function(n,t,i){var r=Math.max(n,t,i),f=Math.min(n,t,i),u=r-f,e=u===0,s=e?0:(r==n?(t-i)/u+(t<i?6:0):r==t?(i-n)/u+2:(n-t)/u+4)*60,o=(r+f)/2,h=e?0:o<.5?u/(r+f):u/(2-r-f);return[s,h,o]},"hsl-rgb":function(n,t,i){var f,r;if(n/=360,t===0)return[i,i,i];var s=[n+1/3,n,n-1/3],e=i<.5?i*(1+t):i+t-i*t,u=2*i-e,o=[];for(f=0;f<3;f++)r=s[f],r<0&&(r+=1),r>1&&(r-=1),o[f]=6*r<1?u+(e-u)*6*r:2*r<1?e:3*r<2?u+(e-u)*(2/3-r)*6:u;return o},"rgb-gray":function(n,t,i){return[n*.2989+t*.587+i*.114]},"gray-rgb":function(n){return[n,n,n]},"gray-hsb":function(n){return[0,0,n]},"gray-hsl":function(n){return[0,0,n]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return t.each(n,function(i,f){u[f]=[];t.each(i,function(i,e){var o=t.capitalize(i),s=/^(hue|saturation)$/.test(i),h=u[f][e]=i==="gradient"?function(n){var t=this._components[0];return n=ot.read(Array.isArray(n)?n:arguments,0,0,{readNull:!0}),t!==n&&(t&&t._removeOwner(this),n&&n._addOwner(this)),n}:i==="hue"?function(n){return isNaN(n)?0:(n%360+360)%360}:f==="gradient"?function(){return r.read(arguments,0,0,{readNull:i==="highlight",clone:!0})}:function(n){return isNaN(n)?0:Math.min(Math.max(n,0),1)};this["get"+o]=function(){return this._type===f||s&&/^hs[bl]$/.test(this._type)?this._components[e]:this._convert(f)[e]};this["set"+o]=function(t){this._type===f||s&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(f),this._properties=n[f],this._type=f);t=h.call(this,t);t!=null&&(this._components[e]=t,this._changed())}},this)},{_class:"Color",_readIndex:!0,initialize:function y(t){var g=Array.prototype.slice,h=arguments,w=0,b=!0,f,r,c,s,l,v,k,d,p,i,a,e;if(Array.isArray(t)&&(h=t,t=h[0]),l=t!=null&&typeof t,l==="string"&&t in n&&(f=t,t=h[1],Array.isArray(t)?(r=t,c=h[2]):(this.__read&&(w=1),h=g.call(h,1),l=typeof t)),!r){if(b=!(this.__options&&this.__options.dontParse),s=l==="number"?h:l==="object"&&t.length!=null?t:null,s)f||(f=s.length>=3?"rgb":"gray"),v=n[f].length,c=s[v],this.__read&&(w+=s===arguments?v+(c!=null?1:0):1),s.length>v&&(s=g.call(s,0,v));else if(l==="string")f="rgb",r=o(t),r.length===4&&(c=r[3],r.length--);else if(l==="object")if(t.constructor===y){if(f=t._type,r=t._components.slice(),c=t._alpha,f==="gradient")for(i=1,a=r.length;i<a;i++)k=r[i],k&&(r[i]=k.clone())}else if(t.constructor===ot)f="gradient",s=h;else{for(f=("hue"in t)?("lightness"in t)?"hsl":"hsb":("gradient"in t)||("stops"in t)||("radial"in t)?"gradient":("gray"in t)?"gray":"rgb",d=n[f],p=b&&u[f],this._components=r=[],i=0,a=d.length;i<a;i++)e=t[d[i]],e==null&&i===0&&f==="gradient"&&"stops"in t&&(e={stops:t.stops,radial:t.radial}),b&&(e=p[i].call(this,e)),e!=null&&(r[i]=e);c=t.alpha}this.__read&&f&&(w=1)}if(this._type=f||"rgb",f==="gradient"&&(this._id=y._id=(y._id||0)+1),!r)for(this._components=r=[],p=u[this._type],i=0,a=p.length;i<a;i++)e=s&&s[i],b&&(e=p[i].call(this,e)),e!=null&&(r[i]=e);this._components=r;this._properties=n[this._type];this._alpha=c;this.__read&&(this.__read=w)},_serialize:function(n,i){var r=this.getComponents();return t.serialize(/^(gray|rgb)$/.test(this._type)?r:[this._type].concat(r),n,!0,i)},_changed:function(){this._canvasStyle=null;this._owner&&this._owner._changed(17)},_convert:function(n){var t;return this._type===n?this._components.slice():(t=f[this._type+"-"+n])?t.apply(this,this._components):f["rgb-"+n].apply(this,f[this._type+"-rgb"].apply(this,this._components))},convert:function(n){return new y(n,this._convert(n),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t);this._properties=n[t];this._type=t},getComponents:function(){var n=this._components.slice();return this._alpha!=null&&n.push(this._alpha),n},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(n){this._alpha=n==null?null:Math.min(Math.max(n,0),1);this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(n){return t.isPlainValue(n)&&(n=y.read(arguments)),n===this||n&&this._class===n._class&&this._type===n._type&&this._alpha===n._alpha&&t.equals(this._components,n._components)||!1},toString:function(){for(var t,r=this._properties,i=[],f=this._type==="gradient",u=g.instance,n=0,e=r.length;n<e;n++)t=this._components[n],t!=null&&i.push(r[n]+": "+(f?t:u.number(t)));return this._alpha!=null&&i.push("alpha: "+u.number(this._alpha)),"{ "+i.join(", ")+" }"},toCSS:function(n){var t=this._convert("rgb"),i=n||this._alpha==null?1:this._alpha;return t=[Math.round(t[0]*255),Math.round(t[1]*255),Math.round(t[2]*255)],i<1&&t.push(i),n?"#"+(16777216+(t[0]<<16)+(t[1]<<8)+t[2]).toString(16).slice(1):(t.length==4?"rgba(":"rgb(")+t.join(",")+")"},toCanvasStyle:function(n){var f,i,s,h,e,v,c;if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var r=this._components,l=r[0],a=l._stops,t=r[1],o=r[2],u;for(l._radial?(f=o.getDistance(t),i=r[3],i&&(s=i.subtract(t),s.getLength()>f&&(i=t.add(s.normalize(f-.1)))),h=i||t,u=n.createRadialGradient(h.x,h.y,0,t.x,t.y,f)):u=n.createLinearGradient(t.x,t.y,o.x,o.y),e=0,v=a.length;e<v;e++)c=a[e],u.addColorStop(c._rampPoint,c._color.toCanvasStyle());return this._canvasStyle=u},transform:function(n){var i,t,u,r;if(this._type==="gradient"){for(i=this._components,t=1,u=i.length;t<u;t++)r=i[t],n._transformPoint(r,r,!0);this._changed()}},statics:{_types:n,random:function(){var n=Math.random;return new y(n(),n(),n())}}})},new function(){function n(n,t){return n<0?0:t&&n>360?360:!t&&n>1?1:n}var i={add:function(t,i,r){return n(t+i,r)},subtract:function(t,i,r){return n(t-i,r)},multiply:function(t,i,r){return n(t*i,r)},divide:function(t,i,r){return n(t/i,r)}};return t.each(i,function(n,t){var i={dontParse:/^(multiply|divide)$/.test(t)};this[t]=function(t){var r,o;t=y.read(arguments,0,0,i);var f=this._type,s=this._properties,e=this._components,u=t._convert(f);for(r=0,o=e.length;r<o;r++)u[r]=n(e[r],u[r],s[r]==="hue");return new y(f,u,this._alpha!=null?n(this._alpha,t.getAlpha()):null)}},{})});t.each(y._types,function(n,i){var u=this[t.capitalize(i)+"Color"]=function(n){var t=n!=null&&typeof n,r=t==="object"&&n.length!=null?n:t==="string"?null:arguments;return r?new y(i,r):new y(n)},r;i.length==3&&(r=i.toUpperCase(),y[r]=this[r+"Color"]=u)},t.exports);var ot=t.extend({_class:"Gradient",initialize:function ot(n,t){this._id=ot._id=(ot._id||0)+1;n&&this._set(n)&&(n=t=null);this._stops||this.setStops(n||["white","black"]);this._radial==null&&this.setRadial(typeof t=="string"&&t==="radial"||t||!1)},_serialize:function(n,i){return i.add(this,function(){return t.serialize([this._stops,this._radial],n,!0,i)})},_changed:function(){for(var n=0,t=this._owners&&this._owners.length;n<t;n++)this._owners[n]._changed()},_addOwner:function(n){this._owners||(this._owners=[]);this._owners.push(n)},_removeOwner:function(n){var t=this._owners?this._owners.indexOf(n):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length===0&&delete this._owners)},clone:function(){for(var t=[],n=0,i=this._stops.length;n<i;n++)t[n]=this._stops[n].clone();return new ot(t)},getStops:function(){return this._stops},setStops:function(n){var t,i,r;if(this.stops)for(t=0,i=this._stops.length;t<i;t++)delete this._stops[t]._owner;if(n.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");for(this._stops=dt.readAll(n,0,!1,!0),t=0,i=this._stops.length;t<i;t++)r=this._stops[t],r._owner=this,r._defaultRamp&&r.setRampPoint(t/(i-1));this._changed()},getRadial:function(){return this._radial},setRadial:function(n){this._radial=n;this._changed()},equals:function(n){if(n===this)return!0;if(n&&this._class===n._class&&this._stops.length===n._stops.length){for(var t=0,i=this._stops.length;t<i;t++)if(!this._stops[t].equals(n._stops[t]))return!1;return!0}return!1}}),dt=t.extend({_class:"GradientStop",initialize:function(t,i){if(t){var r,u;i===n&&Array.isArray(t)?(r=t[0],u=t[1]):t.color?(r=t.color,u=t.rampPoint):(r=t,u=i);this.setColor(r);this.setRampPoint(u)}},clone:function(){return new dt(this._color.clone(),this._rampPoint)},_serialize:function(n,i){return t.serialize([this._color,this._rampPoint],n,!0,i)},_changed:function(){this._owner&&this._owner._changed(17)},getRampPoint:function(){return this._rampPoint},setRampPoint:function(n){this._defaultRamp=n==null;this._rampPoint=n||0;this._changed()},getColor:function(){return this._color},setColor:function(n){this._color=y.read(arguments);this._color===n&&(this._color=n.clone());this._color._owner=this;this._changed()},equals:function(n){return n===this||n&&this._class===n._class&&this._color.equals(n._color)&&this._rampPoint==n._rampPoint||!1}}),gt=t.extend(new function(){var i={fillColor:n,strokeColor:n,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",miterLimit:10,dashOffset:0,dashArray:[],windingRule:"nonzero",shadowColor:n,shadowBlur:0,shadowOffset:new r,selectedColor:n,font:"sans-serif",fontSize:12,leading:null,justification:"left"},e={strokeWidth:25,strokeCap:25,strokeJoin:25,miterLimit:25,font:5,fontSize:5,leading:5,justification:5},u={},f={_defaults:i,_textDefaults:new t(i,{fillColor:new y})};return t.each(i,function(i,r){var h=/Color$/.test(r),c=t.capitalize(r),l=e[r],o="set"+c,s="get"+c;f[o]=function(n){var t=this._item&&this._item._children,i,f,u;if(t&&t.length>0&&this._item._type!=="compound-path")for(i=0,f=t.length;i<f;i++)t[i]._style[o](n);else u=this._values[r],u!=n&&(h&&(u&&delete u._owner,n&&n.constructor===y&&(n._owner&&(n=n.clone()),n._owner=this._item)),this._values[r]=n,this._item&&this._item._changed(l||17))};f[s]=function(){var f=this._item&&this._item._children,i,u,o,e;if(!f||f.length===0||arguments[0]||this._item._type==="compound-path")return i=this._values[r],i===n?(i=this._defaults[r],i&&i.clone&&(i=i.clone()),this._values[r]=i):!h||i&&i.constructor===y||(this._values[r]=i=y.read([i],0,0,{readNull:!0,clone:!0}),i&&(i._owner=this._item)),i;for(u=0,o=f.length;u<o;u++)if(e=f[u]._style[s](),u===0)i=e;else if(!t.equals(i,e))return n;return i};u[s]=function(){return this._style[s]()};u[o]=function(n){this._style[o](n)}}),d.inject(u),f},{_class:"Style",initialize:function(n,t){this._values={};this._item=t;t instanceof kt&&(this._defaults=this._textDefaults);n&&this.set(n)},set:function(n){var u=n instanceof gt,r=u?n._values:n,i,t;if(r)for(i in r)i in this._defaults&&(t=r[i],this[i]=t&&u&&t.clone?t.clone():t)},equals:function(n){return n===this||n&&this._class===n._class&&t.equals(this._values,n._values)||!1},hasFill:function(){return!!this.getFillColor()},hasStroke:function(){return!!this.getStrokeColor()&&this.getStrokeWidth()>0},hasShadow:function(){return!!this.getShadowColor()&&this.getShadowBlur()>0},getLeading:function ir(){var n=ir.base.call(this);return n!=null?n:this.getFontSize()*1.2},getFontStyle:function(){var n=this.getFontSize();return n+(/[a-z]/i.test(n+"")?" ":"px ")+this.getFont()}}),h=new function(){function u(n,i){for(var r,e=[],f=0,o=n&&n.length;f<o;){if(r=n[f++],typeof r=="string")r=document.createElement(r);else if(!r||!r.nodeType)continue;t.isPlainObject(n[f])&&h.set(r,n[f++]);Array.isArray(n[f])&&u(n[f++],r);i&&i.appendChild(r);e.push(r)}return e}var r=/^(checked|value|selected|disabled)$/i,i={text:"textContent",html:"innerHTML"},e={lineHeight:1,zoom:1,zIndex:1,opacity:1};return{create:function(n,t){var r=Array.isArray(n),i=u(r?n:arguments,r?t:null);return i.length==1?i[0]:i},find:function(n,t){return(t||document).querySelector(n)},findAll:function(n,t){return(t||document).querySelectorAll(n)},get:function(n,t){return n?r.test(t)?t==="value"||typeof n[t]!="string"?n[t]:!0:t in i?n[i[t]]:n.getAttribute(t):null},set:function(t,u,f){if(typeof u!="string")for(var e in u)u.hasOwnProperty(e)&&this.set(t,e,u[e]);else if(t&&f!==n)r.test(u)?t[u]=f:u in i?t[i[u]]=f:u==="style"?this.setStyle(t,f):u==="events"?v.add(t,f):t.setAttribute(u,f);else return t;return t},getStyles:function(n){var t=n&&n.nodeType!==9?n.ownerDocument:n,i=t&&t.defaultView;return i&&i.getComputedStyle(n,"")},getStyle:function(n,t){return n&&n.style[t]||this.getStyles(n)[t]||null},setStyle:function(n,t,i){if(typeof t!="string")for(var r in t)t.hasOwnProperty(r)&&this.setStyle(n,r,t[r]);else!/^-?[\d\.]+$/.test(i)||t in e||(i+="px"),n.style[t]=i;return n},hasClass:function(n,t){return new RegExp("\\s*"+t+"\\s*").test(n.className)},addClass:function(n,t){n.className=(n.className+" "+t).trim()},removeClass:function(n,t){n.className=n.className.replace(new RegExp("\\s*"+t+"\\s*")," ").trim()},remove:function(n){n.parentNode&&n.parentNode.removeChild(n)},removeChildren:function(n){while(n.firstChild)n.removeChild(n.firstChild)},getBounds:function(n,t){var f=n.ownerDocument,r=f.body,u=f.documentElement,i,e,s,h;try{i=n.getBoundingClientRect()}catch(c){i={left:0,top:0,width:0,height:0}}return e=i.left-(u.clientLeft||r.clientLeft||0),s=i.top-(u.clientTop||r.clientTop||0),t||(h=f.defaultView,e+=h.pageXOffset||u.scrollLeft||r.scrollLeft,s+=h.pageYOffset||u.scrollTop||r.scrollTop),new o(e,s,i.width,i.height)},getViewportBounds:function(n){var t=n.ownerDocument,i=t.defaultView,r=t.documentElement;return new o(0,0,i.innerWidth||r.clientWidth,i.innerHeight||r.clientHeight)},getOffset:function(n,t){return this.getBounds(n,t).getPoint()},getSize:function(n){return this.getBounds(n,!0).getSize()},isInvisible:function(n){return this.getSize(n).equals(new f(0,0))},isInView:function(n){return!this.isInvisible(n)&&this.getViewportBounds(n).intersects(this.getBounds(n,!0))},getPrefixValue:function(n,t){for(var i=n[t],u=["webkit","moz","ms","o"],f=t[0].toUpperCase()+t.substring(1),r=0;r<4&&i==null;r++)i=n[u[r]+f];return i}}},v={add:function(n,t){var i,r;for(i in t)r=t[i],n.addEventListener?n.addEventListener(i,r,!1):n.attachEvent&&n.attachEvent("on"+i,r.bound=function(){r.call(n,window.event)})},remove:function(n,t){var i,r;for(i in t)r=t[i],n.removeEventListener?n.removeEventListener(i,r,!1):n.detachEvent&&n.detachEvent("on"+i,r.bound)},getPoint:function(n){var t=n.targetTouches?n.targetTouches.length?n.targetTouches[0]:n.changedTouches[0]:n;return new r(t.pageX||t.clientX+document.documentElement.scrollLeft,t.pageY||t.clientY+document.documentElement.scrollTop)},getTarget:function(n){return n.target||n.srcElement},getOffset:function(n,t){return v.getPoint(n).subtract(h.getOffset(t||v.getTarget(n)))},preventDefault:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},stopPropagation:function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},stop:function(n){v.stopPropagation(n);v.preventDefault(n)}};v.requestAnimationFrame=new function(){function u(){for(var f=n.length-1;f>=0;f--){var o=n[f],s=o[0],e=o[1];(!e||(it.getAttribute(e,"keepalive")=="true"||r)&&h.isInView(e))&&(n.splice(f,1),s())}t&&(n.length?t(u):i=!1)}var t=h.getPrefixValue(window,"requestAnimationFrame"),i=!1,n=[],r=!0,f;return v.add(window,{focus:function(){r=!0},blur:function(){r=!1}}),function(r,e){n.push([r,e]);t?i||(t(u),i=!0):f||(f=setInterval(u,1e3/60))}};var c=t.extend(st,{_class:"View",initialize:function c(n){var t,i,u;if(this._scope=paper,this._project=paper.project,this._element=n,this._id=n.getAttribute("id"),this._id==null&&n.setAttribute("id",this._id="view-"+c._id++),v.add(n,this._viewHandlers),it.hasAttribute(n,"resize")?(i=h.getOffset(n,!0),u=this,t=h.getViewportBounds(n).getSize().subtract(i),this._windowHandlers={resize:function(){h.isInvisible(n)||(i=h.getOffset(n,!0));u.setViewSize(h.getViewportBounds(n).getSize().subtract(i))}},v.add(window,this._windowHandlers)):(t=h.getSize(n),(t.isNaN()||t.isZero())&&(t=new f(parseInt(n.getAttribute("width"),10),parseInt(n.getAttribute("height"),10)))),this._setViewSize(t),it.hasAttribute(n,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var e=this._stats.domElement,r=e.style,i=h.getOffset(n);r.position="absolute";r.left=i.x+"px";r.top=i.y+"px";document.body.appendChild(e)}c._views.push(this);c._viewsById[this._id]=this;this._viewSize=t;(this._matrix=new p)._owner=this;this._zoom=1;c._focused||(c._focused=this);this._frameItems={};this._frameItemCount=0},remove:function(){return this._project?(c._focused==this&&(c._focused=null),c._views.splice(c._views.indexOf(this),1),delete c._viewsById[this._id],this._project.view==this&&(this._project.view=null),v.remove(this._element,this._viewHandlers),v.remove(window,this._windowHandlers),this._element=this._project=null,this.detach("frame"),this._frameItems={},!0):!1},_events:{onFrame:{install:function(){this._animate=!0;this._requested||this._requestFrame()},uninstall:function(){this._animate=!1}},onResize:{}},_animate:!1,_time:0,_count:0,_requestFrame:function(){var n=this;v.requestAnimationFrame(function(){(n._requested=!1,n._animate)&&(n._requestFrame(),n._handleFrame())},this._element);this._requested=!0},_handleFrame:function(){paper=this._scope;var n=Date.now()/1e3,i=this._before?n-this._before:0;this._before=n;this._handlingFrame=!0;this.fire("frame",new t({delta:i,time:this._time+=i,count:this._count++}));this._stats&&this._stats.update();this._handlingFrame=!1;this.draw(!0)},_animateItem:function(n,t){var i=this._frameItems;t?(i[n._id]={item:n,time:0,count:0},++this._frameItemCount==1&&this.attach("frame",this._handleFrameItems)):(delete i[n._id],--this._frameItemCount==0&&this.detach("frame",this._handleFrameItems))},_handleFrameItems:function(n){var r,i;for(r in this._frameItems)i=this._frameItems[r],i.item.fire("frame",new t(n,{time:i.time+=n.delta,count:i.count++}))},_redraw:function(){(this._project._needsRedraw=!0,this._handlingFrame)||(this._animate?this._handleFrame():this.draw())},_changed:function(n){n&1&&(this._project._needsRedraw=!0)},_transform:function(n){this._matrix.concatenate(n);this._bounds=null;this._redraw()},getElement:function(){return this._element},getViewSize:function(){var n=this._viewSize;return new ct(n.width,n.height,this,"setViewSize")},setViewSize:function(n){n=f.read(arguments);var t=n.subtract(this._viewSize);t.isZero()||(this._viewSize.set(n.width,n.height),this._setViewSize(n),this._bounds=null,this.fire("resize",{size:n,delta:t}),this._redraw())},_setViewSize:function(n){var t=this._element;t.width=n.width;t.height=n.height},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new o(new r,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize(arguments[0])},getCenter:function(){return this.getBounds().getCenter(arguments[0])},setCenter:function(n){n=r.read(arguments);this.scrollBy(n.subtract(this.getCenter()))},getZoom:function(){return this._zoom},setZoom:function(n){this._transform((new p).scale(n/this._zoom,this.getCenter()));this._zoom=n},isVisible:function(){return h.isInView(this._element)},scrollBy:function(){this._transform((new p).translate(r.read(arguments).negate()))},projectToView:function(){return this._matrix._transformPoint(r.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(r.read(arguments))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(n){return typeof n=="string"&&(n=document.getElementById(n)),new rr(n)}}},new function(){function e(n){var t=v.getTarget(n);return t.getAttribute&&c._viewsById[t.getAttribute("id")]}function u(n,t){return n.viewToProject(v.getOffset(t,n._element))}function r(){var n,r,t;if(!c._focused||!c._focused.isVisible())for(n=0,r=c._views.length;n<r;n++)if(t=c._views[n],t&&t.isVisible()){c._focused=i=t;break}}function o(i){var r=c._focused=e(i),f=u(r,i);t=!0;r._onMouseDown&&r._onMouseDown(i,f);(n=r._scope._tool)&&n._onHandleEvent("mousedown",f,i);r.draw(!0)}function s(o){var s,h;(t||(s=e(o),s?(f=c._focused,c._focused=i=s):i&&i==c._focused&&(c._focused=f,r())),s=s||c._focused)&&(h=o&&u(s,o),s._onMouseMove&&s._onMouseMove(o,h),(n=s._scope._tool)&&n._onHandleEvent(t&&n.responds("mousedrag")?"mousedrag":"mousemove",h,o)&&v.stop(o),s.draw(!0))}function h(i){var r=c._focused,f;r&&t&&(f=u(r,i),curPoint=null,t=!1,r._onMouseUp&&r._onMouseUp(i,f),n&&n._onHandleEvent("mouseup",f,i)&&v.stop(i),r.draw(!0))}function l(n){t&&v.stop(n)}var n,f,i,t=!1;return v.add(document,{mousemove:s,mouseup:h,touchmove:s,touchend:h,selectstart:l,scroll:r}),v.add(window,{load:r}),{_viewHandlers:{mousedown:o,touchstart:o,selectstart:l},statics:{updateFocus:r}}}),rr=c.extend({_class:"CanvasView",initialize:function(n){var t,i,r;if(!(n instanceof HTMLCanvasElement)){if(t=f.read(arguments),t.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+n);n=w.getCanvas(t)}this._context=n.getContext("2d");this._eventCounters={};this._ratio=1;it.getAttribute(n,"hidpi")!=="off"&&(i=window.devicePixelRatio||1,r=h.getPrefixValue(this._context,"backingStorePixelRatio")||1,this._ratio=i/r);c.call(this,n)},_setViewSize:function(n){var r=n.width,u=n.height,t=this._ratio,i=this._element,f=i.style;i.width=r*t;i.height=u*t;t!==1&&(f.width=r+"px",f.height=u+"px",this._context.scale(t,t))},draw:function(n){if(n&&!this._project._needsRedraw)return!1;var t=this._context,i=this._viewSize;return t.clearRect(0,0,i.width+1,i.height+1),this._project.draw(t,this._matrix,this._ratio),this._project._needsRedraw=!1,!0}},new function(){function t(n,t,i,r,u,f){for(var e=r,o;e;){if(e.responds(n)&&(o||(o=new fr(n,t,i,r,u?i.subtract(u):null)),e.fire(n,o)&&(!f||o._stopped)))return!1;e=e.getParent()}return!0}function s(n,i,r,e,o){if(n._eventCounters[i]){var h=n._project,c=h.hitTest(e,{tolerance:h.options.hitTolerance||0,fill:!0,stroke:!0}),s=c&&c.item;if(s)return i==="mousemove"&&s!=u&&(o=e),i==="mousemove"&&f||t(i,r,e,s,o),s}}var e,i,r,n,h,u,f,o,c;return{_onMouseDown:function(t,u){var l=s(this,"mousedown",t,u);o=h==l&&Date.now()-c<300;n=h=l;e=i=r=u;f=n&&n.responds("mousedrag")},_onMouseUp:function(u,h){var l=s(this,"mouseup",u,h);f&&(i&&!i.equals(h)&&t("mousedrag",u,h,n,i),l!=n&&(r=h,t("mousemove",u,h,l,r)));l===n&&(c=Date.now(),(!o||t("doubleclick",u,e,l))&&t("click",u,e,l),o=!1);n=null;f=!1},_onMouseMove:function(f,e){n&&t("mousedrag",f,e,n,i);var o=s(this,"mousemove",f,e,r);i=r=e;o!==u&&(t("mouseleave",f,e,u),u=o,t("mouseenter",f,e,o))}}}),lt=t.extend({_class:"Event",initialize:function(n){this.event=n},preventDefault:function(){this._prevented=!0;v.preventDefault(this.event)},stopPropagation:function(){this._stopped=!0;v.stopPropagation(this.event)},stop:function(){this.stopPropagation();this.preventDefault()},getModifiers:function(){return ei.modifiers}}),ur=lt.extend({_class:"KeyEvent",initialize:function(n,t,i,r){lt.call(this,r);this.type=n?"keydown":"keyup";this.key=t;this.character=i},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),ei=new function(){function r(i,r,o,s){var y=o?String.fromCharCode(o):"",l=f[r],p=l||y.toLowerCase(),w=i?"keydown":"keyup",h=c._focused,a=h&&h.isVisible()&&h._scope,v=a&&a._tool,b;e[p]=i;l&&(b=t.camelize(l))in u&&(u[b]=i);i?n[r]=o:delete n[r];v&&v.responds(w)&&(paper=a,v.fire(w,new ur(i,p,y,s)),h&&h.draw(!0))}var f={8:"backspace",9:"tab",13:"enter",16:"shift",17:"control",18:"option",19:"pause",20:"caps-lock",27:"escape",32:"space",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",46:"delete",91:"command",93:"command",224:"command"},o={9:!0,13:!0,32:!0},u=new t({shift:!1,control:!1,option:!1,command:!1,capsLock:!1,space:!1}),n={},e={},i;return v.add(document,{keydown:function(n){var t=n.which||n.keyCode;t in f?r(!0,t,t in o?t:0,n):i=t},keypress:function(n){i!=null&&(r(!0,i,n.which||n.keyCode,n),i=null)},keyup:function(t){var i=t.which||t.keyCode;i in n&&r(!1,i,n[i],t)}}),v.add(window,{blur:function(t){for(var i in n)r(!1,i,n[i],t)}}),{modifiers:u,isDown:function(n){return!!e[n]}}},fr=lt.extend({_class:"MouseEvent",initialize:function(n,t,i,r,u){lt.call(this,t);this.type=n;this.point=i;this.target=r;this.delta=u},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}});t.extend(st,{_class:"Palette",_events:["onChange"],initialize:function(i,r,u){var o=h.find(".palettejs-panel")||h.find("body").appendChild(h.create("div",{"class":"palettejs-panel"})),e,f;this._element=o.appendChild(h.create("table",{"class":"palettejs-pane"}));this._title=i;u||(u={});for(e in this.components=r)f=r[e],f instanceof pt||(f.value==null&&(f.value=u[e]),f.name=e,f=r[e]=new pt(f)),this._element.appendChild(f._element),f._palette=this,u[e]===n&&(u[e]=f.value);this.values=t.each(u,function(n,i){var f=r[i];f&&t.define(u,i,{enumerable:!0,configurable:!0,get:function(){return f._value},set:function(n){f.setValue(n)}})});window.paper&&paper.palettes.push(this)},reset:function(){for(var n in this.components)this.components[n].reset()},remove:function(){h.remove(this._element)}});var pt=t.extend(st,{_class:"Component",_events:["onChange","onClick"],_types:{boolean:{type:"checkbox",value:"checked"},string:{type:"text"},number:{type:"number",number:!0},button:{type:"button"},text:{tag:"div",value:"text"},slider:{type:"range",number:!0},list:{tag:"select",setOptions:function(){h.removeChildren(this._input);h.create(t.each(this._options,function(n){this.push("option",{value:n,text:n})},[]),this._input)}},color:{type:"color",getValue:function(n){return new y(n)},setValue:function(n){return new y(n).toCSS(h.get(this._input,"type")==="color")}}},initialize:function pt(n){this._id=pt._id=(pt._id||0)+1;this._type=n.type in this._types?n.type:"options"in n?"list":"onClick"in n?"button":typeof n.value;this._meta=this._types[this._type]||{type:this._type};var i=this,r="component-"+this._id;this._dontFire=!0;this._input=h.create(this._meta.tag||"input",{id:r,type:this._meta.type,events:{change:function(){i.setValue(h.get(this,i._meta.value||"value"))},click:function(){i.fire("click")}}});this.attach("change",function(n){this._dontFire||this._palette.fire("change",this,this.name,n)});this._element=h.create("tr",["td",[this._label=h.create("label",{"for":r})],"td",[this._input]]);t.each(n,function(n,t){this[t]=n},this);this._defaultValue=this._value;this._dontFire=!1},getType:function(){return this._type},getLabel:function(){return this.__label},setLabel:function(n){this.__label=n;h.set(this._label,"text",n+":")},getOptions:function(){return this._options},setOptions:function(n){this._options=n;var t=this._meta.setOptions;t&&t.call(this)},getValue:function(){var n=this._value,t=this._meta.getValue;return t?t.call(this,n):n},setValue:function(n){var t=this._meta.value||"value",i=this._meta.setValue;i&&(n=i.call(this,n));h.set(this._input,t,n);n=h.get(this._input,t);this._meta.number&&(n=parseFloat(n,10));this._value!==n&&(this._value=n,this._dontFire||this.fire("change",this.getValue()))},getRange:function(){return[parseFloat(h.get(this._input,"min")),parseFloat(h.get(this._input,"max"))]},setRange:function(n,t){var i=Array.isArray(n)?n:[n,t];h.set(this._input,{min:i[0],max:i[1]})},getMin:function(){return this.getRange()[0]},setMin:function(n){this.setRange(n,this.getMax())},getMax:function(){return this.getRange()[1]},setMax:function(n){this.setRange(this.getMin(),n)},getStep:function(){return parseFloat(h.get(this._input,"step"))},setStep:function(n){h.set(this._input,"step",n)},reset:function(){this.setValue(this._defaultValue)}}),er=lt.extend({_class:"ToolEvent",_item:null,initialize:function(n,t,i){this.tool=n;this.type=t;this.event=i},_choosePoint:function(n,t){return n?n:t?t.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(n){this._point=n},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(n){this._lastPoint=n},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(n){this._downPoint=n},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(n){this._middlePoint=n},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(n){this._delta=n},getCount:function(){return/^mouse(down|up)$/.test(this.type)?this.tool._downCount:this.tool._count},setCount:function(n){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=n},getItem:function(){var i,t,n;if(!this._item&&(i=this.tool._scope.project.hitTest(this.getPoint()),i)){for(t=i.item,n=t._parent;/^(group|compound-path)$/.test(n._type);)t=n,n=n._parent;this._item=t}return this._item},setItem:function(n){this._item=n},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),or=at.extend({_class:"Tool",_list:"tools",_reference:"_tool",_events:["onActivate","onDeactivate","onEditOptions","onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onKeyDown","onKeyUp"],initialize:function(n){at.call(this);this._firstMove=!0;this._count=0;this._downCount=0;this._set(n)},getMinDistance:function(){return this._minDistance},setMinDistance:function(n){this._minDistance=n;this._minDistance!=null&&this._maxDistance!=null&&this._minDistance>this._maxDistance&&(this._maxDistance=this._minDistance)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(n){this._maxDistance=n;this._minDistance!=null&&this._maxDistance!=null&&this._maxDistance<this._minDistance&&(this._minDistance=n)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(n){this._minDistance=n;this._maxDistance=n},_updateEvent:function(n,t,i,r,u,f,e){var o;if(!u){if(i!=null||r!=null){var c=i!=null?i:0,s=t.subtract(this._point),h=s.getLength();if(h<c)return!1;if(o=r!=null?r:0,o!=0)if(h>o)t=this._point.add(s.normalize(o));else if(e)return!1}if(f&&t.equals(this._point))return!1}this._lastPoint=u&&n=="mousemove"?t:this._point;this._point=t;switch(n){case"mousedown":this._lastPoint=this._downPoint;this._downPoint=this._point;this._downCount++;break;case"mouseup":this._lastPoint=this._downPoint}return this._count=u?0:this._count+1,!0},_fireEvent:function(n,t){var i=paper.project._removeSets,r,e,f,o,u;if(i&&(n==="mouseup"&&(i.mousedrag=null),r=i[n],r)){for(e in r){f=r[e];for(o in i)u=i[o],u&&u!=r&&delete u[f._id];f.remove()}i[n]=null}return this.responds(n)&&this.fire(n,new er(this,n,t))},_onHandleEvent:function(n,t,i){var r,u,f;paper=this._scope;r=!1;switch(n){case"mousedown":this._updateEvent(n,t,null,null,!0,!1,!1);r=this._fireEvent(n,i);break;case"mousedrag":for(u=!1,f=!1;this._updateEvent(n,t,this.minDistance,this.maxDistance,!1,u,f);)r=this._fireEvent(n,i)||r,u=!0,f=!0;break;case"mouseup":!t.equals(this._point)&&this._updateEvent("mousedrag",t,this.minDistance,this.maxDistance,!1,!1,!1)&&(r=this._fireEvent("mousedrag",i));this._updateEvent(n,t,null,this.maxDistance,!1,!1,!1);r=this._fireEvent(n,i)||r;this._updateEvent(n,t,null,null,!0,!1,!1);this._firstMove=!0;break;case"mousemove":while(this._updateEvent(n,t,this.minDistance,this.maxDistance,this._firstMove,!0,!1))r=this._fireEvent(n,i)||r,this._firstMove=!1}return r}}),oi={request:function(n,t,i){var r=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");return r.open(n.toUpperCase(),t,!0),"overrideMimeType"in r&&r.overrideMimeType("text/plain"),r.onreadystatechange=function(){if(r.readyState===4){var n=r.status;if(n===0||n===200)i.call(r,r.responseText);else throw new Error("Could not load "+t+" (Error "+n+")");}},r.send(null)}},w={canvases:[],getCanvas:function(n,t,i){var r,u;return typeof n=="object"&&(i=t,t=n.height,n=n.width),i?i!==1&&(n*=i,t*=i):i=1,r=this.canvases.length?this.canvases.pop():document.createElement("canvas"),u=r.getContext("2d"),r.width===n&&r.height===t?!0&&u.clearRect(0,0,n+1,t+1):(r.width=n,r.height=t),u.save(),i!==1&&u.scale(i,i),r},getContext:function(n,t){return this.getCanvas(n,t).getContext("2d")},release:function(n){var t=n.canvas?n.canvas:n;t.getContext("2d").restore();this.canvases.push(t)}},ni=new function(){function v(n,t,i){return.2989*n+.587*t+.114*i}function y(n,t,i,r){var a=r-v(n,t,i),o,s,h;u=n+a;f=t+a;e=i+a;var r=v(u,f,e),y=c(u,f,e),p=l(u,f,e);y<0&&(o=r-y,u=r+(u-r)*r/o,f=r+(f-r)*r/o,e=r+(e-r)*r/o);p>255&&(s=255-r,h=p-r,u=r+(u-r)*s/h,f=r+(f-r)*s/h,e=r+(e-r)*s/h)}function d(n,t,i){return l(n,t,i)-c(n,t,i)}function g(n,t,i,r){var o=[n,t,i],s=l(n,t,i),h=c(n,t,i),a;h=h===n?0:h===t?1:2;s=s===n?0:s===t?1:2;a=c(h,s)===0?l(h,s)===1?2:1:0;o[s]>o[h]?(o[a]=(o[a]-o[h])*r/(o[s]-o[h]),o[s]=r):o[a]=o[s]=0;o[h]=0;u=o[0];f=o[1];e=o[2]}var c=Math.min,l=Math.max,p=Math.abs,o,s,h,b,n,i,r,k,u,f,e,nt={multiply:function(){u=n*o/255;f=i*s/255;e=r*h/255},screen:function(){u=n+o-n*o/255;f=i+s-i*s/255;e=r+h-r*h/255},overlay:function(){u=n<128?2*n*o/255:255-2*(255-n)*(255-o)/255;f=i<128?2*i*s/255:255-2*(255-i)*(255-s)/255;e=r<128?2*r*h/255:255-2*(255-r)*(255-h)/255},"soft-light":function(){var t=o*n/255;u=t+n*(255-(255-n)*(255-o)/255-t)/255;t=s*i/255;f=t+i*(255-(255-i)*(255-s)/255-t)/255;t=h*r/255;e=t+r*(255-(255-r)*(255-h)/255-t)/255},"hard-light":function(){u=o<128?2*o*n/255:255-2*(255-o)*(255-n)/255;f=s<128?2*s*i/255:255-2*(255-s)*(255-i)/255;e=h<128?2*h*r/255:255-2*(255-h)*(255-r)/255},"color-dodge":function(){u=n===0?0:o===255?255:c(255,255*n/(255-o));f=i===0?0:s===255?255:c(255,255*i/(255-s));e=r===0?0:h===255?255:c(255,255*r/(255-h))},"color-burn":function(){u=n===255?255:o===0?0:l(0,255-(255-n)*255/o);f=i===255?255:s===0?0:l(0,255-(255-i)*255/s);e=r===255?255:h===0?0:l(0,255-(255-r)*255/h)},darken:function(){u=n<o?n:o;f=i<s?i:s;e=r<h?r:h},lighten:function(){u=n>o?n:o;f=i>s?i:s;e=r>h?r:h},difference:function(){u=n-o;u<0&&(u=-u);f=i-s;f<0&&(f=-f);e=r-h;e<0&&(e=-e)},exclusion:function(){u=n+o*(255-n-n)/255;f=i+s*(255-i-i)/255;e=r+h*(255-r-r)/255},hue:function(){g(o,s,h,d(n,i,r));y(u,f,e,v(n,i,r))},saturation:function(){g(n,i,r,d(o,s,h));y(u,f,e,v(n,i,r))},luminosity:function(){y(n,i,r,v(o,s,h))},color:function(){y(o,s,h,v(n,i,r))},add:function(){u=c(n+o,255);f=c(i+s,255);e=c(r+h,255)},subtract:function(){u=l(n-o,0);f=l(i-s,0);e=l(r-h,0)},average:function(){u=(n+o)/2;f=(i+s)/2;e=(r+h)/2},negation:function(){u=255-p(255-o-n);f=255-p(255-s-i);e=255-p(255-h-r)}},tt=this.nativeModes=t.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(n){this[n]=!0},{}),a=w.getContext(1,1);t.each(nt,function(n,t){a.save();var i=t==="darken",r=!1;a.fillStyle=i?"#300":"#a00";a.fillRect(0,0,1,1);a.globalCompositeOperation=t;a.globalCompositeOperation===t&&(a.fillStyle=i?"#a00":"#300",a.fillRect(0,0,1,1),r=a.getImageData(0,0,1,1).data[0]!==(i?170:51));tt[t]=r;a.restore()});w.release(a);this.process=function(t,c,l,a,v){var w=c.canvas,ut=t==="normal",rt,y,et,d,g;if(ut||tt[t])l.save(),l.setTransform(1,0,0,1,0,0),l.globalAlpha=a,ut||(l.globalCompositeOperation=t),l.drawImage(w,v.x,v.y),l.restore();else{if(rt=nt[t],!rt)return;var ft=l.getImageData(v.x,v.y,w.width,w.height),p=ft.data,it=c.getImageData(0,0,w.width,w.height).data;for(y=0,et=p.length;y<et;y+=4)o=it[y],n=p[y],s=it[y+1],i=p[y+1],h=it[y+2],r=p[y+2],b=it[y+3],k=p[y+3],rt(),d=b*a/255,g=1-d,p[y]=d*u+g*n,p[y+1]=d*f+g*i,p[y+2]=d*e+g*r,p[y+3]=b*a+g*k;l.putImageData(ft,v.x,v.y)}}},si=t.each({fillColor:["fill","color"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],font:["font-family","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","string"]},function(n,i){var u=t.capitalize(i),r=n[2];this[i]={type:n[1],property:i,attribute:n[0],toSVG:r,fromSVG:r&&t.each(r,function(n,t){this[n]=t},{}),get:"get"+u,set:"set"+u}},{}),hi={href:"http://www.w3.org/1999/xlink",xlink:"http://www.w3.org/2000/xmlns"};return new function(){function o(n,t){var r,i,f;for(r in t)i=t[r],f=hi[r],typeof i=="number"&&(i=u.number(i)),f?n.setAttributeNS(f,r,i):n.setAttribute(r,i);return n}function n(n,t){return o(document.createElementNS("http://www.w3.org/2000/svg",n),t)}function f(n,t,i){var r=n._matrix,e=r.getTranslation(),f={},c,o;if(t&&(r=r.shiftless(),c=r._inverseTransform(e),f[i?"cx":"x"]=c.x,f[i?"cy":"y"]=c.y,e=null),r.isIdentity())return f;if(o=r.decompose(),o&&!o.shearing){var h=[],a=o.rotation,l=o.scaling;e&&!e.isZero()&&h.push("translate("+u.point(e)+")");s.isZero(l.x-1)&&s.isZero(l.y-1)||h.push("scale("+u.point(l)+")");a&&h.push("rotate("+u.number(a)+")");f.transform=h.join(" ")}else f.transform="matrix("+r.getValues().join(",")+")";return f}function a(t,i){for(var r,u,s,v=f(t),a=t._children,h=n("g",v),l=0,y=a.length;l<y;l++)r=a[l],u=e(r,i),u&&(r.isClipMask()?(s=n("clipPath"),s.appendChild(u),c(r,s,"clip"),o(h,{"clip-path":"url(#"+s.id+")"})):h.appendChild(u));return h}function w(t){var i=f(t,!0),r=t.getSize();return i.x-=r.width/2,i.y-=r.height/2,i.width=r.width,i.height=r.height,i.href=t.toDataURL(),n("image",i)}function b(t,r){var s,f,e,o,h,c,a,y;if(r.matchShapes&&(s=t.toShape(!1),s))return v(s,r);if(f=t._segments,f.length===0)return null;if(t.isPolygon())if(f.length>=3){for(e=t._closed?"polygon":"polyline",h=[],i=0,l=f.length;i<l;i++)h.push(u.point(f[i]._point));o={points:h.join(" ")}}else e="line",c=f[0]._point,a=f[f.length-1]._point,o={x1:c.x,y1:c.y,x2:a.x,y2:a.y};else e="path",y=t.getPathData(),o=y&&{d:y};return n(e,o)}function v(t){var u=t._shape,r=t._radius,i=f(t,!0,u!=="rectangle");if(u==="rectangle"){u="rect";var e=t._size,o=e.width,s=e.height;i.x-=o/2;i.y-=s/2;i.width=o;i.height=s;r.isZero()&&(r=null)}return r&&(u==="circle"?i.r=r:(i.rx=r.width,i.ry=r.height)),n(u,i)}function k(t){var i=f(t,!0),r=t.getPathData();return r&&(i.d=r),n("path",i)}function nt(t,i){var r=f(t,!0),l=t.getSymbol(),o=h(l,"symbol"),a=l.getDefinition(),s=a.getBounds();return o||(o=n("symbol",{viewBox:u.rectangle(s)}),o.appendChild(e(a,i)),c(l,o,"symbol")),r.href="#"+o.id,r.x+=s.x,r.y+=s.y,r.width=u.number(s.width),r.height=u.number(s.height),n("use",r)}function tt(t){var u=h(t,"color"),r,s,e,v;if(!u){var l=t.getGradient(),a=l._radial,f=t.getOrigin().transform(),o=t.getDestination().transform(),i;for(a?(i={cx:f.x,cy:f.y,r:f.getDistance(o)},r=t.getHighlight(),r&&(r=r.transform(),i.fx=r.x,i.fy=r.y)):i={x1:f.x,y1:f.y,x2:o.x,y2:o.y},i.gradientUnits="userSpaceOnUse",u=n((a?"radial":"linear")+"Gradient",i),s=l._stops,e=0,v=s.length;e<v;e++){var y=s[e],p=y._color,w=p.getAlpha();i={offset:y._rampPoint,"stop-color":p.toCSS(!0)};w<1&&(i["stop-opacity"]=w);u.appendChild(n("stop",i))}c(t,u,"color")}return"url(#"+u.id+")"}function it(t){var i=n("text",f(t,!0));return i.textContent=t._content,i}function ut(n,i){var r={},f=n.getParent();return n._name!=null&&(r.id=n._name),t.each(si,function(i){var h=i.get,o=i.type,e=n[h](),s;f&&t.equals(f[h](),e)||(o==="color"&&e!=null&&(s=e.getAlpha(),s<1&&(r[i.attribute+"-opacity"]=s)),r[i.attribute]=e==null?"none":o==="number"?u.number(e):o==="color"?e.gradient?tt(e,n):e.toCSS(!0):o==="array"?e.join(","):o==="lookup"?i.toSVG[e]:e)}),r.opacity===1&&delete r.opacity,n._visibility==null||n._visibility||(r.visibility="hidden"),o(i,r)}function h(n,t){return r||(r={ids:{},svgs:{}}),n&&r.svgs[t+"-"+n._id]}function c(n,t,i){r||h();var u=r.ids[i]=(r.ids[i]||0)+1;t.id=i+"-"+u;r.svgs[i+"-"+n._id]=t}function y(t,i){var u=t,f=null,e;if(r){u=t.nodeName.toLowerCase()==="svg"&&t;for(e in r.svgs)f||(u||(u=n("svg"),u.appendChild(t)),f=u.insertBefore(n("defs"),u.firstChild)),f.appendChild(r.svgs[e]);r=null}return i.asString?(new XMLSerializer).serializeToString(u):u}function e(n,t){var r=rt[n._type],i=r&&r(n,t);return i&&n._data&&i.setAttribute("data-paper-data",JSON.stringify(n._data)),i&&ut(n,i)}function p(n){return n||(n={}),u=new g(n.precision),n}var u,rt={group:a,layer:a,raster:w,path:b,shape:v,"compound-path":k,"placed-symbol":nt,"point-text":it},r;d.inject({exportSVG:function(n){return n=p(n),y(e(this,n),n)}});wt.inject({exportSVG:function(t){var i,o;t=p(t);var r=this.layers,u=this.view.getSize(),f=n("svg",{x:0,y:0,width:u.width,height:u.height,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"});for(i=0,o=r.length;i<o;i++)f.appendChild(e(r[i],t));return y(f,t)}})},new function(){function u(n,t,i,r){var f=hi[t],u=f?n.getAttributeNS(f,t):n.getAttribute(t);return u==="null"&&(u=null),u==null?r?null:i?"":0:i?u:parseFloat(u)}function i(n,t,i,f){return t=u(n,t,!1,f),i=u(n,i,!1,f),f&&(t==null||i==null)?null:new r(t,i)}function e(n,t,i,r){return t=u(n,t,!1,r),i=u(n,i,!1,r),r&&(t==null||i==null)?null:new f(t,i)}function w(n,t,i){return n==="none"?null:t==="number"?parseFloat(n):t==="array"?n?n.split(/[\s,]+/g).map(parseFloat):[]:t==="color"?ft(n)||n:t==="lookup"?i[n]:n}function s(n,t,i,r){var a=n.childNodes,e=t==="clippath",u=new nt,o=u._project,p=o._currentStyle,v=[],f,y,s,h;for(e||(u._transformContent=!1,u=c(u,n,i),o._currentStyle=u._style.clone()),f=0,y=a.length;f<y;f++)s=a[f],s.nodeType!==1||!(h=l(s,!1,r))||h instanceof rt||v.push(h);return u.addChildren(v),e&&(u=c(u.reduce(),n,i)),o._currentStyle=p,(e||t==="defs")&&(u.remove(),u=null),u}function k(n,t){var i=new a,u=n.points,r,f;for(i.moveTo(u.getItem(0)),r=1,f=u.numberOfItems;r<f;r++)i.lineTo(u.getItem(r));return t==="polygon"&&i.closePath(),i}function st(n){var t=n.getAttribute("d"),i=t.match(/m/gi).length>1?new yt:new a;return i.setPathData(t),i}function g(n,t){for(var e,o,a,r,s,v,h=n.childNodes,l=[],f=0,p=h.length;f<p;f++)e=h[f],e.nodeType===1&&l.push(c(new dt,e));return o=t==="radialgradient",a=new ot(l,o),o?(r=i(n,"cx","cy"),s=r.add(u(n,"r"),0),v=i(n,"fx","fy",!0)):(r=i(n,"x1","y1"),s=i(n,"x2","y2")),c(new y(a,r,s,v),n),null}function tt(n,t,i,r){for(var s,e,v,t,h,c=(r.getAttribute(i)||"").split(/\)\s*/g),f=new p,o=0,y=c.length;o<y;o++){if(s=c[o],!s)break;var l=s.split("("),a=l[0],u=l[1].split(/[\s,]+/g);for(e=0,v=u.length;e<v;e++)u[e]=parseFloat(u[e]);switch(a){case"matrix":f.concatenate(new p(u[0],u[1],u[2],u[3],u[4],u[5]));break;case"rotate":f.rotate(u[0],u[1],u[2]);break;case"translate":f.translate(u[0],u[1]);break;case"scale":f.scale(u);break;case"skewX":case"skewY":t=Math.tan(u[0]*Math.PI/180);h=a=="skewX";f.shear(h?t:0,h?0:t)}}n.transform(f)}function it(n,t,i){var r=n[i==="fill-opacity"?"getFillColor":"getStrokeColor"]();r&&r.setAlpha(parseFloat(t))}function ut(i,r,u){var o=i.attributes[r],f=o&&o.value,e;return f||(e=t.camelize(r),f=i.style[e],f||u.node[e]===u.parent[e]||(f=u.node[e])),f?f==="none"?null:f:n}function c(i,r,u){var f={node:h.getStyles(r)||{},parent:!u&&h.getStyles(r.parentNode)||{}};return t.each(ct,function(u,e){var o=ut(r,e,f);o!==n&&(i=t.pick(u(i,o,e,r,f),i))}),i}function ft(n){var t=n&&n.match(/\((?:#|)([^)']+)/);return t&&v[t[1]]}function l(n,t,i){function o(n){paper=f;var u=l(n,t,i),r=i.onLoad,e=f.project&&f.project.view;r&&r.call(this,u);e.draw(!0)}var r,f,e;if(!n)return null;if(i?typeof i=="function"&&(i={onLoad:i}):i={},r=n,f=paper,t)if(typeof n!="string"||/^.*</.test(n)){if(typeof File!="undefined"&&n instanceof File)return e=new FileReader,e.onload=function(){o(e.result)},e.readAsText(n)}else if(r=document.getElementById(n),r)n=null;else return oi.request("get",n,o);if(typeof n=="string"&&(r=(new DOMParser).parseFromString(n,"image/svg+xml")),!r.nodeName)throw new Error("Unsupported SVG source: "+n);var s=r.nodeName.toLowerCase(),h=ht[s],u=h&&h(r,s,t,i)||null,a=r.getAttribute&&r.getAttribute("data-paper-data");return u&&(u instanceof nt||(u=c(u,r,t)),i.expandShapes&&u instanceof b&&(u.remove(),u=u.toPath()),a&&(u._data=JSON.parse(a))),t&&(v={}),u}var ht={"#document":function(n,t,i,r){for(var u,e,s,o=n.childNodes,f=0,h=o.length;f<h;f++)if(u=o[f],u.nodeType===1)return e=u.nextSibling,document.body.appendChild(u),s=l(u,i,r),e?n.insertBefore(u,e):n.appendChild(u),s},g:s,svg:s,clippath:s,polygon:k,polyline:k,path:st,lineargradient:g,radialgradient:g,image:function(n){var t=new et(u(n,"href",!0));return t.attach("load",function(){var t=e(n,"width","height"),r;this.setSize(t);r=this._matrix._transformPoint(i(n,"x","y").add(t.divide(2)));this.translate(r)}),t},symbol:function(n,t,i,r){return new rt(s(n,t,i,r),!0)},defs:s,use:function(n){var f=(u(n,"href",!0)||"").substring(1),t=v[f],r=i(n,"x","y");return t?t instanceof rt?t.place(r):t.clone().translate(r):null},circle:function(n){return new b.Circle(i(n,"cx","cy"),u(n,"r"))},ellipse:function(n){return new b.Ellipse({center:i(n,"cx","cy"),radius:e(n,"rx","ry")})},rect:function(n){var t=i(n,"x","y"),r=e(n,"width","height"),u=e(n,"rx","ry");return new b.Rectangle(new o(t,r),u)},line:function(n){return new a.Line(i(n,"x1","y1"),i(n,"x2","y2"))},text:function(n){var t=new fi(i(n,"x","y").add(i(n,"dx","dy")));return t.setContent(n.textContent.trim()||""),t}},ct=t.each(si,function(n){this[n.attribute]=function(t,i){if(t[n.set](w(i,n.type,n.fromSVG)),n.type==="color"&&t instanceof b){var r=t[n.get]();r&&r.transform((new p).translate(t.getPosition(!0).negate()))}}},{id:function(n,t){v[t]=n;n.setName&&n.setName(t)},"clip-path":function(n,t){var i=ft(t);if(i)if(i=i.clone(),i.setClipMask(!0),n instanceof nt)n.insertChild(0,i);else return new nt(i,n)},gradientTransform:tt,transform:tt,"fill-opacity":it,"stroke-opacity":it,visibility:function(n,t){n.setVisible(t==="visible")},"stop-color":function(n,t){n.setColor&&n.setColor(t)},"stop-opacity":function(n,t){n._color&&n._color.setAlpha(parseFloat(t))},offset:function(n,t){var i=t.match(/(.*)%$/);n.setRampPoint(i?i[1]/100:parseFloat(t))},viewBox:function(n,t,i,r,u){var f=new o(w(t,"array")),h=e(r,"width","height",!0),l,a,s,c;n instanceof nt?(l=h?f.getSize().divide(h):1,a=(new p).translate(f.getPoint()).scale(l),n.transform(a.inverted())):n instanceof rt&&(h&&f.setSize(h),s=ut(r,"overflow",u)!="visible",c=n._definition,s&&!f.contains(c.getBounds())&&(s=new b.Rectangle(f).transform(c._matrix),s.setClipMask(!0),c.addChild(s)))}}),v={};d.inject({importSVG:function(n,t){return this.addChild(l(n,!0,t))}});wt.inject({importSVG:function(n,t){return this.activate(),l(n,!0,t)}})},paper=new(it.inject(new t(t.exports,{enumerable:!0,Base:t,Numerical:s,DomElement:h,DomEvent:v,Http:oi,Key:ei}))),typeof define=="function"&&define.amd&&define("paper",paper),paper};paper.PaperScope.prototype.PaperScript=function(root){function compile(n){function r(n){for(var r,t=0,u=i.length;t<u;t++){if(r=i[t],r[0]>=n)break;n+=r[1]}return n}function t(t){return n.substring(r(t.range[0]),r(t.range[1]))}function u(t,u){for(var f=r(t.range[0]),o=r(t.range[1]),s=0,e=i.length-1;e>=0;e--)if(f>i[e][0]){s=e+1;break}i.splice(s,0,[f,u.length-o+f]);n=n.substring(0,f)+u+n.substring(o)}function f(n,i){var a,r,c,v,s,l,h;if(n){for(a in n)if(a!=="range")if(r=n[a],Array.isArray(r))for(c=0,v=r.length;c<v;c++)f(r[c],n);else r&&typeof r=="object"&&f(r,n);switch(n&&n.type){case"BinaryExpression":n.operator in e&&n.left.type!=="Literal"&&(s=t(n.left),l=t(n.right),u(n,"_$_("+s+', "'+n.operator+'", '+l+")"));break;case"AssignmentExpression":/^.=$/.test(n.operator)&&n.left.type!=="Literal"&&(s=t(n.left),l=t(n.right),u(n,s+" = _$_("+s+', "'+n.operator[0]+'", '+l+")"));break;case"UpdateExpression":n.prefix||i&&(i.type==="BinaryExpression"&&/^[=!<>]/.test(i.operator)||i.type==="MemberExpression"&&i.computed)||(h=t(n.argument),u(n,h+" = _$_("+h+', "'+n.operator[0]+'", 1)'));break;case"UnaryExpression":n.operator in o&&n.argument.type!=="Literal"&&(h=t(n.argument),u(n,'$_("'+n.operator+'", '+h+")"))}}}var i=[];return f(s.acorn.parse(n,{ranges:!0})),n}function r(code,scope){paper=scope;var view=scope.project&&scope.project.view,res;with(scope)(function(){var onFrame,onResize,handle,lineNumber;if(code=compile(code),root.InstallTrigger){handle=PaperScript.handleException;handle||(handle=PaperScript.handleException=function(n){throw n.lineNumber>=lineNumber?new Error(n.message,n.fileName,n.lineNumber-lineNumber):n;},lineNumber=(new Error).lineNumber+((new Error).lineNumber-lineNumber)*3);try{res=eval(";"+code)}catch(n){handle(n)}}else res=eval(code);/on(?:Key|Mouse)(?:Up|Down|Move|Drag)/.test(code)&&Base.each(paper.Tool.prototype._events,function(n){var value=eval(n);value&&(scope.getTool()[n]=value)});view&&(view.setOnResize(onResize),view.fire("resize",{size:view.size,delta:new Point}),onFrame&&view.setOnFrame(onFrame),view.draw())}).call(scope);return res}function u(){Base.each(document.getElementsByTagName("script"),function(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&!t.getAttribute("data-paper-ignore")){var i=n.getAttribute(t,"canvas"),u=n.get(i)||new n(t).setup(i),f=t.src;f?paper.Http.request("get",f,function(n){r(n,u)}):r(t.innerHTML,u);t.setAttribute("data-paper-ignore",!0)}},this)}var Base=paper.Base,n=paper.PaperScope,PaperScript,f,t,s=this;!function(n,i){return"object"==typeof f&&"object"==typeof module?i(f):"function"==typeof t&&t.amd?t(["exports"],i):(i(n.acorn||(n.acorn={})),void 0)}(this,function(n){"use strict";function eu(n){u=n||{};for(var t in hr)Object.prototype.hasOwnProperty.call(u,t)||(u[t]=hr[t]);sr=u.sourceFile||null}function e(n,r){var f=bu(i,n),u;r+=" ("+f.line+":"+f.column+")";u=new SyntaxError(r);throw u.pos=n,u.loc=f,u.raisedAt=t,u;}function dt(n){function e(n){if(1==n.length)return i+="return str === "+JSON.stringify(n[0])+";";i+="switch(str){";for(var t=0;t<n.length;++t)i+="case "+JSON.stringify(n[t])+":";i+="return true}return false;"}var i,r,u,t,f;n=n.split(" ");i="";r=[];n:for(t=0;t<n.length;++t){for(u=0;u<r.length;++u)if(r[u][0].length==n[t].length){r[u].push(n[t]);continue n}r.push([n[t]])}if(r.length>3){for(r.sort(function(n,t){return t.length-n.length}),i+="switch(str.length){",t=0;t<r.length;++t)f=r[t],i+="case "+f[0].length+":",e(f);i+="}"}else e(n);return new Function("str",i)}function st(){this.line=rt;this.column=t-k}function ou(){rt=1;t=k=0;ai=!0;ei()}function l(n,i){vt=t;u.locations&&(li=new st);f=n;ei();it=i;ai=n.beforeExpr}function te(){var o=u.onComment&&u.locations&&new st,r=t,f=i.indexOf("*/",t+=2),n;if(-1===f&&e(t-2,"Unterminated comment"),t=f+2,u.locations)for(kt.lastIndex=r;(n=kt.exec(i))&&n.index<t;)++rt,k=n.index+n[0].length;u.onComment&&u.onComment(!0,i.slice(r+2,f),r,t,o,u.locations&&new st)}function ie(){for(var r=t,f=u.onComment&&u.locations&&new st,n=i.charCodeAt(t+=2);ct>t&&10!==n&&13!==n&&8232!==n&&8329!==n;)++t,n=i.charCodeAt(t);u.onComment&&u.onComment(!1,i.slice(r+2,t),r,t,f,u.locations&&new st)}function ei(){for(var n,r;ct>t;)if(n=i.charCodeAt(t),32===n)++t;else if(13===n)++t,r=i.charCodeAt(t),10===r&&++t,u.locations&&(++rt,k=t);else if(10===n)++t,++rt,k=t;else if(14>n&&n>8)++t;else if(47===n)if(r=i.charCodeAt(t+1),42===r)te();else{if(47!==r)break;ie()}else if(160===n)++t;else{if(!(n>=5760&&vo.test(String.fromCharCode(n))))break;++t}}function re(){var n=i.charCodeAt(t+1);return n>=48&&57>=n?hu(!0):(++t,l(gr))}function ue(){var n=i.charCodeAt(t+1);return ai?(++t,su()):61===n?a(wt,2):a(tu,1)}function fe(){var n=i.charCodeAt(t+1);return 61===n?a(wt,2):a(ho,1)}function ee(n){var r=i.charCodeAt(t+1);return r===n?a(124===n?to:io,2):61===r?a(wt,2):a(124===n?ro:fo,1)}function oe(){var n=i.charCodeAt(t+1);return 61===n?a(wt,2):a(uo,1)}function se(n){var r=i.charCodeAt(t+1);return r===n?a(no,2):61===r?a(wt,2):a(ge,1)}function he(n){var u=i.charCodeAt(t+1),r=1;return u===n?(r=62===n&&62===i.charCodeAt(t+2)?3:2,61===i.charCodeAt(t+r)?a(wt,r+1):a(so,r)):(61===u&&(r=61===i.charCodeAt(t+2)?3:2),a(oo,r))}function ce(n){var r=i.charCodeAt(t+1);return 61===r?a(eo,61===i.charCodeAt(t+2)?3:2):a(61===n?iu:bf,1)}function le(n){switch(n){case 46:return re();case 40:return++t,l(g);case 41:return++t,l(d);case 59:return++t,l(nt);case 44:return++t,l(ut);case 91:return++t,l(wi);case 93:return++t,l(bi);case 123:return++t,l(yt);case 125:return++t,l(at);case 58:return++t,l(pt);case 63:return++t,l(nu);case 48:var r=i.charCodeAt(t+1);if(120===r||88===r)return ae();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return hu(!1);case 34:case 39:return ve(n);case 47:return ue(n);case 37:case 42:return fe();case 124:case 38:return ee(n);case 94:return oe();case 43:case 45:return se(n);case 60:case 62:return he(n);case 61:case 33:return ce(n);case 126:return a(bf,1)}return!1}function gt(n){var r,o,f;if(n?t=v+1:v=t,u.locations&&(ci=new st),n)return su();if(t>=ct)return l(yi);if(r=i.charCodeAt(t),di(r)||92===r)return lu();if(o=le(r),o===!1){if(f=String.fromCharCode(r),"\\"===f||gf.test(f))return lu();e(t,"Unexpected character '"+f+"'")}return o}function a(n,r){var u=i.slice(t,t+r);t+=r;l(n,u)}function su(){for(var o,u,n,f,s="",r=t;;){if(t>=ct&&e(r,"Unterminated regular expression"),n=i.charAt(t),uu.test(n)&&e(r,"Unterminated regular expression"),o)o=!1;else{if("["===n)u=!0;else if("]"===n&&u)u=!1;else if("/"===n&&!u)break;o="\\"===n}++t}return s=i.slice(r,t),++t,f=cu(),f&&!/^[gmsiy]*$/.test(f)&&e(r,"Invalid regexp flag"),l(ar,new RegExp(s,f))}function ni(n,r){for(var e,u,o=t,f=0,s=0,h=null==r?1/0:r;h>s;++s){if(u=i.charCodeAt(t),e=u>=97?u-87:u>=65?u-55:u>=48&&57>=u?u-48:1/0,e>=n)break;++t;f=f*n+e}return t===o||null!=r&&t-o!==r?null:f}function ae(){t+=2;var n=ni(16);return null==n&&e(v+2,"Expected hexadecimal number"),di(i.charCodeAt(t))&&e(t,"Identifier directly after number"),l(fi,n)}function hu(n){var f=t,s=!1,h=48===i.charCodeAt(t),r,o,u;return n||null!==ni(10)||e(f,"Invalid number"),46===i.charCodeAt(t)&&(++t,ni(10),s=!0),r=i.charCodeAt(t),(69===r||101===r)&&(r=i.charCodeAt(++t),(43===r||45===r)&&++t,null===ni(10)&&e(f,"Invalid number"),s=!0),di(i.charCodeAt(t))&&e(t,"Identifier directly after number"),u=i.slice(f,t),s?o=parseFloat(u):h&&1!==u.length?/[89]/.test(u)||w?e(f,"Invalid number"):o=parseInt(u,8):o=parseInt(u,10),l(fi,o)}function ve(n){var r,o,f;for(t++,r="";;){if(t>=ct&&e(v,"Unterminated string constant"),o=i.charCodeAt(t),o===n)return++t,l(vi,r);if(92===o){for(o=i.charCodeAt(++t),f=/^[0-7]+/.exec(i.slice(t,t+3)),f&&(f=f[0]);f&&parseInt(f,8)>255;)f=f.slice(0,f.length-1);if("0"===f&&(f=null),++t,f)w&&e(t-2,"Octal literal in strict mode"),r+=String.fromCharCode(parseInt(f,8)),t+=f.length-1;else switch(o){case 110:r+="\n";break;case 114:r+="\r";break;case 120:r+=String.fromCharCode(oi(2));break;case 117:r+=String.fromCharCode(oi(4));break;case 85:r+=String.fromCharCode(oi(8));break;case 116:r+="\t";break;case 98:r+="\b";break;case 118:r+="\x0b";break;case 102:r+="\f";break;case 48:r+="\0";break;case 13:10===i.charCodeAt(t)&&++t;case 10:u.locations&&(k=t,++rt);break;default:r+=String.fromCharCode(o)}}else(13===o||10===o||8232===o||8329===o)&&e(v,"Unterminated string constant"),r+=String.fromCharCode(o),++t}}function oi(n){var t=ni(16,n);return null===t&&e(v,"Bad character escape sequence"),t}function cu(){var n,u,f,o,r,s;for(bt=!1,u=!0,f=t;;){if(o=i.charCodeAt(t),ne(o))bt&&(n+=i.charAt(t)),++t;else{if(92!==o)break;bt||(n=i.slice(f,t));bt=!0;117!=i.charCodeAt(++t)&&e(t,"Expecting Unicode escape sequence \\uXXXX");++t;r=oi(4);s=String.fromCharCode(r);s||e(t-1,"Invalid Unicode escape");(u?di(r):ne(r))||e(t-4,"Invalid Unicode escape");n+=s}u=!1}return bt?n:i.slice(f,t)}function lu(){var n=cu(),t=lt;return bt||(ao(n)?t=dr[n]:(u.forbidReserved&&(3===u.ecmaVersion?co:lo)(n)||w&&kf(n))&&e(v,"The keyword '"+n+"' is reserved")),l(t,n)}function o(){cr=v;ot=vt;lr=li;gt()}function gi(n){for(w=n,t=ot;k>t;)k=i.lastIndexOf("\n",k-2)+1,--rt;ei();gt()}function au(){this.type=null;this.start=v;this.end=null}function vu(){this.start=ci;this.end=null;null!==sr&&(this.source=sr)}function y(){var n=new au;return u.locations&&(n.loc=new vu),u.ranges&&(n.range=[v,0]),n}function ft(n){var t=new au;return t.start=n.start,u.locations&&(t.loc=new vu,t.loc.start=n.loc.start),u.ranges&&(t.range=[n.range[0],0]),t}function r(n,t){return n.type=t,n.end=ot,u.locations&&(n.loc.end=lr),u.ranges&&(n.range[1]=ot),n}function nr(n){return u.ecmaVersion>=5&&"ExpressionStatement"===n.type&&"Literal"===n.expression.type&&"use strict"===n.expression.value}function s(n){if(f===n)return(o(),!0)}function si(){return!u.strictSemicolons&&(f===yi||f===at||uu.test(i.slice(ot,v)))}function ht(){s(nt)||si()||tt()}function h(n){f===n?o():tt()}function tt(){e(v,"Unexpected token")}function hi(n){"Identifier"!==n.type&&"MemberExpression"!==n.type&&e(n.start,"Assigning to rvalue");w&&"Identifier"===n.type&&ki(n.name)&&e(n.start,"Assigning to "+n.name+" in strict mode")}function ye(n){var i,e,o;for(cr=ot=t,u.locations&&(lr=new st),ui=w=null,c=[],gt(),i=n||y(),e=!0,n||(i.body=[]);f!==yi;)o=b(),i.body.push(o),e&&nr(o)&&gi(!0),e=!1;return r(i,"Program")}function b(){var k,n,ut,ft,l,t,ct,vt,a,st,rt,u,wt;f===tu&&gt(!0);k=f;n=y();switch(k){case vr:case gu:for(o(),ut=k===vr,s(nt)||si()?n.label=null:f!==lt?tt():(n.label=et(),ht()),u=0;u<c.length;++u)if(ft=c[u],null==n.label||ft.name===n.label.name){if(null!=ft.kind&&(ut||"loop"===ft.kind))break;if(n.label&&ut)break}return u===c.length&&e(n.start,"Unsyntactic "+k.keyword),r(n,ut?"BreakStatement":"ContinueStatement");case nf:return o(),ht(),r(n,"DebuggerStatement");case rf:return o(),c.push(fu),n.body=b(),c.pop(),h(kr),n.test=ti(),ht(),r(n,"DoWhileStatement");case ef:return(o(),c.push(fu),h(g),f===nt)?tr(n,null):f===br?(l=y(),o(),pu(l,!0),1===l.declarations.length&&s(pi)?yu(n,l):tr(n,l)):(l=p(!1,!0),s(pi)?(hi(l),yu(n,l)):tr(n,l));case pr:return o(),er(n,!0);case of:return o(),n.test=ti(),n.consequent=b(),n.alternate=s(uf)?b():null,r(n,"IfStatement");case sf:return ui||e(v,"'return' outside of function"),o(),s(nt)||si()?n.argument=null:(n.argument=p(),ht()),r(n,"ReturnStatement");case wr:for(o(),n.discriminant=ti(),n.cases=[],h(yt),c.push(po);f!=at;)f===yr||f===tf?(vt=f===yr,t&&r(t,"SwitchCase"),n.cases.push(t=y()),t.consequent=[],o(),vt?t.test=p():(ct&&e(cr,"Multiple default clauses"),ct=!0,t.test=null),h(pt)):(t||tt(),t.consequent.push(b()));return t&&r(t,"SwitchCase"),o(),c.pop(),r(n,"SwitchStatement");case hf:return o(),uu.test(i.slice(ot,v))&&e(ot,"Illegal newline after throw"),n.argument=p(),ht(),r(n,"ThrowStatement");case cf:return(o(),n.block=ii(),n.handler=null,f===du)&&(a=y(),o(),h(g),a.param=et(),w&&ki(a.param.name)&&e(a.param.start,"Binding "+a.param.name+" in strict mode"),h(d),a.guard=null,a.body=ii(),n.handler=r(a,"CatchClause")),n.guardedHandlers=ku,n.finalizer=s(ff)?ii():null,n.handler||n.finalizer||e(n.start,"Missing catch or finally clause"),r(n,"TryStatement");case br:return o(),n=pu(n),ht(),n;case kr:return o(),n.test=ti(),c.push(fu),n.body=b(),c.pop(),r(n,"WhileStatement");case lf:return w&&e(v,"'with' in strict mode"),o(),n.object=ti(),n.body=b(),r(n,"WithStatement");case yt:return ii();case nt:return o(),r(n,"EmptyStatement");default:if(st=it,rt=p(),k===lt&&"Identifier"===rt.type&&s(pt)){for(u=0;u<c.length;++u)c[u].name===st&&e(rt.start,"Label '"+st+"' is already declared");return wt=f.isLoop?"loop":f===wr?"switch":null,c.push({name:st,kind:wt}),n.body=b(),c.pop(),n.label=rt,r(n,"LabeledStatement")}return n.expression=rt,ht(),r(n,"ExpressionStatement")}}function ti(){h(g);var n=p();return h(d),n}function ii(n){var f,t=y(),e=!0,i=!1,u;for(t.body=[],h(yt);!s(at);)u=b(),t.body.push(u),e&&n&&nr(u)&&(f=i,gi(i=!0)),e=!1;return i&&!f&&gi(!1),r(t,"BlockStatement")}function tr(n,t){return n.init=t,h(nt),n.test=f===nt?null:p(),h(nt),n.update=f===d?null:p(),h(d),n.body=b(),c.pop(),r(n,"ForStatement")}function yu(n,t){return n.left=t,n.right=p(),h(d),n.body=b(),c.pop(),r(n,"ForInStatement")}function pu(n,t){for(n.declarations=[],n.kind="var";;){var i=y();if(i.id=et(),w&&ki(i.id.name)&&e(i.id.start,"Binding "+i.id.name+" in strict mode"),i.init=s(iu)?p(!0,t):null,n.declarations.push(r(i,"VariableDeclarator")),!s(ut))break}return r(n,"VariableDeclaration")}function p(n,t){var u=ir(t),i;if(!n&&f===ut){for(i=ft(u),i.expressions=[u];s(ut);)i.expressions.push(ir(t));return r(i,"SequenceExpression")}return u}function ir(n){var i=pe(n),t;return f.isAssign?(t=ft(i),t.operator=it,t.left=i,o(),t.right=ir(n),hi(i),r(t,"AssignmentExpression")):i}function pe(n){var i=we(n),t;return s(nu)?(t=ft(i),t.test=i,t.consequent=p(!0),h(pt),t.alternate=p(!0,n),r(t,"ConditionalExpression")):i}function we(n){return rr(ur(),-1,n)}function rr(n,t,i){var e=f.binop,u;return null!=e&&(!i||f!==pi)&&e>t?(u=ft(n),u.left=n,u.operator=it,o(),u.right=rr(ur(),e,i),u=r(u,/&&|\|\|/.test(u.operator)?"LogicalExpression":"BinaryExpression"),rr(u,t,i)):n}function ur(){var i,t,n;if(f.prefix)return n=y(),i=f.isUpdate,n.operator=it,n.prefix=!0,o(),n.argument=ur(),i?hi(n.argument):w&&"delete"===n.operator&&"Identifier"===n.argument.type&&e(n.start,"Deleting local variable in strict mode"),r(n,i?"UpdateExpression":"UnaryExpression");for(t=be();f.postfix&&!si();)n=ft(t),n.operator=it,n.prefix=!1,n.argument=t,hi(t),o(),t=r(n,"UpdateExpression");return t}function be(){return ri(fr())}function ri(n,t){var i;return s(gr)?(i=ft(n),i.object=n,i.property=et(!0),i.computed=!1,ri(r(i,"MemberExpression"),t)):s(wi)?(i=ft(n),i.object=n,i.property=p(),i.computed=!0,h(bi),ri(r(i,"MemberExpression"),t)):!t&&s(g)?(i=ft(n),i.callee=n,i.arguments=or(d,!1),ri(r(i,"CallExpression"),t)):n}function fr(){var s,e,t,n;switch(f){case vf:return n=y(),o(),r(n,"ThisExpression");case lt:return et();case fi:case vi:case ar:return n=y(),n.value=it,n.raw=i.slice(v,vt),o(),r(n,"Literal");case yf:case pf:case wf:return n=y(),n.value=f.atomValue,n.raw=f.keyword,o(),r(n,"Literal");case g:return s=ci,e=v,o(),t=p(),t.start=e,t.end=vt,u.locations&&(t.loc.start=s,t.loc.end=li),u.ranges&&(t.range=[e,vt]),h(d),t;case wi:return n=y(),o(),n.elements=or(bi,!0,!0),r(n,"ArrayExpression");case yt:return de();case pr:return n=y(),o(),er(n,!1);case af:return ke();default:tt()}}function ke(){var n=y();return o(),n.callee=ri(fr(),!0),n.arguments=s(g)?or(d,!1):ku,r(n,"NewExpression")}function de(){var i=y(),b=!0,k=!1,c,n,v,l,t,a;for(i.properties=[],o();!s(at);){if(b)b=!1;else if(h(ut),u.allowTrailingCommas&&s(at))break;if(n={key:wu()},v=!1,s(pt)?(n.value=p(!0),c=n.kind="init"):u.ecmaVersion>=5&&"Identifier"===n.key.type&&("get"===n.key.name||"set"===n.key.name)?(v=k=!0,c=n.kind=n.key.name,n.key=wu(),f!==g&&tt(),n.value=er(y(),!1)):tt(),"Identifier"===n.key.type&&(w||k))for(l=0;l<i.properties.length;++l)t=i.properties[l],t.key.name===n.key.name&&(a=c==t.kind||v&&"init"===t.kind||"init"===c&&("get"===t.kind||"set"===t.kind),a&&!w&&"init"===c&&"init"===t.kind&&(a=!1),a&&e(n.key.start,"Redefinition of property"));i.properties.push(n)}return r(i,"ObjectExpression")}function wu(){return f===fi||f===vi?fr():et(!0)}function er(n,t){var l,a,v,i,u,o;for(f===lt?n.id=et():t?tt():n.id=null,n.params=[],l=!0,h(g);!s(d);)l?l=!1:h(ut),n.params.push(et());if(a=ui,v=c,ui=!0,c=[],n.body=ii(!0),ui=a,c=v,w||n.body.body.length&&nr(n.body.body[0]))for(i=n.id?-1:0;i<n.params.length;++i)if(u=0>i?n.id:n.params[i],(kf(u.name)||ki(u.name))&&e(u.start,"Defining '"+u.name+"' in strict mode"),i>=0)for(o=0;i>o;++o)u.name===n.params[o].name&&e(u.start,"Argument name clash in strict mode");return r(n,t?"FunctionDeclaration":"FunctionExpression")}function or(n,t,i){for(var r=[],e=!0;!s(n);){if(e)e=!1;else if(h(ut),t&&u.allowTrailingCommas&&s(n))break;i&&f===ut?r.push(null):r.push(p(!0))}return r}function et(n){var t=y();return t.name=f===lt?it:n&&!u.forbidReserved&&f.keyword||tt(),o(),r(t,"Identifier")}var u,i,ct,sr,hr,bu,ru;n.version="0.3.2";n.parse=function(n,t){return i=String(n),ct=i.length,eu(t),ou(),ye(u.program)};hr=n.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null};bu=n.getLineInfo=function(n,t){for(var i,u=1,r=0;;){if(kt.lastIndex=r,i=kt.exec(n),!(i&&i.index<t))break;++u;r=i.index+i[0].length}return{line:u,column:t-r}};n.tokenize=function(n,r){function o(n){return gt(n),e.start=v,e.end=vt,e.startLoc=ci,e.endLoc=li,e.type=f,e.value=it,e}i=String(n);ct=i.length;eu(r);ou();var e={};return o.jumpTo=function(n,r){if(t=n,u.locations){rt=1;k=kt.lastIndex=0;for(var f;(f=kt.exec(i))&&f.index<n;)++rt,k=f.index+f[0].length}ai=r;ei()},o};var t,v,vt,ci,li,f,it,ai,rt,k,cr,ot,lr,ui,c,w,ku=[],fi={type:"num"},ar={type:"regexp"},vi={type:"string"},lt={type:"name"},yi={type:"eof"},vr={keyword:"break"},yr={keyword:"case",beforeExpr:!0},du={keyword:"catch"},gu={keyword:"continue"},nf={keyword:"debugger"},tf={keyword:"default"},rf={keyword:"do",isLoop:!0},uf={keyword:"else",beforeExpr:!0},ff={keyword:"finally"},ef={keyword:"for",isLoop:!0},pr={keyword:"function"},of={keyword:"if"},sf={keyword:"return",beforeExpr:!0},wr={keyword:"switch"},hf={keyword:"throw",beforeExpr:!0},cf={keyword:"try"},br={keyword:"var"},kr={keyword:"while",isLoop:!0},lf={keyword:"with"},af={keyword:"new",beforeExpr:!0},vf={keyword:"this"},yf={keyword:"null",atomValue:null},pf={keyword:"true",atomValue:!0},wf={keyword:"false",atomValue:!1},pi={keyword:"in",binop:7,beforeExpr:!0},dr={"break":vr,"case":yr,"catch":du,"continue":gu,"debugger":nf,"default":tf,"do":rf,"else":uf,"finally":ff,"for":ef,"function":pr,"if":of,"return":sf,"switch":wr,"throw":hf,"try":cf,"var":br,"while":kr,"with":lf,"null":yf,"true":pf,"false":wf,"new":af,"in":pi,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":vf,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},wi={type:"[",beforeExpr:!0},bi={type:"]"},yt={type:"{",beforeExpr:!0},at={type:"}"},g={type:"(",beforeExpr:!0},d={type:")"},ut={type:",",beforeExpr:!0},nt={type:";",beforeExpr:!0},pt={type:":",beforeExpr:!0},gr={type:"."},nu={type:"?",beforeExpr:!0},tu={binop:10,beforeExpr:!0},iu={isAssign:!0,beforeExpr:!0},wt={isAssign:!0,beforeExpr:!0},ge={binop:9,prefix:!0,beforeExpr:!0},no={postfix:!0,prefix:!0,isUpdate:!0},bf={prefix:!0,beforeExpr:!0},to={binop:1,beforeExpr:!0},io={binop:2,beforeExpr:!0},ro={binop:3,beforeExpr:!0},uo={binop:4,beforeExpr:!0},fo={binop:5,beforeExpr:!0},eo={binop:6,beforeExpr:!0},oo={binop:7,beforeExpr:!0},so={binop:8,beforeExpr:!0},ho={binop:10,beforeExpr:!0};n.tokTypes={bracketL:wi,bracketR:bi,braceL:yt,braceR:at,parenL:g,parenR:d,comma:ut,semi:nt,colon:pt,dot:gr,question:nu,slash:tu,eq:iu,name:lt,eof:yi,num:fi,regexp:ar,string:vi};for(ru in dr)n.tokTypes["_"+ru]=dr[ru];var bt,co=dt("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),lo=dt("class enum extends super const export import"),kf=dt("implements interface let package private protected public static yield"),ki=dt("eval arguments"),ao=dt("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),vo=/[\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/,df="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",gf=new RegExp("["+df+"]"),yo=new RegExp("["+df+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),uu=/[\n\r\u2028\u2029]/,kt=/\r\n|[\n\r\u2028\u2029]/g,di=n.isIdentifierStart=function(n){return 65>n?36===n:91>n?!0:97>n?95===n:123>n?!0:n>=170&&gf.test(String.fromCharCode(n))},ne=n.isIdentifierChar=function(n){return 48>n?36===n:58>n?!0:65>n?!1:91>n?!0:97>n?95===n:123>n?!0:n>=170&&yo.test(String.fromCharCode(n))},fu={kind:"loop"},po={kind:"switch"}});var e={"+":"_add","-":"_subtract","*":"_multiply","/":"_divide","%":"_modulo","==":"equals","!=":"equals"},o={"-":"_negate","+":null},i=Base.each(["add","subtract","multiply","divide","modulo","negate"],function(n){this["_"+n]="#"+n},{});return paper.Point.inject(i),paper.Size.inject(i),paper.Color.inject(i),document.readyState==="complete"?setTimeout(u):paper.DomEvent.add(window,{load:u}),PaperScript={compile:compile,evaluate:r,load:u,lineNumberBase:0}}(this);
/*! Socket.IO.js build:0.9.16, development. Copyright(c) 2011 LearnBoost <dev@learnboost.com> MIT Licensed */
io="undefined"==typeof module?{}:module.exports,function(){if(function(n,t){var i=n;i.version="0.9.16";i.protocol=1;i.transports=[];i.j=[];i.sockets={};i.connect=function(n,r){var u=i.util.parseUri(n),o,f,e;return t&&t.location&&(u.protocol=u.protocol||t.location.protocol.slice(0,-1),u.host=u.host||(t.document?t.document.domain:t.location.hostname),u.port=u.port||t.location.port),o=i.util.uniqueUri(u),e={host:u.host,secure:"https"==u.protocol,port:u.port||("https"==u.protocol?443:80),query:u.query||""},i.util.merge(e,r),(e["force new connection"]||!i.sockets[o])&&(f=new i.Socket(e)),!e["force new connection"]&&f&&(i.sockets[o]=f),f=f||i.sockets[o],f.of(u.path.length>1?u.path:"")}}("object"==typeof module?module.exports:this.io={},this),function(n,t){var i=n.util={},u=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,f=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],r;i.parseUri=function(n){for(var r=u.exec(n||""),i={},t=14;t--;)i[f[t]]=r[t]||"";return i};i.uniqueUri=function(n){var u=n.protocol,i=n.host,r=n.port;return"document"in t?(i=i||document.domain,r=r||(u=="https"&&document.location.protocol!=="https:"?443:document.location.port)):(i=i||"localhost",r||u!="https"||(r=443)),(u||"http")+"://"+i+":"+(r||80)};i.query=function(n,t){var r=i.chunkQuery(n||""),f=[],u;i.merge(r,i.chunkQuery(t||""));for(u in r)r.hasOwnProperty(u)&&f.push(u+"="+r[u]);return f.length?"?"+f.join("&"):""};i.chunkQuery=function(n){for(var r={},u=n.split("&"),i=0,f=u.length,t;i<f;++i)t=u[i].split("="),t[0]&&(r[t[0]]=t[1]);return r};r=!1;i.load=function(n){if("document"in t&&document.readyState==="complete"||r)return n();i.on(t,"load",n,!1)};i.on=function(n,t,i,r){n.attachEvent?n.attachEvent("on"+t,i):n.addEventListener&&n.addEventListener(t,i,r)};i.request=function(n){if(n&&"undefined"!=typeof XDomainRequest&&!i.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!n||i.ua.hasCORS))return new XMLHttpRequest;if(!n)try{return new window[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(t){}return null};"undefined"!=typeof window&&i.load(function(){r=!0});i.defer=function(n){if(!i.ua.webkit||"undefined"!=typeof importScripts)return n();i.load(function(){setTimeout(n,100)})};i.merge=function(n,t,r,u){var e=u||[],o=typeof r=="undefined"?2:r;for(var f in t)t.hasOwnProperty(f)&&i.indexOf(e,f)<0&&(typeof n[f]=="object"&&o?i.merge(n[f],t[f],o-1,e):(n[f]=t[f],e.push(t[f])));return n};i.mixin=function(n,t){i.merge(n.prototype,t.prototype)};i.inherit=function(n,t){function i(){}i.prototype=t.prototype;n.prototype=new i};i.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};i.intersect=function(n,t){for(var f=[],e=n.length>t.length?n:t,u=n.length>t.length?t:n,r=0,o=u.length;r<o;r++)~i.indexOf(e,u[r])&&f.push(u[r]);return f};i.indexOf=function(n,t,i){for(var r=n.length,i=i<0?i+r<0?0:i+r:i||0;i<r&&n[i]!==t;i++);return r<=i?-1:i};i.toArray=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t]);return i};i.ua={};i.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var n=new XMLHttpRequest}catch(t){return!1}return n.withCredentials!=undefined}();i.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent);i.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(n,t){function i(){}n.EventEmitter=i;i.prototype.on=function(n,i){return this.$events||(this.$events={}),this.$events[n]?t.util.isArray(this.$events[n])?this.$events[n].push(i):this.$events[n]=[this.$events[n],i]:this.$events[n]=i,this};i.prototype.addListener=i.prototype.on;i.prototype.once=function(n,t){function i(){r.removeListener(n,i);t.apply(this,arguments)}var r=this;i.listener=t;this.on(n,i);return this};i.prototype.removeListener=function(n,i){var r,f,u,e;if(this.$events&&this.$events[n])if(r=this.$events[n],t.util.isArray(r)){for(f=-1,u=0,e=r.length;u<e;u++)if(r[u]===i||r[u].listener&&r[u].listener===i){f=u;break}if(f<0)return this;r.splice(f,1);r.length||delete this.$events[n]}else(r===i||r.listener&&r.listener===i)&&delete this.$events[n];return this};i.prototype.removeAllListeners=function(n){return n===undefined?(this.$events={},this):(this.$events&&this.$events[n]&&(this.$events[n]=null),this)};i.prototype.listeners=function(n){return this.$events||(this.$events={}),this.$events[n]||(this.$events[n]=[]),t.util.isArray(this.$events[n])||(this.$events[n]=[this.$events[n]]),this.$events[n]};i.prototype.emit=function(n){var i,u,f,r,e;if(!this.$events||(i=this.$events[n],!i))return!1;if(u=Array.prototype.slice.call(arguments,1),"function"==typeof i)i.apply(this,u);else if(t.util.isArray(i))for(f=i.slice(),r=0,e=f.length;r<e;r++)f[r].apply(this,u);else return!1;return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(n,t){"use strict";function u(n){return n<10?"0"+n:n}function l(n){return isFinite(n.valueOf())?n.getUTCFullYear()+"-"+u(n.getUTCMonth()+1)+"-"+u(n.getUTCDate())+"T"+u(n.getUTCHours())+":"+u(n.getUTCMinutes())+":"+u(n.getUTCSeconds())+"Z":null}function c(n){return h.lastIndex=0,h.test(n)?'"'+n.replace(h,function(n){var t=a[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function e(n,t){var o,a,s,v,y=i,h,u=t[n];u instanceof Date&&(u=l(n));typeof r=="function"&&(u=r.call(t,n,u));switch(typeof u){case"string":return c(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(i+=f,h=[],Object.prototype.toString.apply(u)==="[object Array]"){for(v=u.length,o=0;o<v;o+=1)h[o]=e(o,u)||"null";return s=h.length===0?"[]":i?"[\n"+i+h.join(",\n"+i)+"\n"+y+"]":"["+h.join(",")+"]",i=y,s}if(r&&typeof r=="object")for(v=r.length,o=0;o<v;o+=1)typeof r[o]=="string"&&(a=r[o],s=e(a,u),s&&h.push(c(a)+(i?": ":":")+s));else for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(s=e(a,u),s&&h.push(c(a)+(i?": ":":")+s));return s=h.length===0?"{}":i?"{\n"+i+h.join(",\n"+i)+"\n"+y+"}":"{"+h.join(",")+"}",i=y,s}}var o;if(t&&t.parse)return n.JSON={parse:t.parse,stringify:t.stringify};o=n.JSON={};var s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,f,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;o.stringify=function(n,t,u){var o;if(i="",f="",typeof u=="number")for(o=0;o<u;o+=1)f+=" ";else typeof u=="string"&&(f=u);if(r=t,t&&typeof t!="function"&&(typeof t!="object"||typeof t.length!="number"))throw new Error("JSON.stringify");return e("",{"":n})};o.parse=function(text,reviver){function walk(n,t){var r,u,i=n[t];if(i&&typeof i=="object")for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(u=walk(i,r),u!==undefined?i[r]=u:delete i[r]);return reviver.call(n,t,i)}var j;if(text=String(text),s.lastIndex=0,s.test(text)&&(text=text.replace(s,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse");}}("undefined"!=typeof io?io:module.exports,typeof JSON!="undefined"?JSON:undefined),function(n,t){var i=n.parser={},f=i.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],e=i.reasons=["transport not supported","client not handshaken","unauthorized"],o=i.advice=["reconnect"],r=t.JSON,u=t.util.indexOf,s;i.encodePacket=function(n){var l=u(f,n.type),a=n.id||"",v=n.endpoint||"",y=n.ack,t=null,s,i,h,c;switch(n.type){case"error":s=n.reason?u(e,n.reason):"";i=n.advice?u(o,n.advice):"";(s!==""||i!=="")&&(t=s+(i!==""?"+"+i:""));break;case"message":n.data!==""&&(t=n.data);break;case"event":h={name:n.name};n.args&&n.args.length&&(h.args=n.args);t=r.stringify(h);break;case"json":t=r.stringify(n.data);break;case"connect":n.qs&&(t=n.qs);break;case"ack":t=n.ackId+(n.args&&n.args.length?"+"+r.stringify(n.args):"")}return c=[l,a+(y=="data"?"+":""),v],t!==null&&t!==undefined&&c.push(t),c.join(":")};i.encodePayload=function(n){var i="",t,r,u;if(n.length==1)return n[0];for(t=0,r=n.length;t<r;t++)u=n[t],i+="�"+u.length+"�"+n[t];return i};s=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;i.decodePacket=function(n){var i=n.match(s),u;if(!i)return{};var h=i[2]||"",n=i[5]||"",t={type:f[i[1]],endpoint:i[4]||""};h&&(t.id=h,t.ack=i[3]?"data":!0);switch(t.type){case"error":i=n.split("+");t.reason=e[i[0]]||"";t.advice=o[i[1]]||"";break;case"message":t.data=n||"";break;case"event":try{u=r.parse(n);t.name=u.name;t.args=u.args}catch(c){}t.args=t.args||[];break;case"json":try{t.data=r.parse(n)}catch(c){}break;case"connect":t.qs=n||"";break;case"ack":if(i=n.match(/^([0-9]+)(\+)?(.*)/),i&&(t.ackId=i[1],t.args=[],i[3]))try{t.args=i[3]?r.parse(i[3]):[]}catch(c){}}return t};i.decodePayload=function(n){var u,t,r;if(n.charAt(0)=="�"){for(u=[],t=1,r="";t<n.length;t++)n.charAt(t)=="�"?(u.push(i.decodePacket(n.substr(t+1).substr(0,r))),t+=Number(r)+1,r=""):r+=n.charAt(t);return u}return[i.decodePacket(n)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(n,t){function i(n,t){this.socket=n;this.sessid=t}n.Transport=i;t.util.mixin(i,t.EventEmitter);i.prototype.heartbeats=function(){return!0};i.prototype.onData=function(n){var i,r,u;if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),n!==""&&(i=t.parser.decodePayload(n),i&&i.length))for(r=0,u=i.length;r<u;r++)this.onPacket(i[r]);return this};i.prototype.onPacket=function(n){if(this.socket.setHeartbeatTimeout(),n.type=="heartbeat")return this.onHeartbeat();n.type=="connect"&&n.endpoint==""&&this.onConnect();n.type=="error"&&n.advice=="reconnect"&&(this.isOpen=!1);this.socket.onPacket(n);return this};i.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var n=this;this.closeTimeout=setTimeout(function(){n.onDisconnect()},this.socket.closeTimeout)}};i.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this};i.prototype.onConnect=function(){return this.socket.onConnect(),this};i.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)};i.prototype.clearTimeouts=function(){this.clearCloseTimeout();this.reopenTimeout&&clearTimeout(this.reopenTimeout)};i.prototype.packet=function(n){this.send(t.parser.encodePacket(n))};i.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})};i.prototype.onOpen=function(){this.isOpen=!0;this.clearCloseTimeout();this.socket.onOpen()};i.prototype.onClose=function(){var n=this;this.isOpen=!1;this.socket.onClose();this.onDisconnect()};i.prototype.prepareUrl=function(){var n=this.socket.options;return this.scheme()+"://"+n.host+":"+n.port+"/"+n.resource+"/"+t.protocol+"/"+this.name+"/"+this.sessid};i.prototype.ready=function(n,t){t.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(n,t,i){function r(n){if(this.options={port:80,secure:!1,document:"document"in i?document:!1,resource:"socket.io",transports:t.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},t.util.merge(this.options,n),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||t.util.ua.hasCORS)){var r=this;t.util.on(i,"beforeunload",function(){r.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function u(){}n.Socket=r;t.util.mixin(r,t.EventEmitter);r.prototype.of=function(n){return this.namespaces[n]||(this.namespaces[n]=new t.SocketNamespace(this,n),n!==""&&this.namespaces[n].packet({type:"connect"})),this.namespaces[n]};r.prototype.publish=function(){var n,t;this.emit.apply(this,arguments);for(t in this.namespaces)this.namespaces.hasOwnProperty(t)&&(n=this.of(t),n.$emit.apply(n,arguments))};r.prototype.handshake=function(n){function s(t){if(t instanceof Error){r.connecting=!1;r.onError(t.message)}else n.apply(null,t.split(":"))}var r=this,e=this.options,h=["http"+(e.secure?"s":"")+":/",e.host+":"+e.port,e.resource,t.protocol,t.util.query(this.options.query,"t="+ +new Date)].join("/"),o,f,i;this.isXDomain()&&!t.util.ua.hasCORS?(o=document.getElementsByTagName("script")[0],f=document.createElement("script"),f.src=h+"&jsonp="+t.j.length,o.parentNode.insertBefore(f,o),t.j.push(function(n){s(n);f.parentNode.removeChild(f)})):(i=t.util.request(),i.open("GET",h,!0),this.isXDomain()&&(i.withCredentials=!0),i.onreadystatechange=function(){if(i.readyState==4)if(i.onreadystatechange=u,i.status==200)s(i.responseText);else if(i.status==403)r.onError(i.responseText);else r.connecting=!1,r.reconnecting||r.onError(i.responseText)},i.send(null))};r.prototype.getTransport=function(n){for(var u=n||this.transports,r=0,i;i=u[r];r++)if(t.Transport[i]&&t.Transport[i].check(this)&&(!this.isXDomain()||t.Transport[i].xdomainCheck(this)))return new t.Transport[i](this,this.sessionid);return null};r.prototype.connect=function(n){if(this.connecting)return this;var i=this;return i.connecting=!0,this.handshake(function(r,u,f,e){function o(n){if(i.transport&&i.transport.clearTimeouts(),i.transport=i.getTransport(n),!i.transport)return i.publish("connect_failed");i.transport.ready(i,function(){i.connecting=!0;i.publish("connecting",i.transport.name);i.transport.open();i.options["connect timeout"]&&(i.connectTimeoutTimer=setTimeout(function(){if(!i.connected&&(i.connecting=!1,i.options["try multiple transports"])){for(var n=i.transports;n.length>0&&n.splice(0,1)[0]!=i.transport.name;);n.length?o(n):i.publish("connect_failed")}},i.options["connect timeout"]))})}i.sessionid=r;i.closeTimeout=f*1e3;i.heartbeatTimeout=u*1e3;i.transports||(i.transports=i.origTransports=e?t.util.intersect(e.split(","),i.options.transports):i.options.transports);i.setHeartbeatTimeout();o(i.transports);i.once("connect",function(){clearTimeout(i.connectTimeoutTimer);n&&typeof n=="function"&&n()})}),this};r.prototype.setHeartbeatTimeout=function(){if(clearTimeout(this.heartbeatTimeoutTimer),!this.transport||this.transport.heartbeats()){var n=this;this.heartbeatTimeoutTimer=setTimeout(function(){n.transport.onClose()},this.heartbeatTimeout)}};r.prototype.packet=function(n){return this.connected&&!this.doBuffer?this.transport.packet(n):this.buffer.push(n),this};r.prototype.setBuffer=function(n){this.doBuffer=n;!n&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())};r.prototype.flushBuffer=function(){this.transport.payload(this.buffer);this.buffer=[]};r.prototype.disconnect=function(){if(this.connected||this.connecting){this.open&&this.of("").packet({type:"disconnect"});this.onDisconnect("booted")}return this};r.prototype.disconnectSync=function(){var n=t.util.request(),i=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,t.protocol,"",this.sessionid].join("/")+"/?disconnect=1";n.open("GET",i,!1);n.send(null);this.onDisconnect("booted")};r.prototype.isXDomain=function(){var n=i.location.port||("https:"==i.location.protocol?443:80);return this.options.host!==i.location.hostname||this.options.port!=n};r.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))};r.prototype.onOpen=function(){this.open=!0};r.prototype.onClose=function(){this.open=!1;clearTimeout(this.heartbeatTimeoutTimer)};r.prototype.onPacket=function(n){this.of(n.endpoint).onPacket(n)};r.prototype.onError=function(n){n&&n.advice&&n.advice==="reconnect"&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect());this.publish("error",n&&n.reason?n.reason:n)};r.prototype.onDisconnect=function(n){var t=this.connected,i=this.connecting;this.connected=!1;this.connecting=!1;this.open=!1;(t||i)&&(this.transport.close(),this.transport.clearTimeouts(),t&&(this.publish("disconnect",n),"booted"!=n&&this.options.reconnect&&!this.reconnecting&&this.reconnect()))};r.prototype.reconnect=function(){function i(){if(n.connected){for(var i in n.namespaces)n.namespaces.hasOwnProperty(i)&&""!==i&&n.namespaces[i].packet({type:"connect"});n.publish("reconnect",n.transport.name,n.reconnectionAttempts)}clearTimeout(n.reconnectionTimer);n.removeListener("connect_failed",t);n.removeListener("connect",t);n.reconnecting=!1;delete n.reconnectionAttempts;delete n.reconnectionDelay;delete n.reconnectionTimer;delete n.redoTransports;n.options["try multiple transports"]=u}function t(){if(n.reconnecting){if(n.connected)return i();if(n.connecting&&n.reconnecting)return n.reconnectionTimer=setTimeout(t,1e3);if(n.reconnectionAttempts++>=r)if(n.redoTransports)n.publish("reconnect_failed"),i();else{n.on("connect_failed",t);n.options["try multiple transports"]=!0;n.transports=n.origTransports;n.transport=n.getTransport();n.redoTransports=!0;n.connect()}else n.reconnectionDelay<f&&(n.reconnectionDelay*=2),n.connect(),n.publish("reconnecting",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(t,n.reconnectionDelay)}}this.reconnecting=!0;this.reconnectionAttempts=0;this.reconnectionDelay=this.options["reconnection delay"];var n=this,r=this.options["max reconnection attempts"],u=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1;this.reconnectionTimer=setTimeout(t,this.reconnectionDelay);this.on("connect",t)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(n,t){function i(n,t){this.socket=n;this.name=t||"";this.flags={};this.json=new r(this,"json");this.ackPackets=0;this.acks={}}function r(n,t){this.namespace=n;this.name=t}n.SocketNamespace=i;t.util.mixin(i,t.EventEmitter);i.prototype.$emit=t.EventEmitter.prototype.emit;i.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)};i.prototype.packet=function(n){return n.endpoint=this.name,this.socket.packet(n),this.flags={},this};i.prototype.send=function(n,t){var i={type:this.flags.json?"json":"message",data:n};return"function"==typeof t&&(i.id=++this.ackPackets,i.ack=!0,this.acks[i.id]=t),this.packet(i)};i.prototype.emit=function(n){var t=Array.prototype.slice.call(arguments,1),r=t[t.length-1],i={type:"event",name:n};return"function"==typeof r&&(i.id=++this.ackPackets,i.ack="data",this.acks[i.id]=r,t=t.slice(0,t.length-1)),i.args=t,this.packet(i)};i.prototype.disconnect=function(){return this.name===""?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this};i.prototype.onPacket=function(n){function r(){u.packet({type:"ack",args:t.util.toArray(arguments),ackId:n.id})}var u=this,i;switch(n.type){case"connect":this.$emit("connect");break;case"disconnect":if(this.name==="")this.socket.onDisconnect(n.reason||"booted");else this.$emit("disconnect",n.reason);break;case"message":case"json":i=["message",n.data];n.ack=="data"?i.push(r):n.ack&&this.packet({type:"ack",ackId:n.id});this.$emit.apply(this,i);break;case"event":i=[n.name].concat(n.args);n.ack=="data"&&i.push(r);this.$emit.apply(this,i);break;case"ack":this.acks[n.ackId]&&(this.acks[n.ackId].apply(this,n.args),delete this.acks[n.ackId]);break;case"error":if(n.advice)this.socket.onError(n);else n.reason=="unauthorized"?this.$emit("connect_failed",n.reason):this.$emit("error",n.reason)}};r.prototype.send=function(){this.namespace.flags[this.name]=!0;this.namespace.send.apply(this.namespace,arguments)};r.prototype.emit=function(){this.namespace.flags[this.name]=!0;this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(n,t,i){function r(){t.Transport.apply(this,arguments)}n.websocket=r;t.util.inherit(r,t.Transport);r.prototype.name="websocket";r.prototype.open=function(){var u=t.util.query(this.socket.options.query),n=this,r;return r||(r=i.MozWebSocket||i.WebSocket),this.websocket=new r(this.prepareUrl()+u),this.websocket.onopen=function(){n.onOpen();n.socket.setBuffer(!1)},this.websocket.onmessage=function(t){n.onData(t.data)},this.websocket.onclose=function(){n.onClose();n.socket.setBuffer(!0)},this.websocket.onerror=function(t){n.onError(t)},this};r.prototype.send=t.util.ua.iDevice?function(n){var t=this;return setTimeout(function(){t.websocket.send(n)},0),this}:function(n){return this.websocket.send(n),this};r.prototype.payload=function(n){for(var t=0,i=n.length;t<i;t++)this.packet(n[t]);return this};r.prototype.close=function(){return this.websocket.close(),this};r.prototype.onError=function(n){this.socket.onError(n)};r.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"};r.check=function(){return"WebSocket"in i&&!("__addTask"in WebSocket)||"MozWebSocket"in i};r.xdomainCheck=function(){return!0};t.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,i){function r(){i.Transport.websocket.apply(this,arguments)}t.flashsocket=r;i.util.inherit(r,i.Transport.websocket);r.prototype.name="flashsocket";r.prototype.open=function(){var n=this,t=arguments;return WebSocket.__addTask(function(){i.Transport.websocket.prototype.open.apply(n,t)}),this};r.prototype.send=function(){var n=this,t=arguments;return WebSocket.__addTask(function(){i.Transport.websocket.prototype.send.apply(n,t)}),this};r.prototype.close=function(){return WebSocket.__tasks.length=0,i.Transport.websocket.prototype.close.call(this),this};r.prototype.ready=function(n,t){function u(){var i=n.options,u=i["flash policy port"],e=["http"+(i.secure?"s":"")+":/",i.host+":"+i.port,i.resource,"static/flashsocket","WebSocketMain"+(n.isXDomain()?"Insecure":"")+".swf"];r.loaded||(typeof WEB_SOCKET_SWF_LOCATION=="undefined"&&(WEB_SOCKET_SWF_LOCATION=e.join("/")),u!==843&&WebSocket.loadFlashPolicyFile("xmlsocket://"+i.host+":"+u),WebSocket.__initialize(),r.loaded=!0);t.call(f)}var f=this;if(document.body)return u();i.util.load(u)};r.check=function(){return typeof WebSocket=="undefined"||!("__initialize"in WebSocket)||!n?!1:n.getFlashPlayerVersion().major>=10};r.xdomainCheck=function(){return!0};typeof window!="undefined"&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0);i.transports.push("flashsocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),"undefined"!=typeof window)var n=function(){function y(){var t,r,n;if(!l){try{t=i.getElementsByTagName("body")[0].appendChild(c("span"));t.parentNode.removeChild(t)}catch(u){return}for(l=!0,r=b.length,n=0;n<r;n++)b[n]()}}function pt(n){l?n():b[b.length]=n}function wt(n){if(typeof u.addEventListener!=r)u.addEventListener("load",n,!1);else if(typeof i.addEventListener!=r)i.addEventListener("load",n,!1);else if(typeof u.attachEvent!=r)fi(u,"onload",n);else if(typeof u.onload=="function"){var t=u.onload;u.onload=function(){t();n()}}else u.onload=n}function ni(){at?ti():rt()}function ti(){var o=i.getElementsByTagName("body")[0],u=c(e),n,f;u.setAttribute("type",w);n=o.appendChild(u);n?(f=0,function(){if(typeof n.GetVariable!=r){var i=n.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),t.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(f<10){f++;setTimeout(arguments.callee,10);return}o.removeChild(u);n=null;rt()}()):rt()}function rt(){var y=h.length,i,n,s,c,v;if(y>0)for(i=0;i<y;i++){var u=h[i].id,e=h[i].callbackFn,o={success:!1,id:u};if(t.pv[0]>0){if(n=f(u),n)if(!nt(h[i].swfVersion)||t.wk&&t.wk<312)if(h[i].expressInstall&&ft()){s={};s.data=h[i].expressInstall;s.width=n.getAttribute("width")||"0";s.height=n.getAttribute("height")||"0";n.getAttribute("class")&&(s.styleclass=n.getAttribute("class"));n.getAttribute("align")&&(s.align=n.getAttribute("align"));var p={},l=n.getElementsByTagName("param"),w=l.length;for(c=0;c<w;c++)l[c].getAttribute("name").toLowerCase()!="movie"&&(p[l[c].getAttribute("name")]=l[c].getAttribute("value"));et(s,p,u,e)}else ii(n),e&&e(o);else a(u,!0),e&&(o.success=!0,o.ref=ut(u),e(o))}else a(u,!0),e&&(v=ut(u),v&&typeof v.SetVariable!=r&&(o.success=!0,o.ref=v),e(o))}}function ut(n){var i=null,t=f(n),u;return t&&t.nodeName=="OBJECT"&&(typeof t.SetVariable!=r?i=t:(u=t.getElementsByTagName(e)[0],u&&(i=u))),i}function ft(){return!g&&nt("6.0.65")&&(t.win||t.mac)&&!(t.wk&&t.wk<312)}function et(n,e,o,s){var h,v,l,a;g=!0;tt=s||null;vt={success:!1,id:o};h=f(o);h&&(h.nodeName=="OBJECT"?(p=ot(h),d=null):(p=h,d=o),n.id=ct,(typeof n.width==r||!/%$/.test(n.width)&&parseInt(n.width,10)<310)&&(n.width="310"),(typeof n.height==r||!/%$/.test(n.height)&&parseInt(n.height,10)<137)&&(n.height="137"),i.title=i.title.slice(0,47)+" - Flash Player Installation",v=t.ie&&t.win?["Active"].concat("").join("X"):"PlugIn",l="MMredirectURL="+u.location.toString().replace(/&/g,"%26")+"&MMplayerType="+v+"&MMdoctitle="+i.title,typeof e.flashvars!=r?e.flashvars+="&"+l:e.flashvars=l,t.ie&&t.win&&h.readyState!=4&&(a=c("div"),o+="SWFObjectNew",a.setAttribute("id",o),h.parentNode.insertBefore(a,h),h.style.display="none",function(){h.readyState==4?h.parentNode.removeChild(h):setTimeout(arguments.callee,10)}()),st(n,e,o))}function ii(n){if(t.ie&&t.win&&n.readyState!=4){var i=c("div");n.parentNode.insertBefore(i,n);i.parentNode.replaceChild(ot(n),i);n.style.display="none",function(){n.readyState==4?n.parentNode.removeChild(n):setTimeout(arguments.callee,10)}()}else n.parentNode.replaceChild(ot(n),n)}function ot(n){var u=c("div"),f,i,o,r;if(t.win&&t.ie)u.innerHTML=n.innerHTML;else if(f=n.getElementsByTagName(e)[0],f&&(i=f.childNodes,i))for(o=i.length,r=0;r<o;r++)i[r].nodeType==1&&i[r].nodeName=="PARAM"||i[r].nodeType==8||u.appendChild(i[r].cloneNode(!0));return u}function st(n,i,u){var v,y=f(u),p,o,b,a,h,s,l;if(t.wk&&t.wk<312)return v;if(y)if(typeof n.id==r&&(n.id=u),t.ie&&t.win){p="";for(o in n)n[o]!=Object.prototype[o]&&(o.toLowerCase()=="data"?i.movie=n[o]:o.toLowerCase()=="styleclass"?p+=' class="'+n[o]+'"':o.toLowerCase()!="classid"&&(p+=" "+o+'="'+n[o]+'"'));b="";for(a in i)i[a]!=Object.prototype[a]&&(b+='<param name="'+a+'" value="'+i[a]+'" />');y.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+p+">"+b+"<\/object>";k[k.length]=n.id;v=f(n.id)}else{h=c(e);h.setAttribute("type",w);for(s in n)n[s]!=Object.prototype[s]&&(s.toLowerCase()=="styleclass"?h.setAttribute("class",n[s]):s.toLowerCase()!="classid"&&h.setAttribute(s,n[s]));for(l in i)i[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"&&ri(h,l,i[l]);y.parentNode.replaceChild(h,y);v=h}return v}function ri(n,t,i){var r=c("param");r.setAttribute("name",t);r.setAttribute("value",i);n.appendChild(r)}function bt(n){var i=f(n);i&&i.nodeName=="OBJECT"&&(t.ie&&t.win?(i.style.display="none",function(){i.readyState==4?ui(n):setTimeout(arguments.callee,10)}()):i.parentNode.removeChild(i))}function ui(n){var t=f(n),i;if(t){for(i in t)typeof t[i]=="function"&&(t[i]=null);t.parentNode.removeChild(t)}}function f(n){var t=null;try{t=i.getElementById(n)}catch(r){}return t}function c(n){return i.createElement(n)}function fi(n,t,i){n.attachEvent(t,i);v[v.length]=[n,t,i]}function nt(n){var r=t.pv,i=n.split(".");return i[0]=parseInt(i[0],10),i[1]=parseInt(i[1],10)||0,i[2]=parseInt(i[2],10)||0,r[0]>i[0]||r[0]==i[0]&&r[1]>i[1]||r[0]==i[0]&&r[1]==i[1]&&r[2]>=i[2]?!0:!1}function kt(n,u,f,s){var a,h,l;t.ie&&t.mac||(a=i.getElementsByTagName("head")[0],a)&&(h=f&&typeof f=="string"?f:"screen",s&&(o=null,it=null),o&&it==h||(l=c("style"),l.setAttribute("type","text/css"),l.setAttribute("media",h),o=a.appendChild(l),t.ie&&t.win&&typeof i.styleSheets!=r&&i.styleSheets.length>0&&(o=i.styleSheets[i.styleSheets.length-1]),it=h),t.ie&&t.win?o&&typeof o.addRule==e&&o.addRule(n,u):o&&typeof i.createTextNode!=r&&o.appendChild(i.createTextNode(n+" {"+u+"}")))}function a(n,t){if(yt){var i=t?"visible":"hidden";l&&f(n)?f(n).style.visibility=i:kt("#"+n,"visibility:"+i)}}function dt(n){var t=/[\\\"<>\.;]/.exec(n)!=null;return t&&typeof encodeURIComponent!=r?encodeURIComponent(n):n}var r="undefined",e="object",ht="Shockwave Flash",gt="ShockwaveFlash.ShockwaveFlash",w="application/x-shockwave-flash",ct="SWFObjectExprInst",lt="onreadystatechange",u=window,i=document,s=navigator,at=!1,b=[ni],h=[],k=[],v=[],p,d,tt,vt,l=!1,g=!1,o,it,yt=!0,t=function(){var l=typeof i.getElementById!=r&&typeof i.getElementsByTagName!=r&&typeof i.createElement!=r,f=s.userAgent.toLowerCase(),o=s.platform.toLowerCase(),a=o?/win/.test(o):/win/.test(f),v=o?/mac/.test(o):/mac/.test(f),y=/webkit/.test(f)?parseFloat(f.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,h=!+"\v1",t=[0,0,0],n=null,c;if(typeof s.plugins!=r&&typeof s.plugins[ht]==e)n=s.plugins[ht].description,!n||typeof s.mimeTypes!=r&&s.mimeTypes[w]&&!s.mimeTypes[w].enabledPlugin||(at=!0,h=!1,n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),t[0]=parseInt(n.replace(/^(.*)\..*$/,"$1"),10),t[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10),t[2]=/[a-zA-Z]/.test(n)?parseInt(n.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof u[["Active"].concat("Object").join("X")]!=r)try{c=new window[["Active"].concat("Object").join("X")](gt);c&&(n=c.GetVariable("$version"),n&&(h=!0,n=n.split(" ")[1].split(","),t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]))}catch(p){}return{w3:l,pv:t,wk:y,ie:h,win:a,mac:v}}(),ei=function(){t.w3&&((typeof i.readyState!=r&&i.readyState=="complete"||typeof i.readyState==r&&(i.getElementsByTagName("body")[0]||i.body))&&y(),l||(typeof i.addEventListener!=r&&i.addEventListener("DOMContentLoaded",y,!1),t.ie&&t.win&&(i.attachEvent(lt,function(){i.readyState=="complete"&&(i.detachEvent(lt,arguments.callee),y())}),u==top&&function(){if(!l){try{i.documentElement.doScroll("left")}catch(n){setTimeout(arguments.callee,0);return}y()}}()),t.wk&&function(){if(!l){if(!/loaded|complete/.test(i.readyState)){setTimeout(arguments.callee,0);return}y()}}(),wt(y)))}(),oi=function(){t.ie&&t.win&&window.attachEvent("onunload",function(){for(var u,r,f,e,o=v.length,i=0;i<o;i++)v[i][0].detachEvent(v[i][1],v[i][2]);for(u=k.length,r=0;r<u;r++)bt(k[r]);for(f in t)t[f]=null;t=null;for(e in n)n[e]=null;n=null})}();return{registerObject:function(n,i,r,u){if(t.w3&&n&&i){var f={};f.id=n;f.swfVersion=i;f.expressInstall=r;f.callbackFn=u;h[h.length]=f;a(n,!1)}else u&&u({success:!1,id:n})},getObjectById:function(n){if(t.w3)return ut(n)},embedSWF:function(n,i,u,f,o,s,h,c,l,v){var y={success:!1,id:i};t.w3&&!(t.wk&&t.wk<312)&&n&&i&&u&&f&&o?(a(i,!1),pt(function(){var t,b,p,k,w,d;if(u+="",f+="",t={},l&&typeof l===e)for(b in l)t[b]=l[b];if(t.data=n,t.width=u,t.height=f,p={},c&&typeof c===e)for(k in c)p[k]=c[k];if(h&&typeof h===e)for(w in h)typeof p.flashvars!=r?p.flashvars+="&"+w+"="+h[w]:p.flashvars=w+"="+h[w];if(nt(o))d=st(t,p,i),t.id==i&&a(i,!0),y.success=!0,y.ref=d;else{if(s&&ft()){t.data=s;et(t,p,i,v);return}a(i,!0)}v&&v(y)})):v&&v(y)},switchOffAutoHideShow:function(){yt=!1},ua:t,getFlashPlayerVersion:function(){return{major:t.pv[0],minor:t.pv[1],release:t.pv[2]}},hasFlashPlayerVersion:nt,createSWF:function(n,i,r){return t.w3?st(n,i,r):undefined},showExpressInstall:function(n,i,r,u){t.w3&&ft()&&et(n,i,r,u)},removeSWF:function(n){t.w3&&bt(n)},createCSS:function(n,i,r,u){t.w3&&kt(n,i,r,u)},addDomLoadEvent:pt,addLoadEvent:wt,getQueryParamValue:function(n){var r=i.location.search||i.location.hash,u,t;if(r){if(/\?/.test(r)&&(r=r.split("?")[1]),n==null)return dt(r);for(u=r.split("&"),t=0;t<u.length;t++)if(u[t].substring(0,u[t].indexOf("="))==n)return dt(u[t].substring(u[t].indexOf("=")+1))}return""},expressInstallCallback:function(){if(g){var n=f(ct);n&&p&&(n.parentNode.replaceChild(p,n),d&&(a(d,!0),t.ie&&t.win&&(p.style.display="block")),tt&&tt(vt));g=!1}}}}();(function(){if("undefined"!=typeof window&&!window.WebSocket){var t=window.console;if(t&&t.log&&t.error||(t={log:function(){},error:function(){}}),!n.hasFlashPlayerVersion("10.0.0")){t.error("Flash Player >= 10.0.0 is required.");return}location.protocol=="file:"&&t.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://...");WebSocket=function(n,t,i,r,u){var f=this;f.__id=WebSocket.__nextId++;WebSocket.__instances[f.__id]=f;f.readyState=WebSocket.CONNECTING;f.bufferedAmount=0;f.__events={};t?typeof t=="string"&&(t=[t]):t=[];setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(f.__id,n,t,i||null,r||0,u||null)})},0)};WebSocket.prototype.send=function(n){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var t=WebSocket.__flash.send(this.__id,encodeURIComponent(n));return t<0?!0:(this.bufferedAmount+=t,!1)};WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))};WebSocket.prototype.addEventListener=function(n,t){n in this.__events||(this.__events[n]=[]);this.__events[n].push(t)};WebSocket.prototype.removeEventListener=function(n,t){var r,i;if(n in this.__events)for(r=this.__events[n],i=r.length-1;i>=0;--i)if(r[i]===t){r.splice(i,1);break}};WebSocket.prototype.dispatchEvent=function(n){for(var i,r=this.__events[n.type]||[],t=0;t<r.length;++t)r[t](n);i=this["on"+n.type];i&&i(n)};WebSocket.prototype.__handleEvent=function(n){var t,i;if("readyState"in n&&(this.readyState=n.readyState),"protocol"in n&&(this.protocol=n.protocol),n.type=="open"||n.type=="error")t=this.__createSimpleEvent(n.type);else if(n.type=="close")t=this.__createSimpleEvent("close");else if(n.type=="message")i=decodeURIComponent(n.message),t=this.__createMessageEvent("message",i);else throw"unknown event type: "+n.type;this.dispatchEvent(t)};WebSocket.prototype.__createSimpleEvent=function(n){if(document.createEvent&&window.Event){var t=document.createEvent("Event");return t.initEvent(n,!1,!1),t}return{type:n,bubbles:!1,cancelable:!1}};WebSocket.prototype.__createMessageEvent=function(n,t){if(document.createEvent&&window.MessageEvent&&!window.opera){var i=document.createEvent("MessageEvent");return i.initMessageEvent("message",!1,!1,t,null,null,window,null),i}return{type:n,data:t,bubbles:!1,cancelable:!1}};WebSocket.CONNECTING=0;WebSocket.OPEN=1;WebSocket.CLOSING=2;WebSocket.CLOSED=3;WebSocket.__flash=null;WebSocket.__instances={};WebSocket.__tasks=[];WebSocket.__nextId=0;WebSocket.loadFlashPolicyFile=function(n){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(n)})};WebSocket.__initialize=function(){var i,r;if(!WebSocket.__flash){if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),!window.WEB_SOCKET_SWF_LOCATION){t.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}i=document.createElement("div");i.id="webSocketContainer";i.style.position="absolute";WebSocket.__isFlashLite()?(i.style.left="0px",i.style.top="0px"):(i.style.left="-100px",i.style.top="-100px");r=document.createElement("div");r.id="webSocketFlash";i.appendChild(r);document.body.appendChild(i);n.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(n){n.success||t.error("[WebSocket] swfobject.embedSWF failed")})}};WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash");WebSocket.__flash.setCallerUrl(location.href);WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var n=0;n<WebSocket.__tasks.length;++n)WebSocket.__tasks[n]();WebSocket.__tasks=[]},0)};WebSocket.__onFlashEvent=function(){return setTimeout(function(){var i,n;try{for(i=WebSocket.__flash.receiveEvents(),n=0;n<i.length;++n)WebSocket.__instances[i[n].webSocketId].__handleEvent(i[n])}catch(r){t.error(r)}},0),!0};WebSocket.__log=function(n){t.log(decodeURIComponent(n))};WebSocket.__error=function(n){t.error(decodeURIComponent(n))};WebSocket.__addTask=function(n){WebSocket.__flash?n():WebSocket.__tasks.push(n)};WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var n=window.navigator.mimeTypes["application/x-shockwave-flash"];return!n||!n.enabledPlugin||!n.enabledPlugin.filename?!1:n.enabledPlugin.filename.match(/flashlite/i)?!0:!1};window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))}})(),function(n,t,i){function r(n){n&&(t.Transport.apply(this,arguments),this.sendBuffer=[])}function u(){}n.XHR=r;t.util.inherit(r,t.Transport);r.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this};r.prototype.payload=function(n){for(var r=[],i=0,u=n.length;i<u;i++)r.push(t.parser.encodePacket(n[i]));this.send(t.parser.encodePayload(r))};r.prototype.send=function(n){return this.post(n),this};r.prototype.post=function(n){function r(){this.readyState==4&&(this.onreadystatechange=u,t.posting=!1,this.status==200?t.socket.setBuffer(!1):t.onClose())}function f(){this.onload=u;t.socket.setBuffer(!1)}var t=this;this.socket.setBuffer(!0);this.sendXHR=this.request("POST");i.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=f:this.sendXHR.onreadystatechange=r;this.sendXHR.send(n)};r.prototype.close=function(){return this.onClose(),this};r.prototype.request=function(n){var i=t.util.request(this.socket.isXDomain()),r=t.util.query(this.socket.options.query,"t="+ +new Date);if(i.open(n||"GET",this.prepareUrl()+r,!0),n=="POST")try{i.setRequestHeader?i.setRequestHeader("Content-type","text/plain;charset=UTF-8"):i.contentType="text/plain"}catch(u){}return i};r.prototype.scheme=function(){return this.socket.options.secure?"https":"http"};r.check=function(n,r){try{var u=t.util.request(r),f=i.XDomainRequest&&u instanceof XDomainRequest,e=n&&n.options&&n.options.secure?"https:":"http:",o=i.location&&e!=i.location.protocol;if(u&&!(f&&o))return!0}catch(s){}return!1};r.xdomainCheck=function(n){return r.check(n,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(n,t){function i(){t.Transport.XHR.apply(this,arguments)}n.htmlfile=i;t.util.inherit(i,t.Transport.XHR);i.prototype.name="htmlfile";i.prototype.get=function(){var n,i,r;this.doc=new window[["Active"].concat("Object").join("X")]("htmlfile");this.doc.open();this.doc.write("<html><\/html>");this.doc.close();this.doc.parentWindow.s=this;n=this.doc.createElement("div");n.className="socketio";this.doc.body.appendChild(n);this.iframe=this.doc.createElement("iframe");n.appendChild(this.iframe);i=this;r=t.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+r;t.util.on(window,"unload",function(){i.destroy()})};i.prototype._=function(n,t){n=n.replace(/\\\//g,"/");this.onData(n);try{var i=t.getElementsByTagName("script")[0];i.parentNode.removeChild(i)}catch(r){}};i.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(n){}this.doc=null;this.iframe.parentNode.removeChild(this.iframe);this.iframe=null;CollectGarbage()}};i.prototype.close=function(){return this.destroy(),t.Transport.XHR.prototype.close.call(this)};i.check=function(n){if(typeof window!="undefined"&&["Active"].concat("Object").join("X")in window)try{var i=new window[["Active"].concat("Object").join("X")]("htmlfile");return i&&t.Transport.XHR.check(n)}catch(r){}return!1};i.xdomainCheck=function(){return!1};t.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(n,t,i){function r(){t.Transport.XHR.apply(this,arguments)}function u(){}n["xhr-polling"]=r;t.util.inherit(r,t.Transport.XHR);t.util.merge(r,t.Transport.XHR);r.prototype.name="xhr-polling";r.prototype.heartbeats=function(){return!1};r.prototype.open=function(){var n=this;return t.Transport.XHR.prototype.open.call(n),!1};r.prototype.get=function(){function t(){if(this.readyState==4)if(this.onreadystatechange=u,this.status==200){n.onData(this.responseText);n.get()}else n.onClose()}function r(){this.onload=u;this.onerror=u;n.retryCounter=1;n.onData(this.responseText);n.get()}function f(){n.retryCounter++;!n.retryCounter||n.retryCounter>3?n.onClose():n.get()}if(this.isOpen){var n=this;this.xhr=this.request();i.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=r,this.xhr.onerror=f):this.xhr.onreadystatechange=t;this.xhr.send(null)}};r.prototype.onClose=function(){if(t.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=u;try{this.xhr.abort()}catch(n){}this.xhr=null}};r.prototype.ready=function(n,i){var r=this;t.util.defer(function(){i.call(r)})};t.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(n,t,i){function r(){t.Transport["xhr-polling"].apply(this,arguments);this.index=t.j.length;var n=this;t.j.push(function(t){n._(t)})}var u=i.document&&"MozAppearance"in i.document.documentElement.style;n["jsonp-polling"]=r;t.util.inherit(r,t.Transport["xhr-polling"]);r.prototype.name="jsonp-polling";r.prototype.post=function(n){function e(){o();r.socket.setBuffer(!1)}function o(){r.iframe&&r.form.removeChild(r.iframe);try{u=document.createElement('<iframe name="'+r.iframeId+'">')}catch(n){u=document.createElement("iframe");u.name=r.iframeId}u.id=r.iframeId;r.form.appendChild(u);r.iframe=u}var r=this,s=t.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var i=document.createElement("form"),f=document.createElement("textarea"),h=this.iframeId="socketio_iframe_"+this.index,u;i.className="socketio";i.style.position="absolute";i.style.top="0px";i.style.left="0px";i.style.display="none";i.target=h;i.method="POST";i.setAttribute("accept-charset","utf-8");f.name="d";i.appendChild(f);document.body.appendChild(i);this.form=i;this.area=f}this.form.action=this.prepareUrl()+s;o();this.area.value=t.JSON.stringify(n);try{this.form.submit()}catch(c){}this.iframe.attachEvent?u.onreadystatechange=function(){r.iframe.readyState=="complete"&&e()}:this.iframe.onload=e;this.socket.setBuffer(!0)};r.prototype.get=function(){var r=this,n=document.createElement("script"),f=t.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index),i;this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);n.async=!0;n.src=this.prepareUrl()+f;n.onerror=function(){r.onClose()};i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i);this.script=n;u&&setTimeout(function(){var n=document.createElement("iframe");document.body.appendChild(n);document.body.removeChild(n)},100)};r.prototype._=function(n){this.onData(n);return this.isOpen&&this.get(),this};r.prototype.ready=function(n,i){var r=this;if(!u)return i.call(this);t.util.load(function(){i.call(r)})};r.check=function(){return"document"in i};r.xdomainCheck=function(){return!0};t.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this);typeof define=="function"&&define.amd&&define([],function(){return io})}();
/*!
* @license SoundJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011-2013 gskinner.com, inc.
*
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/
this.createjs=this.createjs||{},function(){var n=createjs.SoundJS=createjs.SoundJS||{};n.version="0.5.2";n.buildDate="Thu, 12 Dec 2013 23:33:37 GMT"}();this.createjs=this.createjs||{},function(){"use strict";var t=function(){},n=t.prototype;t.initialize=function(t){t.addEventListener=n.addEventListener;t.on=n.on;t.removeEventListener=t.off=n.removeEventListener;t.removeAllEventListeners=n.removeAllEventListeners;t.hasEventListener=n.hasEventListener;t.dispatchEvent=n.dispatchEvent;t._dispatchEvent=n._dispatchEvent;t.willTrigger=n.willTrigger};n._listeners=null;n._captureListeners=null;n.initialize=function(){};n.addEventListener=function(n,t,i){var u,r;return u=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{},r=u[n],r&&this.removeEventListener(n,t,i),r=u[n],r?r.push(t):u[n]=[t],t};n.on=function(n,t,i,r,u,f){return t.handleEvent&&(i=i||t,t=t.handleEvent),i=i||this,this.addEventListener(n,function(n){t.call(i,n,u);r&&n.remove()},f)};n.removeEventListener=function(n,t,i){var f=i?this._captureListeners:this._listeners,r,u,e;if(f&&(r=f[n],r))for(u=0,e=r.length;e>u;u++)if(r[u]==t){1==e?delete f[n]:r.splice(u,1);break}};n.off=n.removeEventListener;n.removeAllEventListeners=function(n){n?(this._listeners&&delete this._listeners[n],this._captureListeners&&delete this._captureListeners[n]):this._listeners=this._captureListeners=null};n.dispatchEvent=function(n,t){var f,r,u,i,e;if("string"==typeof n){if(f=this._listeners,!f||!f[n])return!1;n=new createjs.Event(n)}if(n.target=t||this,n.bubbles&&this.parent){for(r=this,u=[r];r.parent;)u.push(r=r.parent);for(e=u.length,i=e-1;i>=0&&!n.propagationStopped;i--)u[i]._dispatchEvent(n,1+(0==i));for(i=1;e>i&&!n.propagationStopped;i++)u[i]._dispatchEvent(n,3)}else this._dispatchEvent(n,2);return n.defaultPrevented};n.hasEventListener=function(n){var t=this._listeners,i=this._captureListeners;return!!(t&&t[n]||i&&i[n])};n.willTrigger=function(n){for(var t=this;t;){if(t.hasEventListener(n))return!0;t=t.parent}return!1};n.toString=function(){return"[EventDispatcher]"};n._dispatchEvent=function(n,t){var f,e=1==t?this._captureListeners:this._listeners,i,u,r;if(n&&e){if(i=e[n.type],!i||!(f=i.length))return;for(n.currentTarget=this,n.eventPhase=t,n.removed=!1,i=i.slice(),u=0;f>u&&!n.immediatePropagationStopped;u++)r=i[u],r.handleEvent?r.handleEvent(n):r(n),n.removed&&(this.off(n.type,r,1==t),n.removed=!1)}};createjs.EventDispatcher=t}();this.createjs=this.createjs||{},function(){"use strict";var t=function(n,t,i){this.initialize(n,t,i)},n=t.prototype;n.type=null;n.target=null;n.currentTarget=null;n.eventPhase=0;n.bubbles=!1;n.cancelable=!1;n.timeStamp=0;n.defaultPrevented=!1;n.propagationStopped=!1;n.immediatePropagationStopped=!1;n.removed=!1;n.initialize=function(n,t,i){this.type=n;this.bubbles=t;this.cancelable=i;this.timeStamp=(new Date).getTime()};n.preventDefault=function(){this.defaultPrevented=!0};n.stopPropagation=function(){this.propagationStopped=!0};n.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0};n.remove=function(){this.removed=!0};n.clone=function(){return new t(this.type,this.bubbles,this.cancelable)};n.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=t}();this.createjs=this.createjs||{},function(){"use strict";createjs.indexOf=function(n,t){for(var i=0,r=n.length;r>i;i++)if(t===n[i])return i;return-1}}();this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(n,t){var i=Array.prototype.slice.call(arguments,2);return function(){return n.apply(t,Array.prototype.slice.call(arguments,0).concat(i))}}}();this.createjs=this.createjs||{},function(){"use strict";function r(){throw"Sound cannot be instantiated";}function t(n,t){this.init(n,t)}function f(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListeners=this.dispatchEvent=this.hasEventListener=this._listeners=this._interrupt=this._playFailed=this.pause=this.resume=this.play=this._beginPlaying=this._cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=this.playFailed=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=r.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}}function u(){}var n=r,i;n.DELIMITER="|";n.INTERRUPT_ANY="any";n.INTERRUPT_EARLY="early";n.INTERRUPT_LATE="late";n.INTERRUPT_NONE="none";n.PLAY_INITED="playInited";n.PLAY_SUCCEEDED="playSucceeded";n.PLAY_INTERRUPTED="playInterrupted";n.PLAY_FINISHED="playFinished";n.PLAY_FAILED="playFailed";n.SUPPORTED_EXTENSIONS=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"];n.EXTENSION_MAP={m4a:"mp4"};n.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;n.defaultInterruptBehavior=n.INTERRUPT_NONE;n.alternateExtensions=[];n._lastID=0;n.activePlugin=null;n._pluginsRegistered=!1;n._masterVolume=1;n._masterMute=!1;n._instances=[];n._idHash={};n._preloadHash={};n._defaultSoundInstance=null;n.addEventListener=null;n.removeEventListener=null;n.removeAllEventListeners=null;n.dispatchEvent=null;n.hasEventListener=null;n._listeners=null;createjs.EventDispatcher.initialize(n);n._sendFileLoadEvent=function(t){var i,f,u,r;if(n._preloadHash[t])for(i=0,f=n._preloadHash[t].length;f>i;i++)u=n._preloadHash[t][i],(n._preloadHash[t][i]=!0,n.hasEventListener("fileload"))&&(r=new createjs.Event("fileload"),r.src=u.src,r.id=u.id,r.data=u.data,n.dispatchEvent(r))};n.getPreloadHandlers=function(){return{callback:createjs.proxy(n.initLoad,n),types:["sound"],extensions:n.SUPPORTED_EXTENSIONS}};n.registerPlugin=function(t){try{console.log("createjs.Sound.registerPlugin has been deprecated. Please use registerPlugins.")}catch(i){}return n._registerPlugin(t)};n._registerPlugin=function(t){return n._pluginsRegistered=!0,null==t?!1:t.isSupported()?(n.activePlugin=new t,!0):!1};n.registerPlugins=function(t){for(var u,i=0,r=t.length;r>i;i++)if(u=t[i],n._registerPlugin(u))return!0;return!1};n.initializeDefaultPlugins=function(){return null!=n.activePlugin?!0:n._pluginsRegistered?!1:n.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};n.isReady=function(){return null!=n.activePlugin};n.getCapabilities=function(){return null==n.activePlugin?null:n.activePlugin._capabilities};n.getCapability=function(t){return null==n.activePlugin?null:n.activePlugin._capabilities[t]};n.initLoad=function(t,i,r,u,f){t=t.replace(f,"");var e=n.registerSound(t,r,u,!1,f);return null==e?!1:e};n.registerSound=function(i,r,u,f,e){var o,h,s;if(!n.initializeDefaultPlugins()||(o=(i instanceof Object&&(e=r,r=i.id,u=i.data,i=i.src),n.alternateExtensions.length)?n._parsePath2(i,"sound",r,u):n._parsePath(i,"sound",r,u),null==o))return!1;if(null!=e&&(i=e+i,o.src=e+o.src),null!=r&&(n._idHash[r]=o.src),h=null,null!=u&&(isNaN(u.channels)?isNaN(u)||(h=parseInt(u)):h=parseInt(u.channels)),s=n.activePlugin.register(o.src,h),null!=s&&(null!=s.numChannels&&(h=s.numChannels),t.create(o.src,h),null!=u&&isNaN(u)?u.channels=o.data.channels=h||t.maxPerChannel():u=o.data=h||t.maxPerChannel(),null!=s.tag?o.tag=s.tag:s.src&&(o.src=s.src),null!=s.completeHandler&&(o.completeHandler=s.completeHandler),s.type&&(o.type=s.type)),0!=f)if(n._preloadHash[o.src]||(n._preloadHash[o.src]=[]),n._preloadHash[o.src].push({src:i,id:r,data:u}),1==n._preloadHash[o.src].length)n.activePlugin.preload(o.src,s);else if(1==n._preloadHash[o.src][0])return!0;return o};n.registerManifest=function(n,t){for(var r=[],i=0,u=n.length;u>i;i++)r[i]=createjs.Sound.registerSound(n[i].src,n[i].id,n[i].data,n[i].preload,t);return r};n.removeSound=function(i,r){var u,f;if(null==n.activePlugin||(u=(i instanceof Object&&(i=i.src),i=n._getSrcById(i),n.alternateExtensions.length)?n._parsePath2(i):n._parsePath(i),null==u))return!1;null!=r&&(u.src=r+u.src);i=u.src;for(f in n._idHash)n._idHash[f]==i&&delete n._idHash[f];return t.removeSrc(i),delete n._preloadHash[i],n.activePlugin.removeSound(i),!0};n.removeManifest=function(n,t){for(var r=[],i=0,u=n.length;u>i;i++)r[i]=createjs.Sound.removeSound(n[i].src,t);return r};n.removeAllSounds=function(){n._idHash={};n._preloadHash={};t.removeAll();n.activePlugin.removeAllSounds()};n.loadComplete=function(t){var i;return i=n.alternateExtensions.length?n._parsePath2(t,"sound"):n._parsePath(t,"sound"),t=i?n._getSrcById(i.src):n._getSrcById(t),1==n._preloadHash[t][0]};n._parsePath=function(t,i,r,u){var f,c,o,l,s;if("string"!=typeof t&&(t=t.toString()),f=t.split(n.DELIMITER),f.length>1)try{console.log('createjs.Sound.DELIMITER "|" loading approach has been deprecated. Please use the new alternateExtensions property.')}catch(y){}for(var e={type:i||"sound",id:r,data:u},a=n.getCapabilities(),h=0,v=f.length;v>h;h++){if(c=f[h],o=c.match(n.FILE_PATTERN),null==o)return!1;if(l=o[4],s=o[5],a[s]&&createjs.indexOf(n.SUPPORTED_EXTENSIONS,s)>-1)return e.name=l,e.src=c,e.extension=s,e}return null};n._parsePath2=function(t,i,r,u){var f,e;if("string"!=typeof t&&(t=t.toString()),f=t.match(n.FILE_PATTERN),null==f)return!1;for(var h=f[4],o=f[5],c=n.getCapabilities(),s=0;!c[o];)if(o=n.alternateExtensions[s++],s>n.alternateExtensions.length)return null;return t=t.replace("."+f[5],"."+o),e={type:i||"sound",id:r,data:u},e.name=h,e.src=t,e.extension=o,e};n.play=function(t,i,r,u,f,e,o){var s=n.createInstance(t),h=n._playInstance(s,i,r,u,f,e,o);return h||s.playFailed(),s};n.createInstance=function(i){var u,f;return n.initializeDefaultPlugins()?(u=(i=n._getSrcById(i),n.alternateExtensions.length)?n._parsePath2(i,"sound"):n._parsePath(i,"sound"),f=null,null!=u&&null!=u.src?(t.create(u.src),f=n.activePlugin.create(u.src)):f=r._defaultSoundInstance,f.uniqueId=n._lastID++,f):n._defaultSoundInstance};n.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),n._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var r=this._instances,i=0,u=r.length;u>i;i++)r[i].setMasterVolume(t)};n.getVolume=function(){return n._masterVolume};n.setMute=function(n){if(null==n||void 0==n)return!1;if(this._masterMute=n,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(n))for(var i=this._instances,t=0,r=i.length;r>t;t++)i[t].setMasterMute(n);return!0};n.getMute=function(){return this._masterMute};n.stop=function(){for(var n=this._instances,t=n.length;t--;)n[t].stop()};n._playInstance=function(t,i,r,u,f,e,o){var s,h;if(i instanceof Object&&(r=i.delay,u=i.offset,f=i.loop,e=i.volume,o=i.pan,i=i.interrupt),i=i||n.defaultInterruptBehavior,null==r&&(r=0),null==u&&(u=t.getPosition()),null==f&&(f=0),null==e&&(e=t.volume),null==o&&(o=t.pan),0==r){if(s=n._beginPlaying(t,i,u,f,e,o),!s)return!1}else h=setTimeout(function(){n._beginPlaying(t,i,u,f,e,o)},r),t._delayTimeoutId=h;return this._instances.push(t),!0};n._beginPlaying=function(n,i,r,u,f,e){var s,o;return t.add(n,i)?(s=n._beginPlaying(r,u,f,e),!s)?(o=createjs.indexOf(this._instances,n),o>-1&&this._instances.splice(o,1),!1):!0:!1};n._getSrcById=function(t){return null==n._idHash||null==n._idHash[t]?t:n._idHash[t]};n._playFinished=function(n){t.remove(n);var i=createjs.indexOf(this._instances,n);i>-1&&this._instances.splice(i,1)};createjs.Sound=r;t.channels={};t.create=function(n,i){var r=t.get(n);return null==r?(t.channels[n]=new t(n,i),!0):!1};t.removeSrc=function(n){var i=t.get(n);return null==i?!1:(i.removeAll(),delete t.channels[n],!0)};t.removeAll=function(){for(var n in t.channels)t.channels[n].removeAll();t.channels={}};t.add=function(n,i){var r=t.get(n.src);return null==r?!1:r.add(n,i)};t.remove=function(n){var i=t.get(n.src);return null==i?!1:(i.remove(n),!0)};t.maxPerChannel=function(){return i.maxDefault};t.get=function(n){return t.channels[n]};i=t.prototype;i.src=null;i.max=null;i.maxDefault=100;i.length=0;i.init=function(n,t){this.src=n;this.max=t||this.maxDefault;-1==this.max&&(this.max=this.maxDefault);this._instances=[]};i.get=function(n){return this._instances[n]};i.add=function(n,t){return this.getSlot(t,n)?(this._instances.push(n),this.length++,!0):!1};i.remove=function(n){var t=createjs.indexOf(this._instances,n);return-1==t?!1:(this._instances.splice(t,1),this.length--,!0)};i.removeAll=function(){for(var n=this.length-1;n>=0;n--)this._instances[n].stop()};i.getSlot=function(n){for(var t,i,u=0,f=this.max;f>u;u++){if(t=this.get(u),null==t)return!0;(n!=r.INTERRUPT_NONE||t.playState==r.PLAY_FINISHED)&&(0!=u?t.playState==r.PLAY_FINISHED||t.playState==r.PLAY_INTERRUPTED||t.playState==r.PLAY_FAILED?i=t:(n==r.INTERRUPT_EARLY&&t.getPosition()<i.getPosition()||n==r.INTERRUPT_LATE&&t.getPosition()>i.getPosition())&&(i=t):i=t)}return null!=i?(i._interrupt(),this.remove(i),!0):!1};i.toString=function(){return"[Sound SoundChannel]"};r._defaultSoundInstance=new f;u.init=function(){var n=window.navigator.userAgent;u.isFirefox=n.indexOf("Firefox")>-1;u.isOpera=null!=window.opera;u.isChrome=n.indexOf("Chrome")>-1;u.isIOS=n.indexOf("iPod")>-1||n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1;u.isAndroid=n.indexOf("Android")>-1;u.isBlackberry=n.indexOf("Blackberry")>-1};u.init();createjs.Sound.BrowserDetect=u}();this.createjs=this.createjs||{},function(){"use strict";function i(){this._init()}var n=i,t;n._capabilities=null;n.isSupported=function(){var t=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"!=location.protocol||t||this._isFileXHRSupported()?(n._generateCapabilities(),null==n.context?!1:!0):!1};n._isFileXHRSupported=function(){var n=!0,t=new XMLHttpRequest;try{t.open("GET","fail.fail",!1)}catch(i){return n=!1}t.onerror=function(){n=!1};t.onload=function(){n=404==this.status||200==this.status||0==this.status&&""!=this.response};try{t.send()}catch(i){n=!1}return n};n._generateCapabilities=function(){var t,i,u;if(null==n._capabilities){if(t=document.createElement("audio"),null==t.canPlayType)return null;if(window.webkitAudioContext)n.context=new webkitAudioContext;else{if(!window.AudioContext)return null;n.context=new AudioContext}n._compatibilitySetUp();n.playEmptySound();n._capabilities={panning:!0,volume:!0,tracks:-1};for(var f=createjs.Sound.SUPPORTED_EXTENSIONS,e=createjs.Sound.EXTENSION_MAP,r=0,o=f.length;o>r;r++)i=f[r],u=e[i]||i,n._capabilities[i]="no"!=t.canPlayType("audio/"+i)&&""!=t.canPlayType("audio/"+i)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u);n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1);n.dynamicsCompressorNode=n.context.createDynamicsCompressor();n.dynamicsCompressorNode.connect(n.context.destination);n.gainNode=n.context.createGain();n.gainNode.connect(n.dynamicsCompressorNode)}};n._compatibilitySetUp=function(){if(!n.context.createGain){n.context.createGain=n.context.createGainNode;var t=n.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn;t.__proto__.stop=t.__proto__.noteOff;this._panningModel=0}};n.playEmptySound=function(){var t=this.context.createBuffer(1,1,22050),n=this.context.createBufferSource();n.buffer=t;n.connect(this.context.destination);n.start(0,0,0)};t=i.prototype;t._capabilities=null;t._volume=1;t.context=null;t._panningModel="equalpower";t.dynamicsCompressorNode=null;t.gainNode=null;t._arrayBuffers=null;t._init=function(){this._capabilities=n._capabilities;this._arrayBuffers={};this.context=n.context;this.gainNode=n.gainNode;this.dynamicsCompressorNode=n.dynamicsCompressorNode};t.register=function(n){this._arrayBuffers[n]=!0;var t=new createjs.WebAudioPlugin.Loader(n,this);return{tag:t}};t.isPreloadStarted=function(n){return null!=this._arrayBuffers[n]};t.isPreloadComplete=function(n){return!(null==this._arrayBuffers[n]||1==this._arrayBuffers[n])};t.removeSound=function(n){delete this._arrayBuffers[n]};t.removeAllSounds=function(){this._arrayBuffers={}};t.addPreloadResults=function(n,t){this._arrayBuffers[n]=t};t._handlePreloadComplete=function(){createjs.Sound._sendFileLoadEvent(this.src)};t.preload=function(n){this._arrayBuffers[n]=!0;var t=new createjs.WebAudioPlugin.Loader(n,this);t.onload=this._handlePreloadComplete;t.load()};t.create=function(n){return this.isPreloadStarted(n)||this.preload(n),new createjs.WebAudioPlugin.SoundInstance(n,this)};t.setVolume=function(n){return this._volume=n,this._updateVolume(),!0};t._updateVolume=function(){var n=createjs.Sound._masterMute?0:this._volume;n!=this.gainNode.gain.value&&(this.gainNode.gain.value=n)};t.getVolume=function(){return this._volume};t.setMute=function(){return this._updateVolume(),!0};t.toString=function(){return"[WebAudioPlugin]"};createjs.WebAudioPlugin=i}(),function(){"use strict";function t(n,t){this._init(n,t)}var n=t.prototype=new createjs.EventDispatcher;n.src=null;n.uniqueId=-1;n.playState=null;n._owner=null;n._offset=0;n._delay=0;n._volume=1;try{Object.defineProperty(n,"volume",{get:function(){return this._volume},set:function(n){return null==Number(n)?!1:(n=Math.max(0,Math.min(1,n)),this._volume=n,this._updateVolume(),void 0)}})}catch(i){}n._pan=0;try{Object.defineProperty(n,"pan",{get:function(){return this._pan},set:function(n){return this._owner._capabilities.panning&&null!=Number(n)?(n=Math.max(-1,Math.min(1,n)),this._pan=n,this.panNode.setPosition(n,0,-.5),void 0):!1}})}catch(i){}n._duration=0;n._remainingLoops=0;n._delayTimeoutId=null;n._soundCompleteTimeout=null;n.gainNode=null;n.panNode=null;n.sourceNode=null;n._sourceNodeNext=null;n._muted=!1;n._paused=!1;n._startTime=0;n._endedHandler=null;n._sendEvent=function(n){var t=new createjs.Event(n);this.dispatchEvent(t)};n._init=function(n,t){this._owner=t;this.src=n;this.gainNode=this._owner.context.createGain();this.panNode=this._owner.context.createPanner();this.panNode.panningModel=this._owner._panningModel;this.panNode.connect(this.gainNode);this._owner.isPreloadComplete(this.src)&&(this._duration=1e3*this._owner._arrayBuffers[this.src].duration);this._endedHandler=createjs.proxy(this._handleSoundComplete,this)};n._cleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext));0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._delayTimeoutId);clearTimeout(this._soundCompleteTimeout);this._startTime=0;null!=window.createjs&&createjs.Sound._playFinished(this)};n._cleanUpAudioNode=function(n){return n&&(n.stop(0),n.disconnect(this.panNode),n=null),n};n._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._paused=!1;this._sendEvent("interrupted")};n._handleSoundReady=function(){if(null!=window.createjs){if(1e3*this._offset>this.getDuration())return this.playFailed(),void 0;this._offset<0&&(this._offset=0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this._paused=!1;this.gainNode.connect(this._owner.gainNode);var n=this._owner._arrayBuffers[this.src].duration;this.sourceNode=this._createAndPlayAudioNode(this._owner.context.currentTime-n,this._offset);this._duration=1e3*n;this._startTime=this.sourceNode.startTime-this._offset;this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(n-this._offset));0!=this._remainingLoops&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0))}};n._createAndPlayAudioNode=function(n,t){var i=this._owner.context.createBufferSource();return i.buffer=this._owner._arrayBuffers[this.src],i.connect(this.panNode),this._owner.context.currentTime,i.startTime=n+i.buffer.duration,i.start(i.startTime,t,i.buffer.duration-t),i};n.play=function(n,t,i,r,u,f){this._cleanUp();createjs.Sound._playInstance(this,n,t,i,r,u,f)};n._beginPlaying=function(n,t,i,r){if(null!=window.createjs&&this.src)return(this._offset=n/1e3,this._remainingLoops=t,this.volume=i,this.pan=r,this._owner.isPreloadComplete(this.src)?(this._handleSoundReady(null),this._sendEvent("succeeded"),1):(this.playFailed(),void 0))};n.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this._paused=!0,this._offset=this._owner.context.currentTime-this._startTime,this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(),clearTimeout(this._delayTimeoutId),clearTimeout(this._soundCompleteTimeout),!0)};n.resume=function(){return this._paused?(this._handleSoundReady(null),!0):!1};n.stop=function(){return this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._offset=0,!0};n.setVolume=function(n){return this.volume=n,!0};n._updateVolume=function(){var n=this._muted?0:this._volume;return n!=this.gainNode.gain.value?(this.gainNode.gain.value=n,!0):!1};n.getVolume=function(){return this.volume};n.setMute=function(n){return null==n||void 0==n?!1:(this._muted=n,this._updateVolume(),!0)};n.getMute=function(){return this._muted};n.setPan=function(n){return this.pan=n,this.pan!=n?!1:void 0};n.getPan=function(){return this.pan};n.getPosition=function(){var n;return n=this._paused||null==this.sourceNode?this._offset:this._owner.context.currentTime-this._startTime,1e3*n};n.setPosition=function(n){return this._offset=n/1e3,this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout)),this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this._handleSoundReady(null),!0};n.getDuration=function(){return this._duration};n._handleSoundComplete=function(){return this._offset=0,0!=this._remainingLoops?(this._remainingLoops--,this._sourceNodeNext?(this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._startTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)):this._handleSoundReady(null),this._sendEvent("loop"),void 0):(null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")),void 0)};n.playFailed=function(){null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed"))};n.toString=function(){return"[WebAudioPlugin SoundInstance]"};createjs.WebAudioPlugin.SoundInstance=t}(),function(){"use strict";function t(n,t){this._init(n,t)}var n=t.prototype;n.request=null;n.owner=null;n.progress=-1;n.src=null;n.originalSrc=null;n.result=null;n.onload=null;n.onprogress=null;n.onError=null;n._init=function(n,t){this.src=n;this.originalSrc=n;this.owner=t};n.load=function(n){null!=n&&(this.src=n);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()};n.handleProgress=function(n,t){this.progress=n/t;null!=this.onprogress&&this.onprogress({loaded:n,total:t,progress:this.progress})};n.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))};n.handleAudioDecoded=function(n){this.progress=1;this.result=n;this.src=this.originalSrc;this.owner.addPreloadResults(this.src,this.result);this.onload&&this.onload()};n.handleError=function(n){this.owner.removeSound(this.src);this.onerror&&this.onerror(n)};n.toString=function(){return"[WebAudioPlugin Loader]"};createjs.WebAudioPlugin.Loader=t}();this.createjs=this.createjs||{},function(){"use strict";function i(){this._init()}var n=i,t;n.MAX_INSTANCES=30;n._AUDIO_READY="canplaythrough";n._AUDIO_ENDED="ended";n._AUDIO_SEEKED="seeked";n._AUDIO_STALLED="stalled";n._capabilities=null;n.enableIOS=!1;n.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!n.enableIOS)return!1;n._generateCapabilities();var t=n.tag;return null==t||null==n._capabilities?!1:!0};n._generateCapabilities=function(){var t,i,u;if(null==n._capabilities){if(t=n.tag=document.createElement("audio"),null==t.canPlayType)return null;n._capabilities={panning:!0,volume:!0,tracks:-1};for(var f=createjs.Sound.SUPPORTED_EXTENSIONS,e=createjs.Sound.EXTENSION_MAP,r=0,o=f.length;o>r;r++)i=f[r],u=e[i]||i,n._capabilities[i]="no"!=t.canPlayType("audio/"+i)&&""!=t.canPlayType("audio/"+i)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u)}};t=i.prototype;t._capabilities=null;t._audioSources=null;t.defaultNumChannels=2;t.loadedHandler=null;t._init=function(){this._capabilities=n._capabilities;this._audioSources={}};t.register=function(n,t){var f;this._audioSources[n]=!0;for(var e=createjs.HTMLAudioPlugin.TagPool.get(n),i=null,r=t||this.defaultNumChannels,u=0;r>u;u++)i=this._createTag(n),e.add(i);return(i.id=n,this.loadedHandler=createjs.proxy(this._handleTagLoad,this),i.addEventListener&&i.addEventListener("canplaythrough",this.loadedHandler),null==i.onreadystatechange)?i.onreadystatechange=this.loadedHandler:(f=i.onreadystatechange,i.onreadystatechange=function(){f();this.loadedHandler()}),{tag:i,numChannels:r}};t._handleTagLoad=function(n){n.target.removeEventListener&&n.target.removeEventListener("canplaythrough",this.loadedHandler);n.target.onreadystatechange=null;n.target.src!=n.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(n.target.id)};t._createTag=function(n){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=n,t};t.removeSound=function(n){delete this._audioSources[n];createjs.HTMLAudioPlugin.TagPool.remove(n)};t.removeAllSounds=function(){this._audioSources={};createjs.HTMLAudioPlugin.TagPool.removeAll()};t.create=function(n){if(!this.isPreloadStarted(n)){var i=createjs.HTMLAudioPlugin.TagPool.get(n),t=this._createTag(n);t.id=n;i.add(t);this.preload(n,{tag:t})}return new createjs.HTMLAudioPlugin.SoundInstance(n,this)};t.isPreloadStarted=function(n){return null!=this._audioSources[n]};t.preload=function(n,t){this._audioSources[n]=!0;new createjs.HTMLAudioPlugin.Loader(n,t.tag)};t.toString=function(){return"[HTMLAudioPlugin]"};createjs.HTMLAudioPlugin=i}(),function(){"use strict";function t(n,t){this._init(n,t)}var n=t.prototype=new createjs.EventDispatcher;n.src=null;n.uniqueId=-1;n.playState=null;n._owner=null;n.loaded=!1;n._offset=0;n._delay=0;n._volume=1;try{Object.defineProperty(n,"volume",{get:function(){return this._volume},set:function(n){null!=Number(n)&&(n=Math.max(0,Math.min(1,n)),this._volume=n,this._updateVolume())}})}catch(i){}n.pan=0;n._duration=0;n._remainingLoops=0;n._delayTimeoutId=null;n.tag=null;n._muted=!1;n._paused=!1;n._endedHandler=null;n._readyHandler=null;n._stalledHandler=null;n.loopHandler=null;n._init=function(n,t){this.src=n;this._owner=t;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleSoundReady,this);this._stalledHandler=createjs.proxy(this._handleSoundStalled,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)};n._sendEvent=function(n){var t=new createjs.Event(n);this.dispatchEvent(t)};n._cleanUp=function(){var n=this.tag;if(null!=n){n.pause();n.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1);n.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);n.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{n.currentTime=0}catch(t){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,n);this.tag=null}clearTimeout(this._delayTimeoutId);null!=window.createjs&&createjs.Sound._playFinished(this)};n._interrupt=function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this._cleanUp(),this._paused=!1,this._sendEvent("interrupted"))};n.play=function(n,t,i,r,u,f){this._cleanUp();createjs.Sound._playInstance(this,n,t,i,r,u,f)};n._beginPlaying=function(n,t,i,r){if(null==window.createjs)return-1;var u=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==u?(this.playFailed(),-1):(u.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._offset=n,this.volume=i,this.pan=r,this._updateVolume(),this._remainingLoops=t,4!==u.readyState?(u.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),u.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),u.preload="auto",u.load()):this._handleSoundReady(null),this._sendEvent("succeeded"),1)};n._handleSoundStalled=function(){this._cleanUp();this._sendEvent("failed")};n._handleSoundReady=function(){if(null!=window.createjs){if(this._duration=1e3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this._paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._offset>=this.getDuration())return this.playFailed(),void 0;this._offset>0&&(this.tag.currentTime=.001*this._offset);-1==this._remainingLoops&&(this.tag.loop=!0);0!=this._remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0);this.tag.play()}};n.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==this.tag?!1:(this._paused=!0,this.tag.pause(),clearTimeout(this._delayTimeoutId),!0)};n.resume=function(){return this._paused&&null!=this.tag?(this._paused=!1,this.tag.play(),!0):!1};n.stop=function(){return this._offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),!0};n.setMasterVolume=function(){return this._updateVolume(),!0};n.setVolume=function(n){return this.volume=n,!0};n._updateVolume=function(){if(null!=this.tag){var n=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;return n!=this.tag.volume&&(this.tag.volume=n),!0}return!1};n.getVolume=function(){return this.volume};n.setMasterMute=function(){return this._updateVolume(),!0};n.setMute=function(n){return null==n||void 0==n?!1:(this._muted=n,this._updateVolume(),!0)};n.getMute=function(){return this._muted};n.setPan=function(){return!1};n.getPan=function(){return 0};n.getPosition=function(){return null==this.tag?this._offset:1e3*this.tag.currentTime};n.setPosition=function(n){if(null==this.tag)this._offset=n;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=.001*n}catch(t){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1)}return!0};n.getDuration=function(){return this._duration};n._handleSoundComplete=function(){this._offset=0;null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),this._sendEvent("complete"))};n.handleSoundLoop=function(){this._offset=0;this._remainingLoops--;0==this._remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1));this._sendEvent("loop")};n.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this._cleanUp(),this._sendEvent("failed"))};n.toString=function(){return"[HTMLAudioPlugin SoundInstance]"};createjs.HTMLAudioPlugin.SoundInstance=t}(),function(){"use strict";function t(n,t){this._init(n,t)}var n=t.prototype;n.src=null;n.tag=null;n.preloadTimer=null;n.loadedHandler=null;n._init=function(n,t){if(this.src=n,this.tag=t,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var i=this.tag.onreadystatechange;this.tag.onreadystatechange=function(){i();this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto";this.tag.load()};n.preloadTick=function(){var n=this.tag.buffered,t=this.tag.duration;n.length>0&&n.end(0)>=t-1&&this.handleTagLoaded()};n.handleTagLoaded=function(){clearInterval(this.preloadTimer)};n.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=null;createjs.Sound._sendFileLoadEvent(this.src)};n.toString=function(){return"[HTMLAudioPlugin Loader]"};createjs.HTMLAudioPlugin.Loader=t}(),function(){"use strict";function i(n){this._init(n)}var n=i,t;n.tags={};n.get=function(t){var r=n.tags[t];return null==r&&(r=n.tags[t]=new i(t)),r};n.remove=function(t){var i=n.tags[t];return null==i?!1:(i.removeAll(),delete n.tags[t],!0)};n.removeAll=function(){for(var t in n.tags)n.tags[t].removeAll();n.tags={}};n.getInstance=function(t){var i=n.tags[t];return null==i?null:i.get()};n.setInstance=function(t,i){var r=n.tags[t];return null==r?null:r.set(i)};n.checkSrc=function(t){var i=n.tags[t];return null==i?null:(i.checkSrcChange(),void 0)};t=i.prototype;t.src=null;t.length=0;t.available=0;t.tags=null;t._init=function(n){this.src=n;this.tags=[]};t.add=function(n){this.tags.push(n);this.length++;this.available++};t.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null;this.tags.length=0};t.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var n=this.tags.pop();return null==n.parentNode&&document.body.appendChild(n),n};t.set=function(n){var t=createjs.indexOf(this.tags,n);-1==t&&this.tags.push(n);this.available=this.tags.length};t.checkSrcChange=function(){for(var n=this.tags.length-1,t=this.tags[n].src;n--;)this.tags[n].src=t};t.toString=function(){return"[HTMLAudioPlugin TagPool]"};createjs.HTMLAudioPlugin.TagPool=i}(),function(n){n(["jquery"],function(n){return function(){function a(n,t,r){return f({type:u.error,iconClass:i().iconClasses.error,message:n,optionsOverride:r,title:t})}function v(n,t,r){return f({type:u.info,iconClass:i().iconClasses.info,message:n,optionsOverride:r,title:t})}function y(n){e=n}function p(n,t,r){return f({type:u.success,iconClass:i().iconClasses.success,message:n,optionsOverride:r,title:t})}function w(n,t,r){return f({type:u.warning,iconClass:i().iconClasses.warning,message:n,optionsOverride:r,title:t})}function b(n){var u=i();t||r(u);c(n,u)||d(u)}function k(u){var f=i();if(t||r(f),u&&n(":focus",u).length===0){o(u);return}t.children().length&&t.remove()}function d(i){for(var u=t.children(),r=u.length-1;r>=0;r--)c(n(u[r]),i)}function c(t,i){return t&&n(":focus",t).length===0?(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){o(t)}}),!0):!1}function g(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:undefined,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:undefined,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;<\/button>",newestOnTop:!0}}function l(n){e&&e(n)}function f(u){function c(t){if(!n(":focus",e).length||t)return e[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){o(e);f.onHidden&&h.state!=="hidden"&&f.onHidden();h.state="hidden";h.endTime=new Date;l(h)}})}function b(){(f.timeOut>0||f.extendedTimeOut>0)&&(y=setTimeout(c,f.extendedTimeOut))}function k(){clearTimeout(y);e.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}var f=i(),v=u.iconClass||f.iconClass;typeof u.optionsOverride!="undefined"&&(f=n.extend(f,u.optionsOverride),v=u.optionsOverride.iconClass||v);s++;t=r(f);var y=null,e=n("<div/>"),p=n("<div/>"),w=n("<div/>"),a=n(f.closeHtml),h={toastId:s,state:"visible",startTime:new Date,options:f,map:u};return u.iconClass&&e.addClass(f.toastClass).addClass(v),u.title&&(p.append(u.title).addClass(f.titleClass),e.append(p)),u.message&&(w.append(u.message).addClass(f.messageClass),e.append(w)),f.closeButton&&(a.addClass("toast-close-button").attr("role","button"),e.prepend(a)),e.hide(),f.newestOnTop?t.prepend(e):t.append(e),e[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(y=setTimeout(c,f.timeOut)),e.hover(k,b),!f.onclick&&f.tapToDismiss&&e.click(c),f.closeButton&&a&&a.click(function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble!==undefined&&n.cancelBubble!==!0&&(n.cancelBubble=!0);c(!0)}),f.onclick&&e.click(function(){f.onclick();c()}),l(h),f.debug&&console&&console.log(h),e}function r(r){return(r||(r=i()),t=n("#"+r.containerId),t.length)?t:(t=n("<div/>").attr("id",r.containerId).addClass(r.positionClass).attr("aria-live","polite").attr("role","alert"),t.appendTo(n(r.target)),t)}function i(){return n.extend({},g(),h.options)}function o(n){(t||(t=r()),n.is(":visible"))||(n.remove(),n=null,t.children().length===0&&t.remove())}var t,e,s=0,u={error:"error",info:"info",success:"success",warning:"warning"},h={clear:b,remove:k,error:a,getContainer:r,info:v,options:{},subscribe:y,success:p,version:"2.0.2",warning:w};return h}()})}(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});
/*
//# sourceMappingURL=all.min.js.map
*/